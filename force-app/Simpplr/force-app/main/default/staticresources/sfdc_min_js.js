(Simpplr=Simpplr||{}).Salesforce=Simpplr.Salesforce||{},Simpplr.Salesforce={Endpoints:{ReadOnly:__isApexRestEnabled?"unmanaged"===__packageVersion?"/services/apexrest/DataServerRO":"/services/apexrest/Simpplr/DataServerRO":"/apex/DataServerRO",ReadWrite:__isApexRestEnabled?"unmanaged"===__packageVersion?"/services/apexrest/DataServerRW":"/services/apexrest/Simpplr/DataServerRW":"/apex/DataServerRW"},RestEndpoints:{ReadOnly:__salesforceOrgDomainUrl+("unmanaged"===__packageVersion?"/services/apexrest/DataServerRO":"/services/apexrest/Simpplr/DataServerRO"),ReadWrite:__salesforceOrgDomainUrl+("unmanaged"===__packageVersion?"/services/apexrest/DataServerRW":"/services/apexrest/Simpplr/DataServerRW")},VisualforceEndpoints:{ReadOnly:"/apex/DataServerRO",ReadWrite:"/apex/DataServerRW"},Links:{FileDetail:"/apex/FileDetail"},sendRequest:function(a,e){var o=e||$.Deferred();return $.ajax({type:a.method,url:a.endpoint,data:a.data,beforeSend:function(e){a.endpoint.includes("/services/apexrest/")?e.setRequestHeader("Authorization","Bearer "+__sfdcSessionId):(e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb",a.method))}}).done(function(e){null!=e&&"success"===(e.status||"").toLowerCase()?o.resolve(e):(void 0!==e.message&&0<=e.message.indexOf("STORAGE_LIMIT_EXCEEDED")&&(e.message="Unable to perform action - storage full"),o.reject(e))}).fail(function(e){var t,n,r;void 0!==e.responseJSON&&void 0!==e.responseJSON[0].errorCode&&"REQUEST_LIMIT_EXCEEDED"===e.responseJSON[0].errorCode?(__isApexRestEnabled=!1,Simpplr.Salesforce.Endpoints={ReadOnly:"/apex/DataServerRO",ReadWrite:"/apex/DataServerRW"},a.endpoint.includes("DataServerRW")&&(a.endpoint=Simpplr.Salesforce.Endpoints.ReadWrite+a.endpoint.substr(a.endpoint.indexOf("?"))),a.endpoint.includes("DataServerRO")&&(a.endpoint=Simpplr.Salesforce.Endpoints.ReadOnly+a.endpoint.substr(a.endpoint.indexOf("?"))),Simpplr.Salesforce.sendRequest(a,o)):(t={status:"error",message:null,i18nmessage:null,result:null},__isApexRestEnabled&&(t.result=e.responseText),void 0!==e&&void 0!==e.responseText&&(n=(e=e.responseText).indexOf('id="theErrorPage:theError"'),0<=e.indexOf("<html"))&&0<=e.indexOf("</html>")&&(0<=n?(r="",r=(r=e.substring(n,e.length)).substring(r.indexOf(">")+1,r.indexOf("</span>")),Simpplr.Salesforce.log(r),t.message=r,t.i18nmessage=r):0<=e.indexOf("/visualforce/session")&&(t.message="SESSION_TIMEOUT",t.i18nmessage="SESSION_TIMEOUT")),o.reject(t))}),o},sendVisualforceRequest:function(t,e){var a=e||$.Deferred();return $.ajax({type:t.method,url:t.endpoint,data:t.data,beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb",t.method)}}).done(function(e){null!=e&&"success"===(e.status||"").toLowerCase()?a.resolve(e):(void 0!==e.message&&0<=e.message.indexOf("STORAGE_LIMIT_EXCEEDED")&&(e.message="Unable to perform action - storage full"),a.reject(e))}).fail(function(e){var t,n,r={status:"error",message:null,i18nmessage:null,result:null};void 0!==e&&void 0!==e.responseText&&(t=(e=e.responseText).indexOf('id="theErrorPage:theError"'),0<=e.indexOf("<html"))&&0<=e.indexOf("</html>")&&(0<=t?(n="",n=(n=e.substring(t,e.length)).substring(n.indexOf(">")+1,n.indexOf("</span>")),Simpplr.Salesforce.log(n),r.message=n,r.i18nmessage=n):0<=e.indexOf("/visualforce/session")&&(r.message="SESSION_TIMEOUT",r.i18nmessage="SESSION_TIMEOUT")),a.reject(r)}),a},sendApexRestRequest:function(t){var n=$.Deferred();return $.ajax({type:t.method,url:t.endpoint,data:t.data,beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+__sfdcSessionId)}}).done(function(e){null!=e&&"success"===(e.status||"").toLowerCase()?n.resolve(e):n.reject(e)}).fail(function(e){void 0!==e.responseJSON&&void 0!==e.responseJSON[0].errorCode&&"REQUEST_LIMIT_EXCEEDED"===e.responseJSON[0].errorCode?(t.endpoint.includes("DataServerRW")&&(t.endpoint=Simpplr.Salesforce.VisualforceEndpoints.ReadWrite+t.endpoint.substr(t.endpoint.indexOf("?"))),t.endpoint.includes("DataServerRO")&&(t.endpoint=Simpplr.Salesforce.VisualforceEndpoints.ReadOnly+t.endpoint.substr(t.endpoint.indexOf("?"))),Simpplr.Salesforce.sendVisualforceRequest(t,n)):(e={status:"error",message:"Could not perform action",i18nmessage:null,result:e.responseText},n.reject(e))}),n},setQueryParamToForm:function(){$.each($.QueryString,function(e,t){$("[name="+e+"]").val(t)})},rejectAjaxcall:function(){var e=$.Deferred();return e.reject("Invalid parameters passed to method."),e},log:function(){Simpplr.Settings.isJsDebugEnabled&&console.log.apply(console,arguments)}},Simpplr.Salesforce.Embedly=function(t){var e={oembed:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=UtilityDataServer&action=oembed"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Feed=Simpplr.Salesforce.Feed||{},Simpplr.Salesforce.localRepo=Simpplr.Salesforce.localRepo||{},Simpplr.Salesforce.localRepo.feedIdsInViewPort=Simpplr.Salesforce.localRepo.feedIdsInViewPort||[],Simpplr.Salesforce.Feed=function(m){var e={User:{}},t={Utility:{}};return String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return this.indexOf(e,t=t||0)===t}),t.Utility.uint8ToString=function(e){for(var t="",n=0,r=e.length;n<r;n+=1)t+=String.fromCharCode(e[n]);return t},t.Utility.isFunction=function(e){return"function"==typeof e},e.delete=function(e,t){var n;if(void 0!==t&&void 0!==e)return n={},"post"===e?(n.feedElementId=t,n.communityId=null,n.action="deletefeed"):(n.commentId=t,n.communityId=null,n.action="deletecomment"),m.Salesforce.sendRequest({data:{data:JSON.stringify(n)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"});m.Salesforce.rejectAjaxcall()},e.setFavorited=function(e,t){if(void 0!==e&&void 0!==t)return m.Salesforce.sendRequest({data:{data:JSON.stringify({feedElementId:e,communityId:null,action:"toggleFavorite",setBookmark:t})},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"});m.Salesforce.rejectAjaxcall()},e.create=function(e,t){if(t.bodyJson=JSON.stringify(t.bodyJson),t.textBodyOfFeed=t.body.replace(/^(#+)|(\s##+)/g," #").trim(),("text"===e||"recognition"===e)&&void 0!==t){if(void 0!==t.listOfFiles&&null!==t.listOfFiles&&0<t.listOfFiles.length){for(var n=[],r=[],a=0;a<t.listOfFiles.length;a++)"gdrive"===t.listOfFiles[a].context.toLowerCase()||"box"===t.listOfFiles[a].context.toLowerCase()||"dropbox"===t.listOfFiles[a].context.toLowerCase()||"onedrive"===t.listOfFiles[a].context.toLowerCase()||"sharepoint"===t.listOfFiles[a].context.toLowerCase()||"googledrive"===t.listOfFiles[a].context.toLowerCase()||"native_video"===t.listOfFiles[a].context.toLowerCase()?r.push(t.listOfFiles[a]):n.push(t.listOfFiles[a].id);if(0<r.length){for(var o="",i="",s="",d=" | ",l="\n",c="⁣\ufeff​\ufeff⁣",a=0;a<r.length;a++)"native_video"===r[a].context.toLowerCase()?o+=l+i+r[a].title+d+r[a].externalFileId+d+r[a].size+d+r[a].type+d+r[a].context+d+r[a].url+s:"box"!==r[a].context.toLowerCase()&&"gdrive"!==r[a].context.toLowerCase()&&"dropbox"!==r[a].context.toLowerCase()&&"onedrive"!==r[a].context.toLowerCase()&&"sharepoint"!==r[a].context.toLowerCase()&&"googledrive"!==r[a].context.toLowerCase()||(o+=l+i+r[a].title+d+r[a].fileId+d+r[a].size+d+r[a].type+d+r[a].context+d+r[a].url+s);o=o.substr(1),t.textBodyOfFeed=t.textBodyOfFeed+c+o}g=0<n.length?{communityId:null,subjectId:t.subjectId,feedElementType:t.type,textBody:t.textBodyOfFeed,bodyJson:t.bodyJson,externalFiles:r,listOfTopic:t.listOfTopics,action:"postFile",locationURL:location.href,listOfAttachedFileId:n,moderationResult:null,recognitionBody:null}:{communityId:null,subjectId:t.subjectId,feedElementType:t.type,textBody:t.textBodyOfFeed,listOfTopic:t.listOfTopics,bodyJson:t.bodyJson,externalFiles:r,action:"posttextpost",locationURL:location.href,moderationResult:null,recognitionBody:null}}else g={communityId:null,subjectId:t.subjectId,feedElementType:t.type,textBody:t.textBodyOfFeed,listOfTopic:t.listOfTopics,bodyJson:t.bodyJson,action:"posttextpost",locationURL:location.href,moderationResult:null,recognitionBody:null};return void 0!==t.moderationResult&&null!==t.moderationResult&&(g.moderationResult=t.moderationResult),void 0!==t.recognition&&null!==t.recognition&&(g.recognitionBody=t.recognition),m.Salesforce.sendRequest({data:{data:JSON.stringify(g)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"})}if("link"===e&&void 0!==t)return g={communityId:null,subjectId:t.subjectId,feedElementType:t.type,textBody:t.textBodyOfFeed,bodyJson:t.bodyJson,urlArg:t.url,urlName:t.name,listOfTopic:t.listOfTopics,action:"postlink",locationURL:location.href,moderationResult:null},void 0!==t.moderationResult&&null!==t.moderationResult&&(g.moderationResult=t.moderationResult),m.Salesforce.sendRequest({data:{data:JSON.stringify(g)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"});if("boxFile"===e&&void 0!==t)return g={communityId:null,subjectId:t.subjectId,feedElementType:t.type,textBody:t.textBodyOfFeed,bodyJson:t.bodyJson,urlArg:t.file.url,urlName:t.file.title,listOfTopic:t.listOfTopics,action:"postlink",locationURL:location.href,moderationResult:null},void 0!==t.moderationResult&&null!==t.moderationResult&&(g.moderationResult=t.moderationResult),m.Salesforce.sendRequest({data:{data:JSON.stringify(g)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"});if("poll"===e&&void 0!==t)return void 0!==t.textBodyOfFeed&&0<t.textBodyOfFeed.indexOf("\n@[005")&&(t.textBodyOfFeed=t.textBodyOfFeed.replace("\n@[005","\n @[005")),g={communityId:null,subjectId:t.subjectId,feedElementType:t.type,textBody:t.textBodyOfFeed,bodyJson:t.bodyJson,listOfPollChoice:t.choices,listOfTopic:t.listOfTopics,action:"postpoll",locationURL:location.href},m.Salesforce.sendRequest({data:{data:JSON.stringify(g)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"});if("boxFileComment"===e&&void 0!==t)return g={communityId:null,feedElementId:t.postId,contentDocumentId:null,textBody:t.body+"\n"+t.file.url,bodyJson:t.bodyJson,action:"postcomment",moderationResult:null},void 0!==t.moderationResult&&null!==t.moderationResult&&(g.moderationResult=t.moderationResult),m.Salesforce.sendRequest({data:{data:JSON.stringify(g)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"});if("comment"===e&&void 0!==t){if(void 0!==t&&void 0!==t.postId&&void 0!==t.body){var S=null;if(void 0!==t.listOfFiles&&null!==t.listOfFiles&&0<t.listOfFiles.length){for(var p=[],f=[],a=0;a<t.listOfFiles.length;a++)("gdrive"===t.listOfFiles[a].context.toLowerCase()||"dropbox"===t.listOfFiles[a].context.toLowerCase()||"box"===t.listOfFiles[a].context.toLowerCase()||"onedrive"===t.listOfFiles[a].context.toLowerCase()||"sharepoint"===t.listOfFiles[a].context.toLowerCase()||"googledrive"===t.listOfFiles[a].context.toLowerCase()||"native_video"===t.listOfFiles[a].context.toLowerCase()?f:p).push(t.listOfFiles[a]);if(0<f.length){for(var u="",i="",s="",d=" | ",l="\n",c="⁣\ufeff​\ufeff⁣",a=0;a<f.length;a++)"native_video"===f[a].context.toLowerCase()?u+=l+i+f[a].title+d+f[a].externalFileId+d+f[a].size+d+f[a].type+d+f[a].context+d+f[a].url+s:"box"!==f[a].context.toLowerCase()&&"gdrive"!==f[a].context.toLowerCase()&&"dropbox"!==f[a].context.toLowerCase()&&"onedrive"!==f[a].context.toLowerCase()&&"sharepoint"!==f[a].context.toLowerCase()&&"googledrive"!==f[a].context.toLowerCase()||(u+=l+i+f[a].title+d+f[a].fileId+d+f[a].size+d+f[a].type+d+f[a].context+d+f[a].url+s);u=u.substr(1),t.body=t.body+c+u}0<p.length&&(S=p[0].id)}var g={communityId:null,feedElementId:t.postId,contentDocumentId:S,textBody:t.body,bodyJson:t.bodyJson,externalFiles:f,action:"postcomment",moderationResult:null};return void 0!==t.moderationResult&&null!==t.moderationResult&&(g.moderationResult=t.moderationResult),m.Salesforce.sendRequest({data:{data:JSON.stringify(g)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"})}m.Salesforce.rejectAjaxcall()}else if("Topic"===e&&void 0!==t)return g={communityId:null,feedElementId:t.postId,listOfTopic:t.listOfTopic,action:"upserttopic"},m.Salesforce.sendRequest({data:{data:JSON.stringify(g)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"})},e.vote=function(e,t){if(void 0!==e&&void 0!==t)return m.Salesforce.sendRequest({data:{data:JSON.stringify({communityId:null,feedElementId:e,myChoiceId:t,action:"voteonpoll"})},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"});m.Salesforce.rejectAjaxcall()},e.share=function(e,t){if(void 0!==e&&void 0!==t)return t.bodyJson=JSON.stringify(t.bodyJson),e={communityId:null,subjectId:t.subjectId,feedElementType:t.type,originalFeedElementId:e,commentText:t.body,bodyJson:t.bodyJson,action:"sharefeed"},m.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=FeedShareDataServer"});m.Salesforce.rejectAjaxcall()},e.setLiked=function(e,t){var n,r=e.likeId,a=e.postId,e=e.replyId;if(void 0!==r&&void 0!==a&&void 0!==e&&void 0!==t)return null===e?(n={},t?(n.feedElementId=a,n.communityId=null,n.action="likefeed"):(n.feedElementId=a,n.likeId=r,n.communityId=null,n.action="unlikefeed"),m.Salesforce.sendRequest({data:{data:JSON.stringify(n)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"})):null!==e?(n={},t?(n.feedElementId=a,n.commentId=e,n.communityId=null,n.action="likecomment"):(n.feedElementId=a,n.likeId=r,n.commentId=e,n.communityId=null,n.action="unlikecomment"),m.Salesforce.sendRequest({data:{data:JSON.stringify(n)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"})):void 0;m.Salesforce.rejectAjaxcall()},e.edit=function(e,t,n){if(n.bodyJson=JSON.stringify(n.bodyJson),void 0!==e&&"topic"==e&&void 0!==n&&void 0!==t)return S={communityId:null,feedElementId:t,listOfTopic:n.listOfTopics,action:"upserttopic"},m.Salesforce.sendRequest({data:{data:JSON.stringify(S)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"});if(void 0!==e&&("post"===e||"recognition"===e)&&void 0!==n&&void 0!==t){if(void 0!==n.listOfFiles&&null!==n.listOfFiles&&0<n.listOfFiles.length){for(var r=[],a=0;a<n.listOfFiles.length;a++)void 0===n.listOfFiles[a].id||null===n.listOfFiles[a].context||"gdrive"!==n.listOfFiles[a].context.toLowerCase()&&"dropbox"!==n.listOfFiles[a].context.toLowerCase()&&"box"!==n.listOfFiles[a].context.toLowerCase()&&"onedrive"!==n.listOfFiles[a].context.toLowerCase()&&"sharepoint"!==n.listOfFiles[a].context.toLowerCase()&&"googledrive"!==n.listOfFiles[a].context.toLowerCase()&&"native_video"!==n.listOfFiles[a].context.toLowerCase()||r.push(n.listOfFiles[a]);if(0<r.length){for(var o="",i="",s="",d=" | ",l="\n",c="⁣\ufeff​\ufeff⁣",a=0;a<r.length;a++)"native_video"===r[a].context.toLowerCase()?o+=l+i+r[a].title+d+r[a].externalFileId+d+r[a].size+d+r[a].type+d+r[a].context+d+r[a].url+s:"box"!==r[a].context.toLowerCase()&&"gdrive"!==r[a].context.toLowerCase()&&"dropbox"!==r[a].context.toLowerCase()&&"onedrive"!==r[a].context.toLowerCase()&&"sharepoint"!==r[a].context.toLowerCase()&&"googledrive"!==r[a].context.toLowerCase()||(o+=l+i+r[a].title+d+r[a].fileId+d+r[a].size+d+r[a].type+d+r[a].context+d+r[a].url+s);o=o.substr(1),n.body=n.body+c+o}}var S={communityId:null,feedElementId:t,textBody:n.body,bodyJson:n.bodyJson,externalFiles:r,action:"updatefeed",locationURL:location.href,moderationResult:null,recognitionBody:null};return void 0!==n.moderationResult&&null!==n.moderationResult&&(S.moderationResult=n.moderationResult),void 0!==n.recognition&&null!==n.recognition&&(S.recognitionBody=n.recognition),m.Salesforce.sendRequest({data:{data:JSON.stringify(S)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"})}if(void 0!==e&&"comment"==e&&void 0!==n&&void 0!==t){if(void 0!==n.listOfFiles&&null!==n.listOfFiles&&0<n.listOfFiles.length){for(var p=[],a=0;a<n.listOfFiles.length;a++)void 0===n.listOfFiles[a].id||null===n.listOfFiles[a].context||"gdrive"!==n.listOfFiles[a].context.toLowerCase()&&"dropbox"!==n.listOfFiles[a].context.toLowerCase()&&"box"!==n.listOfFiles[a].context.toLowerCase()&&"onedrive"!==n.listOfFiles[a].context.toLowerCase()&&"sharepoint"!==n.listOfFiles[a].context.toLowerCase()&&"googledrive"!==n.listOfFiles[a].context.toLowerCase()&&"native_video"!==n.listOfFiles[a].context.toLowerCase()||p.push(n.listOfFiles[a]);if(0<p.length){for(var f="",i="",s="",d=" | ",l="\n",c="⁣\ufeff​\ufeff⁣",a=0;a<p.length;a++)"native_video"===p[a].context.toLowerCase()?f+=l+i+p[a].title+d+p[a].externalFileId+d+p[a].size+d+p[a].type+d+p[a].context+d+p[a].url+s:"box"!==p[a].context.toLowerCase()&&"gdrive"!==p[a].context.toLowerCase()&&"dropbox"!==p[a].context.toLowerCase()&&"onedrive"!==p[a].context.toLowerCase()&&"sharepoint"!==p[a].context.toLowerCase()&&"googledrive"!==r[a].context.toLowerCase()||(f+=l+i+p[a].title+d+p[a].fileId+d+p[a].size+d+p[a].type+d+p[a].context+d+p[a].url+s);f=f.substr(1),n.body=n.body+c+f}}S={communityId:null,commentId:t,commentText:n.body,bodyJson:n.bodyJson,externalFiles:p,action:"updatecomment",moderationResult:null};return void 0!==n.moderationResult&&null!==n.moderationResult&&(S.moderationResult=n.moderationResult),m.Salesforce.sendRequest({data:{data:JSON.stringify(S)},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"})}m.Salesforce.rejectAjaxcall()},e.checkForUpdates=function(e){var t=m.Salesforce.Endpoints.ReadWrite+"?target=FeedUpdatesServer",e={pageName:e.pageName,subjectId:e.subjectId,timeStamp:e.timeStamp,updatesToken:e.updatesToken,type:e.type,idsInViewPort:JSON.stringify(m.Salesforce.localRepo.feedIdsInViewPort),sortBy:e.sortBy};return m.Salesforce.log(e),m.Salesforce.sendRequest({data:e,method:"GET",endpoint:t})},e.search=function(e){var t=m.Salesforce.Endpoints.ReadWrite+"?target=FeedDataServer&action=search",e={nextPageToken:e.nextPageToken,size:e.size,subjectId:e.subjectId,type:e.type,term:e.term,sort:e.sort,postId:e.postId,postIds:e.postIds};return m.Salesforce.sendRequest({data:e,method:"GET",endpoint:t}).done(function(e){if(void 0!==e&&void 0!==e.result&&void 0!==e.result.listOfItems)for(var t=0;t<e.result.listOfItems.length;t++)m.Salesforce.localRepo.feedIdsInViewPort.push(e.result.listOfItems[t].id)})},e.getReplies=function(e){if(void 0!==e)return void 0===e.nextPageToken&&(e.nextPageToken=null),m.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=FeedCommentDataServer"});m.Salesforce.rejectAjaxcall()},e.getPollResults=function(e){if(void 0!==e)return m.Salesforce.sendRequest({data:{data:JSON.stringify({communityId:null,feedElementId:e,action:"getpollresults"})},method:"GET",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"});m.Salesforce.rejectAjaxcall()},e.saveSortBy=function(e){return m.Salesforce.sendRequest({data:{data:JSON.stringify({filterValue:e,action:"savesortby"})},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"})},e.saveFilterBy=function(e){return m.Salesforce.sendRequest({data:{data:JSON.stringify({filterValue:e,action:"savefilterby"})},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"})},e.getLikers=function(e){return m.Salesforce.log("Salesforce.Feed---data---"+JSON.stringify(e)),m.Salesforce.sendRequest({data:{postId:e.postId,commentId:e.commentId,nextPageToken:e.nextPageToken,size:e.size},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=FeedLikeDataServer"})},e.getPopularContent=function(e){return m.Salesforce.sendRequest({data:{siteId:e.siteId},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=FeedDataServer&action=getPopularContent"})},e.getUpcomingEvents=function(e){return m.Salesforce.sendRequest({data:{siteId:e.siteId},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=FeedDataServer&action=getUpcomingEvents"})},e.getMustReadContent=function(e){return m.Salesforce.sendRequest({data:{siteId:e.siteId},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=FeedDataServer&action=getMustReadContent"})},e.getPeoplePosts=function(e){return m.Salesforce.sendRequest({data:{variant:e.variant},method:"GET",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=FeedDataServer&action=getPeoplePosts"})},e.getFeedOnboardingContent=function(e){return m.Salesforce.sendRequest({data:{siteId:e.siteId},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=FeedDataServer&action=getFeedOnboardingContent"})},e.saveFeedOnboardingFlag=function(e){return m.Salesforce.sendRequest({data:{isOnboardingDisabledOnFeed:e.isOnboardingDisabledOnFeed},method:"POST",endpoint:m.Salesforce.Endpoints.ReadWrite+"?target=FeedDataServer&action=saveFeedOnboardingFlag"})},e}(Simpplr,jQuery),Simpplr.Salesforce.User=Simpplr.Salesforce.User||{},Simpplr.Salesforce.UserLocation=Simpplr.Salesforce.UserLocation||{},Simpplr.Salesforce.User=function(a,r){var e={search:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=search"})},getAllPeopleData:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=getAllPeopleData"})},getPeopleByUserId:function(e){return a.Salesforce.sendRequest({data:{data:e},method:"POST",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=getPeopleByUserId&userId="+e})},getFieldValues:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=getFieldValues"})},getReportings:function(e){return a.Salesforce.sendRequest({data:{sfUserId:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=PeopleDataServer&action=orgChart"})},setFollowing:function(e,t){r.Deferred();var n="",n=t?"followUser":"unfollowUser";return a.Salesforce.sendRequest({data:{data:JSON.stringify({sfUserId:e})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=ToggleFollowDataServer&action="+n})},getEndorsements:function(e){return a.Salesforce.sendRequest({data:{sfUserId:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=getEndorsements"})},removeEndorsement:function(e,t){return a.Salesforce.sendRequest({data:{data:JSON.stringify({sfUserId:e,expertiseId:t})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=removeEndorsement"})},removeExpertise:function(e,t){return a.Salesforce.sendRequest({data:{data:JSON.stringify({sfUserId:e,expertiseId:t})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=removeExpertise"})},addEndorsement:function(e,t){return a.Salesforce.sendRequest({data:{data:JSON.stringify({sfUserId:e,expertiseId:t})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=addEndorsement"})},setFavorited:function(e,t){var n="",n=t?"favoritepeople":"unfavoritepeople";return a.Salesforce.sendRequest({data:{peopleId:e},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=ToggleBookmarkDataServer&action="+n})},getGoogleCalendars:function(){return a.Salesforce.sendRequest({method:"GET",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=getGoogleCalendars"})},getCustomFields:function(){return a.Salesforce.sendRequest({method:"GET",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=getCustomFields"})},connectApp:function(e,t){return a.Salesforce.sendRequest({data:{data:JSON.stringify({appName:e,retURL:t})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=connectApp"})},getRedirectUrl:function(e,t){return a.Salesforce.sendRequest({data:{data:JSON.stringify({appName:e,retURL:t})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=getRedirectUrl"})},disconnectApp:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify({appName:e})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=disconnectApp"})},getFollowStats:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify({peopleId:e})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=getFollowStats"})},get:function(e,t,n,r){return a.Salesforce.sendRequest({data:{data:JSON.stringify({peopleId:e,sfUserId:t,includeCustomFields:n,includeHiddenProfileFields:r})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=getUser"})},setCoverImage:function(e,t){return a.Salesforce.sendRequest({data:{peopleId:e,file:JSON.stringify(t)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=PeopleDataServer&action=setCoverImage"})},setProfileImage:function(e,t){t={action:null!=t?"setprofilephoto":"removeprofilephoto",fileId:null!=t?t.contentDocumentId:null,communityId:null,versionNumber:null,peopleId:e};return a.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=ConnectAPIInteractionDataServer"})},getOrgChart:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=getOrgChart"})},getOrgChartOnProfile:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=getOrgChartOnProfile"})},getUserWebpushTokens:function(){return a.Salesforce.sendRequest({method:"GET",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=getUserWebpushTokens"})},getByIds:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=getByIds"})},getCount:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=getCount"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.UserLocation=function(t){var e={search:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=searchLocation"})},get:function(e){return t.Salesforce.sendRequest({data:{locationId:e},method:"GET",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=getLocation"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.UserDepartment=function(t){var e={search:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=searchDepartment"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Alert=function(n){var e={get:function(e){return n.Salesforce.log("Alert.get---alertId---"+e),n.Salesforce.sendRequest({data:{data:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=AlertDataServer&action=getAlert"})},search:function(e){return n.Salesforce.log("Alert.search------"+JSON.stringify(e)),n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=AlertDataServer&action=searchAlert"})},displayNow:function(e){return n.Salesforce.log("Alert.displayNow---alertId---"+e),n.Salesforce.sendRequest({data:{data:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=AlertDataServer&action=displayNow"})},save:function(e,t){return n.Salesforce.log("Alert.save------id---"+e),n.Salesforce.log("Alert.save------data----"+JSON.stringify(t)),null==e?n.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=AlertDataServer&action=create"}):n.Salesforce.sendRequest({data:{data:JSON.stringify({alertId:e,itemData:t})},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=AlertDataServer&action=update"})},expireNow:function(e){return n.Salesforce.log("Alert.expireNow---alertId---"+e),n.Salesforce.sendRequest({data:{data:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=AlertDataServer&action=expireNow"})},delete:function(e){return n.Salesforce.log("Alert.delete---alertId---"+e),n.Salesforce.sendRequest({data:{data:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=AlertDataServer&action=delete"})},getActive:function(){return n.Salesforce.log("Alert.getActive------"),n.Salesforce.sendRequest({data:{data:""},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=AlertDataServer&action=getActive"})},markAsDismissed:function(e){return n.Salesforce.log("Alert.markAsDismissed---alertId---"+e),n.Salesforce.sendRequest({data:{data:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=AlertDataServer&action=markAsDismissed"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Notification={search:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=NotificationDataServer&action=search"})},markAllNonActionableAsRead:function(){var t=$.Deferred();return $.ajax({data:{id:""},method:"POST",url:Simpplr.Salesforce.VisualforceEndpoints.ReadWrite+"?target=NotificationDataServer&action=markAllNonActionableAsRead",beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){t.resolve(e)}).fail(function(){t.reject()}),t},markAllTypeAsSeen:function(e){return Simpplr.Salesforce.sendRequest({data:{type:e},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=NotificationDataServer&action=markAllTypeAsSeen"})},markAllAsSeen:function(e){return Simpplr.Salesforce.sendRequest({data:{type:e},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=NotificationDataServer&action=markAllTypeAsSeen"})},sendMobilePromotionLink:function(e){return Simpplr.Salesforce.sendRequest({data:e,method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=NotificationDataServer&action=sendMobilePromotionLink"})},sendBrandedAppDistributionLink:function(e){return Simpplr.Salesforce.sendRequest({data:e,method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=NotificationDataServer&action=sendBrandedAppDistributionLink"})},bulkSendBrandedAppDistributionLink:function(e){return Simpplr.Salesforce.sendRequest({data:e,method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=NotificationDataServer&action=buldSendBrandedAppDistributionLink"})},saveWebPushPromptFlag:function(e){return Simpplr.Salesforce.sendRequest({data:{webPushPromptFlag:e},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=saveWebPushPromptFlag"})},sendInAppPushNotifications:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=NotificationDataServer&action=sendInAppPushNotifications"})}},Simpplr.Salesforce.ChatterGroup=Simpplr.Salesforce.ChatterGroup||{},Simpplr.Salesforce.ChatterGroup=function(t){var e={convertToSite:function(e){return t.Salesforce.sendRequest({data:{chatterGroupId:e},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=ChatterGroupDataServer&action=convertToSite"})},search:function(e){t.Salesforce.log("ChatterGroup.search---data---"+JSON.stringify(void 0));return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=ChatterGroupDataServer&action=search"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Page={search:function(e){var t=Simpplr.Salesforce.Endpoints.ReadOnly+"?target=PageDataServer&action=search";return void 0!==e.siteId&&(t+="&siteId="+e.siteId),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t})},updateCategoryPosition:function(e,t){t={siteId:e,categoryIds:t};return Simpplr.Salesforce.log("Page.updateCategoryPosition---data---"+JSON.stringify(t)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CategoryDataServer&action=updateCategoryPosition&siteId="+e})},updatePagePosition:function(e,t,n){t={siteId:e,categoryId:t,pageIdsArray:n};return Simpplr.Salesforce.log("Page.updatePagePosition---data---"+JSON.stringify(t)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddPageDataServer&action=updatePagePosition&siteId="+e})},moveToTop:function(e,t,n){t={siteId:e,categoryId:t,pageId:n};return Simpplr.Salesforce.log("Page.moveToTop---data---"+JSON.stringify(t)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddPageDataServer&action=moveToTop&siteId="+e})},moveToBottom:function(e,t,n){t={siteId:e,categoryId:t,pageId:n};return Simpplr.Salesforce.log("Page.moveToBottom---data---"+JSON.stringify(t)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddPageDataServer&action=moveToBottom&siteId="+e})}},Simpplr.Salesforce.Event={search:function(e){var t=Simpplr.Salesforce.Endpoints.ReadOnly+"?target=EventDataServer&action=search";return void 0!==e.siteId&&(t+="&siteId="+e.siteId),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t})},getRsvp:function(e){return Simpplr.Salesforce.log("Event.getRsvp---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:e},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=RsvpDataServer&action=getRecord"})},rsvp:function(e){return Simpplr.Salesforce.log("Event.rsvp---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=RsvpDataServer&action=save"})},getInvited:function(e){return Simpplr.Salesforce.log("Event.getInvited---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddEventDataServer&action=invitedUsers"})},getAttending:function(e){return Simpplr.Salesforce.log("Event.getAttending---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddEventDataServer&action=getAttending"})},invite:function(e,t,n){e={id:e,peopleList:t,sendInvitationMail:n};return Simpplr.Salesforce.log("Event.invite---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddEventDataServer&action=invite"})},autoCompleteInvitee:function(e){return Simpplr.Salesforce.log("event.autoCompleteInvitee---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadOnly+"?target=SearchUserDataServer&action=autoCompleteInvitee"})},deleteAttending:function(e,t,n){return Simpplr.Salesforce.log("event.deleteAttending ---"),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({contentId:e,peopleIds:t,note:n})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=RsvpDataServer&action=deleteAttending "})},sendEventUpdateMail:function(e){return Simpplr.Salesforce.log("event.sendEventUpdateMail ---"),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({contentId:e})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddEventDataServer&action=sendEventUpdateMail "})}},Simpplr.Salesforce.Topic={search:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TopicDataServer&action=search"})},get:function(e){return Simpplr.Salesforce.sendRequest({data:{topicId:e},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TopicDataServer&action=get"})},save:function(e,t){e={id:e,name:t.name};return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TopicDataServer&action=save"})},favorite:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TopicDataServer&action=favorite"})},setFollowing:function(e,t){var n="",n=t?"followTopic":"unfollowTopic";return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({topicId:e})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ToggleFollowDataServer&action="+n})},merge:function(e,t){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({fromTopicId:e,toTopicId:t})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TopicDataServer&action=mergeTopics"})},delete:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({topicId:e})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TopicDataServer&action=deleteTopic"})},unfavorite:function(e){return Simpplr.Salesforce.log("Topic.unfavorite---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TopicDataServer&action=unfavorite"})}},Simpplr.Salesforce.Expertise={search:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ExpertiseDataServer&action=search"})},save:function(e,t){e={id:e,name:t.name};return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ExpertiseDataServer&action=save"})},merge:function(e,t){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({fromExpertiseId:e,toExpertiseId:t})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ExpertiseDataServer&action=mergeExpertises"})},delete:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({expertiseId:e})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ExpertiseDataServer&action=deleteExpertise"})}},Simpplr.Salesforce.Content={search:function(e){return Simpplr.Salesforce.log("Content.search---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=search"})},getRelated:function(e){return data={contentId:e},Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(data)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=getRelated"})},save:function(e,t,n,r){Simpplr.Salesforce.log("Content.save---type---"+e);var a="",o="",a=null==t?"publish":"approve"==r?(n.id=t,"approve"):(n.id=t,"update");return"page"===e?o=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddPageDataServer&action="+a+"&siteId="+n.siteId:"event"===e?o=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddEventDataServer&action="+a+"&siteId="+n.siteId:"album"===e?o=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddAlbumDataServer&action="+a+"&siteId="+n.siteId:"blog_post"===e&&(o=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ProfileAddBlogPostDataServer&action="+a),null!==t&&(o+="&contentId="+t),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(n)},method:"POST",endpoint:o})},saveDraft:function(e,t,n){var r="",a="",r=null==t?"saveDraft":(n.id=t,"updateDraft");return"page"===e?a=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddPageDataServer&action="+r+"&siteId="+n.siteId:"event"===e?a=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddEventDataServer&action="+r+"&siteId="+n.siteId:"album"===e?a=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddAlbumDataServer&action="+r+"&siteId="+n.siteId:"blog_post"===e&&(a=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ProfileAddBlogPostDataServer&action="+r),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(n)},method:"POST",endpoint:a})},setLiked:function(e,t){var n="",n=t?"like":"unlike";return Simpplr.Salesforce.sendRequest({data:{recordId:e,action:n,likeType:"content"},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ChatterInteractionDataServer"})},setFavorited:function(e,t){var n="",n=t?"bookmark":"unbookmark";return Simpplr.Salesforce.sendRequest({data:{recordId:e,action:n},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ToggleBookmarkDataServer"})},share:function(e){$.Deferred();void 0!==e.urlName&&255<=e.urlName.length&&(e.urlName=e.urlName.substring(0,200)),e.url=e.url.replace(/\//g,"\\\\/");e={albumMediaId:e.albumMediaId,action:"share",contentId:e.contentId,subjectId:e.subjectId,Type:e.type,url:e.url,urlName:e.urlName,textToPost:e.body,bodyJson:JSON.stringify(e.bodyJson)};return Simpplr.Salesforce.sendRequest({data:e,method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ChatterInteractionDataServer"})},getLikers:function(e){return Simpplr.Salesforce.log("Salesforce.Content.getLikers---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ContentLikeDataServer"})},delete:function(e,t){t={siteId:e,contentId:t};return Simpplr.Salesforce.log("Content.delete---data---"+JSON.stringify(t)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=delete&siteId="+e})},approve:function(e,t){t={siteId:e,contentId:t};return Simpplr.Salesforce.log("Content.approve---data---"+JSON.stringify(t)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=approve&siteId="+e})},setPublished:function(e,t,n){Simpplr.Salesforce.log("Content.setPublished---siteId---"+e),Simpplr.Salesforce.log("Content.setPublished---contentId---"+t),Simpplr.Salesforce.log("Content.setPublished---setPublishedBool---"+n);var r="",r=n?"publish":"unpublish";return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({siteId:e,contentId:t,setPublishedBool:n})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action="+r+"&siteId="+e})},create:function(e,t){return Simpplr.Salesforce.log("Content.create---data---"+JSON.stringify(void 0)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({siteId:e,contentId:t})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=create&siteId="+e})},reject:function(e,t,n){t={siteId:e,contentId:t,rejectionComment:n};return Simpplr.Salesforce.log("Content.reject---data---"+JSON.stringify(t)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=reject&siteId="+e})},rate:function(e,t,n){Simpplr.Salesforce.log(arguments);var r={isUsefulBool:t,contentId:e,comment:n};return Simpplr.Salesforce.log("Content.rate---data---"+JSON.stringify(r)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(r)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=rate"})},getRatings:function(e){e={contentId:e.id,nextPageToken:e.nextPageTokenArg,limit:e.limitArg};return Simpplr.Salesforce.log("Content.getRatings---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=getRatings"})},getModerationHistory:function(e){return Simpplr.Salesforce.log("Content.getRatings---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=getModerationHistory"})},getOnboardingHistory:function(e){return Simpplr.Salesforce.log("Content.getOnboardingHistory---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=getOnboardingHistory"})},prepareBulkDataCsv:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=prepareBulkDataCsv"})},deleteRatings:function(e){e={feedbackId:e};return Simpplr.Salesforce.log("Content.deleteRatings---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=deleteRatings"})},get:function(e,t){var n="";return"page"===t.contentType?n=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddPageDataServer&action=get":"event"===t.contentType?n=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddEventDataServer&action=get":"album"===t.contentType?n=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddAlbumDataServer&action=get":"blog_post"===t.contentType&&(n=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ProfileAddBlogPostDataServer&action=get"),Simpplr.Salesforce.sendRequest({data:{contentId:e,versionHistoryId:t.versionId,data:JSON.stringify(t)},method:"GET",endpoint:n})},sendNotification:function(e,t,n,r){return Simpplr.Salesforce.sendRequest({data:{contentId:e,siteId:t,message:n,membersType:r},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadOnly+"?target=NotificationDataServer&action=sendNotification"})},getNotificationMessage:function(e,t){return Simpplr.Salesforce.sendRequest({data:{contentId:e,contentMessageId:t},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadOnly+"?target=NotificationDataServer&action=getNotificationMessage"})},submit:function(e,t){e={siteId:e,contentId:t};return Simpplr.Salesforce.log("Content.submit---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=submit&siteId="+e.siteId})},makeMustRead:function(e,t){return t.contentId=e,Simpplr.Salesforce.log("Content.makeMustRead---contentId---"+e),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=makeMustRead"})},removeMustRead:function(e){var t={contentId:e};return Simpplr.Salesforce.log("Content.removeMustRead---contentId---"+e),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=removeMustRead"})},resetMustRead:function(e){var t={contentId:e};return Simpplr.Salesforce.log("Content.removeMustRead---contentId---"+e),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=resetMustRead"})},markAsRead:function(e){var t={contentId:e};return Simpplr.Salesforce.log("Content.markAsRead---contentId---"+e),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=markAsRead"})},sendMustReadReminderMail:function(e){var t={contentId:e};return Simpplr.Salesforce.log("Content.sendMustReadReminderMail---contentId---"+e),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=sendMustReadReminderMail"})},move:function(e,t,n){t={contentIdList:e,siteId:t,categoryId:n};return Simpplr.Salesforce.log("Content.move---contentIdListArg---"+e),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=move"})},setValid:function(e,t){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({contentId:e,isValid:t})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=setValid"})},getExpiringContentCounts:function(e){return Simpplr.Salesforce.log("Content.getExpiringContentCounts---siteId----"+e),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({siteId:e})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=getExpiringContentCounts"})},dismissValidation:function(e,t){return Simpplr.Salesforce.log("Content.dismissValidation---"),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({contentId:e,type:t})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=dismissValidation"})},getVersionHistory:function(e){return Simpplr.Salesforce.log("Content.getVersionHistory---"),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=getVersionHistory"})},restoreVersion:function(e,t){return Simpplr.Salesforce.log("Content.restoreVersion---"),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({contentId:e,versionId:t})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=restoreVersion"})},startContentEdit:function(e,t,n){Simpplr.Salesforce.log("Content.startContentEdit---");var r="";return"page"===n?r=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddPageDataServer&action=startContentEdit":"event"===n?r=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddEventDataServer&action=startContentEdit":"album"===n&&(r=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SiteAddAlbumDataServer&action=startContentEdit"),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({contentId:e,versionNumber:t})},method:"POST",endpoint:r})},renewLock:function(e){return Simpplr.Salesforce.log("Content.renewLock---"),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({contentId:e})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=renewLock"})},optForNotification:function(e,t){return Simpplr.Salesforce.log("Content.optForNotification ---"),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({contentId:e,isOpenToNotification:t})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=optForNotification "})},getByIds:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadOnly+"?target=AllContentDataServer&action=getByIds"})},getLatestContents:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadOnly+"?target=AllContentDataServer&action=getLatestContents"})},getPopularContents:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadOnly+"?target=AllContentDataServer&action=getPopularContents"})},getMetadata:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({contentId:e})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadOnly+"?target=AllContentDataServer&action=getMetadata"})},saveContentOnboardingStatus:function(e,t){e={contentId:e,onboardingStatus:t};return Simpplr.Salesforce.log("Content.saveContentOnboardingStatus---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=saveContentOnboardingStatus"})},updateContentPosition:function(e,t){t={siteId:e,contentIdsArray:t};return Simpplr.Salesforce.log("Content.updateContentPosition---data---"+JSON.stringify(t)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=updateContentPosition&siteId="+e})},moveContentToTop:function(e,t){t={siteId:e,contentId:t};return Simpplr.Salesforce.log("Content.moveContentToTop---data---"+JSON.stringify(t)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=moveContentToTop&siteId="+e})},moveContentToBottom:function(e,t){t={siteId:e,contentId:t};return Simpplr.Salesforce.log("Content.moveContentToBottom---data---"+JSON.stringify(t)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AllContentDataServer&action=moveContentToBottom&siteId="+e})},getMyOnboardingContents:function(e){return Simpplr.Salesforce.log("Content.getMyOnboardingContents---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadOnly+"?target=AllContentDataServer&action=getMyOnboardingContents"})}},Simpplr.Salesforce.Carousel={get:function(e){e={siteId:e.siteId,segmentId:e.segmentId};return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CarouselDataServer&action=get"})},setState:function(e,t){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CarouselDataServer&action=setLayout"})},saveOrder:function(e,t){e={siteId:e.siteId,segmentId:e.segmentId,orderOfItemIds:JSON.stringify(t)};return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CarouselDataServer&action=saveOrder"})},removeItem:function(e,t){e={siteId:e.siteId,segmentId:e.segmentId,carouselItemId:t};return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CarouselDataServer&action=removeItem"})},removeCampaignItem:function(e,t){e={siteId:e.siteId,segmentId:e.segmentId,campaignId:t};return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CarouselDataServer&action=removeCampaignItem"})},removeContentItem:function(e,t){e={siteId:e.siteId,segmentId:e.segmentId,isInAllSegments:e.isInAllSegments,contentId:t};return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CarouselDataServer&action=removeContentItem"})},addItem:function(e,t,n){e={siteId:e.siteId,segmentId:e.segmentId,isInAllSegments:e.isInAllSegments,type:t,model:JSON.stringify(n)};return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CarouselDataServer&action=addItem"})},getAnalytics:function(){return Simpplr.Salesforce.sendRequest({method:"GET",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CarouselDataServer&action=getAnalytics"})}},Simpplr.Salesforce.PageCategory={search:function(e){return Simpplr.Salesforce.log("PageCategory.search---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CategoryDataServer&action=search"})},delete:function(e){var t=new $.Deferred;return Simpplr.Salesforce.log("PageCategory.delete---param---"+JSON.stringify(e)),$.ajax({data:{data:JSON.stringify(e)},method:"POST",url:Simpplr.Salesforce.VisualforceEndpoints.ReadWrite+"?target=CategoryDataServer&action=delete",beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){"success"===e.status?t.resolve(e):t.reject(e)}),t},create:function(e){var t=new $.Deferred;return Simpplr.Salesforce.log("PageCategory.create---data---"+JSON.stringify(e)),$.ajax({data:{data:JSON.stringify(e)},method:"POST",url:Simpplr.Salesforce.VisualforceEndpoints.ReadWrite+"?target=CategoryDataServer&action=create",beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){"success"===e.status?t.resolve(e):t.reject(e)}),t},edit:function(e,t){var n=new $.Deferred;return Simpplr.Salesforce.log("PageCategory.edit---id---"+JSON.stringify(e)),Simpplr.Salesforce.log("PageCategory.edit---data---"+JSON.stringify(t)),t.id=e,$.ajax({data:{data:JSON.stringify(t)},method:"POST",url:Simpplr.Salesforce.VisualforceEndpoints.ReadWrite+"?target=CategoryDataServer&action=edit",beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){"success"===e.status?n.resolve(e):n.reject(e)}),n}},Simpplr.Salesforce.File=function(O,R){function y(e){var t=R.extend(!0,{},I);return t.result.id=e.contentDocumentId,t.result.url=e.url,t.result.downloadUrl=e.downloadUrl,t.result.fileUrl="fileUrl"in e?e.fileUrl:e.downloadUrl,t.result.contentVersionId=e.id,t.result.contentDocumentId=e.contentDocumentId,t.result.title=e.title,t.result.fileType=e.FileType,t.result.fileExtension=e.FileType,t.result.context="intranet",t.result.provider="intranet",t.result.type=e.FileType,t.result.size=e.ContentSize,t.result.owner=e.owner,t.result.modifiedAt=e.modifiedAt,t.result.canDelete=!0,t.result.canMove=!0,t.result.canCreateNewVersion=!0,t.result.pathOnClient=e.pathOnClient,t.result.thumbnailImg=e.thumbnailImg,t.result.isImage=e.isImage,t.result.isNew=!0,t.result.canCreatePublicShareLink=!0,t}function h(e,t,n,r){var a,o,i=location.href,s=i.indexOf("&directory="),d=i.indexOf("&rootDirectory=");return 0<s&&0<d?(d+=15,0<(a=i.substring(s+=11,i.length)).indexOf("&")&&(a=a.substring(0,a.indexOf("&"))),0<(o=i.substring(d,i.length)).indexOf("&")&&(o=o.substring(0,o.indexOf("&")))):(a=t,o=n),s=O.Salesforce.Links.FileDetail+"?fileId="+e.id+"&rootDirectory="+o+"&directory="+a+"&provider=box",""!==r&&(s=s+"&siteId="+r),(d=R.extend(!0,{},I)).result.id=e.id,d.result.boxFileId=e.id,d.result.boxUrl=s,d.result.canChangeName=!0,d.result.canMove=!0,d.result.createdAt=e.created_at,d.result.createdAtDateTime=e.content_created_at,d.result.isDir=!("file"===e.type),d.result.isDownloadableOniOS=!0,d.result.isFolder=!("file"===e.type),d.result.location="Box",d.result.modifiedAtDateTime=e.content_modified_at,d.result.name=e.name,d.result.size=e.size,d.result.sortBy="createdNewest",d.result.title=e.name,d.result.url=s,d.result.fileUrl=s,d.result.externalUrl="https://app.box.com/files/0/f/"+a+"/1/f_"+e.id,d.result.canDelete=!0,d.result.canCreateNewVersion=!0,d.result.canChangeName=!1,d.result.isBookmarked=!1,d.result.context="box",d.result.provider="box",d.result.thumbnailImg="",d.result.type=d.result.title.substring(d.result.title.lastIndexOf(".")+1).toUpperCase(),d.result.fileExtension=d.result.type,d.result.size=e.size,d.result.modifiedAt=e.content_modified_at,d.result.owner={},d.result.owner.id=O.CurrentUser.peopleId,d.result.owner.name=O.CurrentUser.name,d.result.owner.url="/apex/app?u=/people/"+O.CurrentUser.peopleId,d.result.site={},d.result.site.id="",d.result.site.name="",d.result.site.url="",(i={}).id=e.parent.id,i.name=e.parent.name,d.result.listOfParents=[],d.result.listOfParents.push(i),d}function T(e,t){var t=O.Salesforce.Links.FileDetail+"?fileId="+e.id+"&directory="+t+"&provider=googledrive",n=(""!==O.Settings.SITE_ID&&(t=t+"&siteId="+O.Settings.SITE_ID),R.extend(!0,{},I));return n.result.id=e.id,n.result.title=e.name,n.result.fileExtension=n.result.title.substring(n.result.title.lastIndexOf(".")+1).toUpperCase(),n.result.name=e.name,n.result.url=t,n.result.fileUrl=t,n.result.canDelete=!1,""!==O.Settings.SITE_ID&&(n.result.canMove=!0),n.result.canDownload=!0,n.result.gdriveUrl=e.webViewLink,n.result.externalUrl=e.webViewLink,n.result.canCreateNewVersion=!0,n.result.canChangeName=!1,n.result.isBookmarked=!1,n.result.context="googledrive",n.result.provider="googledrive",n.result.thumbnailImg="",n.result.type=n.result.title.substring(n.result.title.lastIndexOf(".")+1).toUpperCase(),n.result.size=e.size,n.result.modifiedAt=e.modifiedTime,n.result.owner={},n.result.owner.id=O.CurrentUser.peopleId,n.result.owner.name=O.CurrentUser.name,n.result.owner.url="/apex/app?u=/people/"+O.CurrentUser.peopleId,n.result.site={},n.result.site.id="",n.result.site.name="",n.result.site.url="",n}function D(e,t,n){var r;return t=encodeURIComponent(t),r=O.Salesforce.Links.FileDetail+"?fileId="+e.id+"&directory="+t+"&provider=dropbox",""!==n&&(r=r+"&siteId="+n),(n=R.extend(!0,{},I)).result.id=e.id,n.result.title=e.name,n.result.fileExtension=n.result.title.substring(n.result.title.lastIndexOf(".")+1).toUpperCase(),n.result.name=e.name,n.result.url=r,n.result.fileUrl=r,n.result.canDelete=!0,""!==O.Settings.SITE_ID&&(n.result.canMove=!0),n.result.externalUrl="https://www.dropbox.com/home"+t+"/"+e.name,n.result.canDownload=!0,n.result.dropboxUrl=e.webViewLink,n.result.canCreateNewVersion=!0,n.result.canChangeName=!1,n.result.isBookmarked=!1,n.result.context="dropbox",n.result.provider="dropbox",n.result.thumbnailImg="",n.result.type=n.result.title.substring(n.result.title.lastIndexOf(".")+1).toUpperCase(),n.result.size=e.size,n.result.modifiedAt=e.modifiedTime,n.result.owner={},n.result.owner.id=O.CurrentUser.peopleId,n.result.owner.name=O.CurrentUser.name,n.result.owner.url="/apex/app?u=/people/"+O.CurrentUser.peopleId,n.result.site={},n.result.site.id="",n.result.site.name="",n.result.site.url="",n}var e={},I=(R.Deferred(),{status:"success",message:null,i18nmessage:null,result:{title:"",size:"",contentVersionId:"",fileType:"",fileExtension:"",source:"intranet",downloadUrl:"",fileUrl:""}});uint8ToString=function(e){for(var t="",n=0,r=e.length;n<r;n+=1)t+=String.fromCharCode(e[n]);return t};return e.getLikers=function(e){return O.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileLikerDataServer"})},e.upload=function(s){var e,t,n,r,a,o,i,d,l,c,S=R.Deferred(),p={intranet:["#"],box:["\\","/"],dropbox:["\\","/"],onedrive:["\\","/","~","%","&","*",",","}",",",":","<",">","?","|","“"]}[s.provider];for(e in p=null==s.provider?["#"]:p)if(0<=s.name.indexOf(p[e]))return(t=R.extend(!0,{},I)).status="error",t.message="It's not possible to upload file - please rename without special characters",t.result={isValidFileName:!1},t.i18nmessage="It's not possible to upload file - please rename without special characters",S.reject(t),S;return s.provider,"box"===s.provider?(n=s.directory||"0",r=s.rootDirectory||"0",a=s.siteId||"",(l=new FormData).append("file",s),l.append("parent_id",n),R.ajax({url:"https://upload.box.com/api/2.0/files/content",method:"POST",data:l,crossDomain:!0,processData:!1,contentType:!1,headers:{Authorization:"Bearer "+s.accessToken}}).done(function(e){S.resolve(h(e.entries[0],n,r,a))}).fail(function(){S.reject(arguments)})):(s.provider,"googledrive"===s.provider?(o=s.directory||"root",l={},(c=new Array)[0]=o,l.parents=c,l.name=s.name,l.mimeType=s.type,c=O.CurrentUser.peopleId,l=new Blob(["--boundary_"+c+"\nContent-Type: application/json; charset=UTF-8\n\n"+JSON.stringify(l)+"\n\n--boundary_"+c+"\nContent-Type: "+s.type+'"\n\n',s,"\n--boundary_"+c+"--"],{type:'multipart/related; boundary="boundary_'+c+'"'}),(c=R.ajax({url:"https://www.googleapis.com/upload/drive/v3/files?supportsAllDrives=true&uploadType=multipart&fields=id,name,webViewLink,size,modifiedTime",type:"POST",headers:{Authorization:"Bearer "+s.accessToken,"Content-Type":'multipart/related; boundary="boundary_'+O.CurrentUser.peopleId+'"'},data:l,cache:!1,contentType:!1,processData:!1,crossDomain:!0})).done(function(e){S.resolve(T(e,o))}),c.fail(function(e){S.reject(arguments)})):(s.provider,"dropbox"===s.provider?R.ajax({url:O.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=getDropboxAccessToken",method:"POST",beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){var t=s.siteId||"",n=s.directory&&"root"!=s.directory?s.directory:"",r=new FormData,e=(r.append("drat",e.result),r.append("path",n+"/"+s.name),r.append("upfile",s,s.name),r.append("mode","add"),{async:!0,crossDomain:!0,url:"https://services.simpplr.com/upload/dropbox/upload.php",method:"POST",processData:!1,contentType:!1,data:r});R.ajax(e).done(function(e){S.resolve(D(e.data,n,t))}),R.ajax(e).fail(function(e){S.reject(arguments)})}).fail(function(){S.reject(arguments)}):(i=function(e){if(e.success){var t=sforce.connection.query("SELECT Id, Title, FileType, ContentSize,ContentDocumentId, PublishStatus, Owner.name, Owner.id, LastModifiedDate, pathOnClient FROM ContentVersion WHERE Id='"+e.id+"'"),n=(records=t.getArray("records"),"/apex/FileDetail?fileId=");""!=s.siteId&&(n="/apex/FileDetail?siteId="+s.siteId+"&fileId=");for(var r=0;r<records.length;r++)var a="",o=!1,i=(records[r].FileType&&records[r].FileType.match(/(jpg|jpeg|png|gif)/i)&&(a="/sfc/servlet.shepherd/version/renditionDownload?rendition=THUMB240BY180&versionId="+records[r].Id,o=!0),{id:records[r].Id,url:n+records[r].ContentDocumentId,downloadUrl:"/sfc/servlet.shepherd/version/Download/"+records[r].Id+"?asPdf=false&operationContext=CHATTER",fileUrl:"/sfc/servlet.shepherd/version/Download/"+records[r].Id+"?asPdf=false&operationContext=CHATTER",contentDocumentId:records[r].ContentDocumentId,title:records[r].Title,FileType:records[r].FileType,fileExtension:records[r].FileType,thumbnailImg:a,isImage:o,ContentSize:records[r].ContentSize,modifiedAt:O.Salesforce.Utility.dateToUsersTZ(records[r].LastModifiedDate),pathOnClient:records[r].PathOnClient,owner:{id:records[r].Owner.Id,name:records[r].Owner.Name,url:O.Settings.appUrl+"?u=/redirect-to-profile/"+records[r].Owner.Id}});S.resolve(y(i))}else{t={status:"error",message:null,i18nmessage:null,result:null};void 0!==e.errors&&void 0!==e.errors.message&&"STORAGE_LIMIT_EXCEEDED"==e.errors.statusCode&&(t.message="Unable to perform action - storage full",t.i18nmessage="Unable to perform action - storage full"),S.reject(t)}},d=function(){S.reject()},sforce.connection.sessionId=__sfdcSessionId,(l="")!=s.siteId?(null!=s.provider&&"intranet"==s.provider.toLowerCase()&&(l=null!=s.directory?"A0F29C47EA374DF79BDB3A280F1B7D5C#"+s.siteId+"#"+s.directory+"#":"A0F29C47EA374DF79BDB3A280F1B7D5C#"+s.siteId+"##"),"cover"==s.location?"original"==s.type?l="simp_cont_original#"+s.siteId+"#":"thumbnail"!=s.type&&"banner"!=s.type||(l="simp_cont_cropped#"+s.siteId+"#a8uybdu8-e423-7de4-da42-b4r9t1078pf7#"):"attachment"==s.location?l="simp_cont_attach#"+s.siteId+"#":"inline"==s.location&&(l="simp_cont_inline#"+s.siteId+"#")):"cover"==s.location?"original"==s.type?l="simp_cont_original#BlogPost#":"thumbnail"!=s.type&&"banner"!=s.type||(l="simp_cont_cropped#BlogPost#a8uybdu8-e423-7de4-da42-b4r9t1078pf7#"):"attachment"==s.location?l="simp_cont_attach#BlogPost#":"inline"==s.location&&(l="simp_cont_inline#BlogPost#"),s instanceof Blob?((c=new forcetk.Client).setSessionToken(__sfdcSessionId),c.createBlob("ContentVersion",{Origin:"H",PathOnClient:l+s.name,Title:s.name},s.name,"VersionData",s,function(e){i(e)},function(e,t,n){d()},function(e){e=e.loaded/e.total*100;S.notify(e)})):s instanceof Object?((c=new sforce.SObject("ContentVersion")).versionData=s.base64,c.title=s.title||s.name,c.Origin="H",c.pathOnClient=l+(s.title||s.name),sforce.connection.create([c],{onSuccess:function(e){i(e[0])},onFailure:d,onProgress:function(e){e=e.loaded/e.total*100;S.notify(e)}})):S.reject()))),S},e.get=function(e){for(var t=R.Deferred(),e=sforce.connection.query("SELECT Id, Title, FileType, ContentSize,ContentDocumentId, PublishStatus, Owner.name, Owner.id, LastModifiedDate, pathOnClient FROM ContentVersion WHERE Id='"+e+"'"),n=(records=e.getArray("records"),0);n<records.length;n++)var r="",a=!1,o=(records[n].FileType&&records[n].FileType.match(/(jpg|jpeg|png|gif)/i)&&(r="/sfc/servlet.shepherd/version/renditionDownload?rendition=THUMB240BY180&versionId="+records[n].Id,a=!0),{id:records[n].Id,url:"/apex/FileDetail?fileId="+records[n].ContentDocumentId,downloadUrl:"/sfc/servlet.shepherd/version/Download/"+records[n].Id+"?asPdf=false&operationContext=CHATTER",fileUrl:"/sfc/servlet.shepherd/version/Download/"+records[n].Id+"?asPdf=false&operationContext=CHATTER",contentDocumentId:records[n].ContentDocumentId,title:records[n].Title,FileType:records[n].FileType,fileExtension:records[n].FileType,thumbnailImg:r,isImage:a,ContentSize:records[n].ContentSize,modifiedAt:O.Salesforce.Utility.dateToUsersTZ(records[n].LastModifiedDate),pathOnClient:records[n].PathOnClient,owner:{id:records[n].Owner.Id,name:records[n].Owner.Name,url:O.Settings.appUrl+"?u=/redirect-to-profile/"+records[n].Owner.Id}});return t.resolve(y(o))},e.getBase64=function(e){var t=R.Deferred(),e="/services/data/v45.0/connect/files/"+e+"/content",n=new forcetk.Client;return n.setSessionToken(__sfdcSessionId),n.getChatterFile(e,null,function(e){t.resolve(function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,a=0;a<r;a++)t+=String.fromCharCode(n[a]);return{result:window.btoa(t)}}(e))},function(e){t.reject()},!1),t},e.resetCurrentUserBoxAccessToken=function(){var e=R.Deferred();R.Deferred();return R.ajax({url:O.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=resetCurrentUserBoxAccessToken",method:"POST",data:{data:JSON.stringify({})},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}),e.resolve(),e},e.search=function(e){var t=O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=search";return void 0!==e.siteId&&(t+="&siteId="+e.siteId),O.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"get",endpoint:t})},e.uploadNewVersion=function(o,e,s,t,i){var n,r,a,d,l,c,S,p,f,u,g,m=R.Deferred(),v={intranet:["#"],box:["\\","/"],dropbox:["\\","/"]}[e];for(n in v)if(0<=s.name.indexOf(v[n]))return(r=R.extend(!0,{},I)).status="error",r.message="It's not possible to upload file - please rename without special characters",r.result={isValidFileName:!1},r.i18nmessage="It's not possible to upload file - please rename without special characters",m.reject(r),m;return"box"===e?(S=(g=location.href).indexOf("&directory="),u=g.indexOf("&rootDirectory="),0<S&&0<u?(u+=15,0<(a=g.substring(S+=11,g.length)).indexOf("&")&&(a=a.substring(0,a.indexOf("&"))),0<(d=g.substring(u,g.length)).indexOf("&")&&(d=d.substring(0,d.indexOf("&")))):a=d=0,(l=new FormData).append("file",s),l.append("parent_id",a),R.ajax({url:O.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=getAccessToken",method:"POST",data:{data:JSON.stringify("data")},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){R.ajax({url:"https://upload.box.com/api/2.0/files/"+o+"/content",type:"POST",crossDomain:!0,processData:!1,contentType:!1,data:l,headers:{Authorization:"Bearer "+e.result}}).done(function(e){m.resolve(h(e.entries[0]))}).fail(function(){m.reject(arguments)})})):"googledrive"===e?(c=s.directory,(S=R.ajax({url:O.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&provider=googledrive&action=getGoogleDriveAccessToken",method:"POST",data:{data:JSON.stringify("data")},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}})).done(function(e){e=R.ajax({url:"https://www.googleapis.com/upload/drive/v3/files/"+o+"?supportsAllDrives=true&uploadType=media&fields=id,name,webViewLink,size,modifiedTime",method:"POST",data:s,crossDomain:!0,contentType:!1,processData:!1,headers:{Authorization:"Bearer "+e.result,"X-HTTP-Method-Override":"PATCH"}});e.done(function(e,t,n){m.resolve(T(e,c))}),e.fail(function(){m.reject(arguments)})}),S.fail(function(){m.reject(arguments)}),R.ajax({url:O.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=resetGoogleDriveAccessToken",method:"POST",data:{data:JSON.stringify("data")},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}})):"dropbox"===e?R.ajax({url:O.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=getDropboxAccessToken",method:"POST",beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){var t=s.siteId||"",n=o&&"root"!=o?o:"",r=new FormData,a=i,a=(void 0!==a&&a.startsWith("rev:")&&(a=i.substring(i.indexOf("rev:")+4,i.length)),r.append("rev",a),r.append("drat",e.result),r.append("path",n),r.append("upfile",s,s.name),r.append("mode","update"),{async:!0,crossDomain:!0,url:"https://services.simpplr.com/upload/dropbox/upload.php",method:"POST",processData:!1,contentType:!1,data:r});R.ajax(a).done(function(e){m.resolve(D(e.data,n,t))}),R.ajax(a).fail(function(e){m.reject(arguments)})}).fail(function(){m.reject(arguments)}):(p=function(e){if(e.success){var t=sforce.connection.query("SELECT Id, Title, FileType, ContentSize,ContentDocumentId, PublishStatus, Owner.name, Owner.id, LastModifiedDate, pathOnClient FROM ContentVersion WHERE Id='"+e.id+"'"),n=(records=t.getArray("records"),"/apex/FileDetail?fileId=");""!=s.siteId&&(n="/apex/FileDetail?siteId="+s.siteId+"&fileId=");for(var r=0;r<records.length;r++)var a="",o=!1,i=(records[r].FileType&&records[r].FileType.match(/(jpg|jpeg|png|gif)/i)&&(a="/sfc/servlet.shepherd/version/renditionDownload?rendition=THUMB240BY180&versionId="+records[r].Id,o=!0),{id:records[r].Id,url:n+records[r].ContentDocumentId,downloadUrl:"/sfc/servlet.shepherd/version/Download/"+records[r].Id+"?asPdf=false&operationContext=CHATTER",fileUrl:"/sfc/servlet.shepherd/version/Download/"+records[r].Id+"?asPdf=false&operationContext=CHATTER",contentDocumentId:records[r].ContentDocumentId,title:records[r].Title,FileType:records[r].FileType,fileExtension:records[r].FileType,ContentSize:records[r].ContentSize,thumbnailImg:a,isImage:o,modifiedAt:O.Salesforce.Utility.dateToUsersTZ(records[r].LastModifiedDate),pathOnClient:records[r].PathOnClient,owner:{id:records[r].Owner.Id,name:records[r].Owner.Name,url:O.Settings.appUrl+"?u=/redirect-to-profile/"+records[r].Owner.Id}});m.resolve(y(i))}else{t={status:"error",message:null,i18nmessage:null,result:null};void 0!==e[0].errors&&void 0!==e[0].errors.message&&"STORAGE_LIMIT_EXCEEDED"==e[0].errors.statusCode&&(t.message="Unable to perform action - storage full",t.i18nmessage="Unable to perform action - storage full"),m.reject(t)}return m},f=function(){return m.reject(),m},sforce.connection.sessionId=__sfdcSessionId,s instanceof Blob?((u=new forcetk.Client).setSessionToken(__sfdcSessionId),u.createBlob("ContentVersion",{Origin:"H",PathOnClient:t.substring(0,t.lastIndexOf("#"))+"#"+s.name,Title:s.name,ContentDocumentId:o},s.name,"VersionData",s,function(e){p(e)},function(e,t,n){f()},function(e){e=e.loaded/e.total*100;m.notify(e)})):s instanceof Object?((g=new sforce.SObject("ContentVersion")).versionData=s.base64,g.title=s.title,g.Origin="H",g.pathOnClient=s.title,g.ContentDocumentId=o,sforce.connection.create([g],{onSuccess:function(e){p(e[0])},onFailure:f,onProgress:function(e){e=e.loaded/e.total*100;m.notify(e)}})):m.reject()),m},e.createFolder=function(e){return O.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=createFolder"})},e.createBoxFolder=function(e){return O.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=createBoxFolder"})},e.createEFSFolder=function(e){return null==e.siteId&&(e.siteId=""),O.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=createEFSFolder"})},e.delete=function(e,t,n){return O.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,provider:t,fileSiteId:n})},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=deleteFile&siteId="+n})},e.remove=function(e,t,n){return O.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,provider:t,fileSiteId:n})},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=removeFile&siteId="+n})},e.setFavorited=function(e,t,n){var r=R.Deferred(),a="",a=t?"bookmark":"unbookmark";return R.ajax({url:O.Salesforce.VisualforceEndpoints.ReadWrite+"?target=ToggleBookmarkDataServer",method:"get",data:{recordId:e,action:a,context:n},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){r.resolve(e)}).fail(function(e,t,n){r.reject()}),r},e.share=function(e,t){R.Deferred(),void 0!==e&&(r=e.id);var n=" | ",r=(["box","googledrive","dropbox","onedrive","sharepoint","intranet","native_video"].includes(e.context.toLowerCase())&&(t.body=t.body+"⁣\ufeff​\ufeff⁣"+e.title+n+r+n+e.size+n+e.type+n+e.context+n+e.url),void 0!==t.urlName&&null!=t.urlName&&255<=t.urlName.length&&(t.urlName=t.urlName.substring(0,200)),t.url=t.url.replace(/\//g,"\\\\/"),{action:"share",subjectId:t.subjectId,Type:t.type,url:t.url,urlName:t.urlName,textToPost:t.body});return O.Salesforce.sendRequest({data:r,method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=ChatterInteractionDataServer"})},e.setLiked=function(e,t){var r=R.Deferred(),n="",n=t?"like":"unlike";return R.ajax({url:O.Salesforce.VisualforceEndpoints.ReadWrite+"?target=ChatterInteractionDataServer",method:"get",data:{recordId:e,action:n,likeType:"file"},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){r.resolve(e)}).fail(function(e,t,n){r.reject()}),r},e.setFolderName=function(e,t,n,r){return O.Salesforce.sendRequest({data:{data:JSON.stringify({folderId:e,provider:t,name:n,siteId:r})},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=setFolderName"})},e.setFolderPermissions=function(e,t,n,r,a){return O.Salesforce.sendRequest({data:{data:JSON.stringify({folderId:e,provider:t,permissions:n,name:r})},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+a+"&action=setFolderPermissions"})},e.deleteFolder=function(e,t){return O.Salesforce.sendRequest({data:{data:JSON.stringify({folderId:e,provider:t})},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=deleteFolder"})},e.edit=function(e,t){return O.Salesforce.sendRequest({data:{data:JSON.stringify({folderId:e,provider:t})},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=updateFolderName"})},e.getPublicUrl=function(e,t){return O.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,provider:t})},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getPublicUrl"})},e.setDescription=function(e,t,n,r,a){return O.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,description:n,provider:t,languageId:a,title:r})},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=setDescription"})},e.moveFiles=function(e,t,n,r,a){return O.Salesforce.sendRequest({data:{data:JSON.stringify({siteId:e,fileArray:t,source:n,destination:r,provider:a})},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e+"&action=moveFiles"})},e.linkCrmFolder=function(e){return O.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=linkCrmFolder"})},e.unlinkCrmFolder=function(e,t,n,r){return O.Salesforce.sendRequest({data:{data:JSON.stringify({folderId:e})},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+r+"&action=unlinkCrmFolder"})},e.getCrmFolders=function(e,t,n){return O.Salesforce.sendRequest({data:{data:JSON.stringify({directory:e,rootDirectory:t})},method:"POST",endpoint:O.Salesforce.Endpoints.ReadOnly+"?target=FileDataServer&siteId="+n+"&action=getCrmFolders"})},e.getVersionHistory=function(e,t){return O.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,provider:t})},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getVersionHistory"})},e.getFileTypes=function(){return O.Salesforce.sendRequest({method:"GET",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getFileTypes"})},e.syncAllCompanyGoogleDriveGroup=function(){return O.Salesforce.sendRequest({method:"GET",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=syncAllCompanyGoogleDriveGroup"})},e.getFileFolderPermission=function(e){return O.Salesforce.log("File.getFileFolderPermission---data---"+JSON.stringify(e)),O.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getFileFolderPermission"})},e.getAudienceCSVDownloadURL=function(e){return O.Salesforce.sendRequest({method:"POST",data:{data:JSON.stringify({fileId:e})},endpoint:O.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getAudienceCSVDownloadURL"})},e}(Simpplr,jQuery),Simpplr.Salesforce.Site=Simpplr.Salesforce.Site||{},Simpplr.Salesforce.Site=function(o,i){var e={};return e.get=function(e,t){return o.Salesforce.sendRequest({data:{siteId:e,chatterGroupId:t},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=getsiteDetailData"})},e.search=function(e){return o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadOnly+"?target=SiteDataServer&action=search"})},e.getMembers=function(e){return o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=search"})},e.getPeople=function(e){return o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadOnly+"?target=peopledataserver&action=search"})},e.setPeoplePermission=function(e,t,n){return o.Salesforce.sendRequest({data:{data:JSON.stringify({siteId:e,sfUserId:t,permission:n,provider:""})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=ManageSiteDataServer&action=setPeoplePermission&siteId="+e})},e.setFollowing=function(e,t){var n=o.Salesforce.VisualforceEndpoints.ReadWrite+"?target=ToggleFollowDataServer",r=new i.Deferred,a="",a=t?"followSite":"unfollowSite";return i.ajax({url:n,method:"get",data:{siteId:e,action:a},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){"success"===e.status?r.resolve(e):r.reject(e)}),r},e.setFavorited=function(e,t){var n="",n=t?"addfavorite":"removefavorite";return o.Salesforce.sendRequest({data:{siteId:e,action:n},method:"GET",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=ToggleBookmarkDataServer"})},e.save=function(e,t){return null==e?o.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=createSite"}):o.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=ManageSiteDataServer&action=saveSiteDetail&siteId="+e})},e.setImage=function(e,t){return o.Salesforce.sendRequest({data:{siteId:e,imageFile:JSON.stringify(t)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=setImage"})},e.rejectMembershipRequest=function(e,t){return o.Salesforce.sendRequest({data:{data:JSON.stringify({requestId:e,siteType:t})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=rejectMembershipRequest"})},e.approveMembershipRequest=function(e,t){return o.Salesforce.sendRequest({data:{data:JSON.stringify({requestId:e,siteType:t})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=approveMembershipRequest"})},e.setCoverImage=function(e,t){return o.Salesforce.sendRequest({data:{siteId:e,imageFile:JSON.stringify(t)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=setCoverImage"})},e.getPeopleStats=function(e,t){return o.Salesforce.sendRequest({data:{data:JSON.stringify({siteId:e,term:t})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=getPeopleStats"})},e.setFeatured=function(e,t,n){return o.Salesforce.sendRequest({data:{data:JSON.stringify({segmentId:e,listOfSiteIds:t,makeFeaturedBool:n})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=setFeatured"})},e.setPrivate=function(e,t){return o.Salesforce.sendRequest({data:{data:JSON.stringify({idsArray:e,makePrivateBool:t})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=setPrivate"})},e.setActivated=function(e,t){return o.Salesforce.sendRequest({data:{data:JSON.stringify({idsArray:e,makeActivatedBool:t})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=setActivated"})},e.setCategory=function(e,t){return o.Salesforce.sendRequest({data:{data:JSON.stringify({idsArray:e,categoryObj:t})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=setCategory"})},e.arrangeFeaturedSites=function(e,t){return o.Salesforce.sendRequest({data:{data:JSON.stringify({segmentId:e,IdsArray:t})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=arrangeFeaturedSites"})},e.request=function(e){return o.Salesforce.sendRequest({data:{data:e},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=request"})},e.getFollowRequest=function(e,t){return o.Salesforce.sendRequest({data:{type:"privateSiteAccess",requestId:e,action:"Get"},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=RequestApprovalDataServer"})},e.approveFollowRequest=function(e,t){return o.Salesforce.sendRequest({data:{type:"privateSiteAccess",requestId:e,action:"Approve"},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=RequestApprovalDataServer"})},e.rejectFollowRequest=function(e,t){return o.Salesforce.sendRequest({data:{type:"privateSiteAccess",requestId:e,action:"Reject"},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=RequestApprovalDataServer"})},e.removeMember=function(e,t,n){return o.Salesforce.sendRequest({data:{data:JSON.stringify({siteId:e,sfUserId:t,provider:n})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=ManageSiteDataServer&action=removeMember&siteId="+e})},e.removePeople=function(e,t){return o.Salesforce.sendRequest({data:{data:JSON.stringify({siteId:e,sfUserId:t})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=ManageSiteDataServer&action=removePeople&siteId="+e})},e.addMember=function(e,t,n){return o.Salesforce.sendRequest({data:{data:JSON.stringify({siteId:e,sfUserIds:t,provider:n})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=ManageSiteDataServer&action=addMember&siteId="+e})},e.addPeople=function(e,t){return o.Salesforce.sendRequest({data:{data:JSON.stringify({siteId:e,userDetail:t})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=ManageSiteDataServer&action=addPeople&siteId="+e})},e.revertToChatterGroup=function(e){return o.Salesforce.sendRequest({data:{siteId:e},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=revertToChatterGroup"})},e.approveSubscription=function(e,t){return o.Salesforce.sendRequest({data:{siteId:e,subscriptionId:t},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=approveSubscription"})},e.rejectSubscription=function(e,t){return o.Salesforce.sendRequest({data:{siteId:e,subscriptionId:t},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=rejectSubscription"})},e.disconnectApp=function(e,t){return o.Salesforce.sendRequest({data:{siteId:e,appName:t},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=ManageSiteDataServer&action=disconnectApp&siteId="+e})},e.getExternalAppsSettings=function(e){return o.Salesforce.sendRequest({method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=ManageSiteDataServer&action=getExternalAppsSettings&siteId="+e.siteId})},e.saveSiteExternalAppsConfig=function(e){return o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=ManageSiteDataServer&action=saveSiteExternalAppsConfig&siteId="+e.siteId})},e.getByIds=function(e,t){return o.Salesforce.sendRequest({data:{listOfSiteId:JSON.stringify(e),includeMemberFollowerCount:t},method:"POST",endpoint:o.Salesforce.Endpoints.ReadOnly+"?target=SiteDataServer&action=getByIds"})},e.createDuplicate=function(e,t,n){return o.Salesforce.sendRequest({data:{data:JSON.stringify({siteId:e,shouldCopyDashboard:t,shouldCopyPageCategories:n})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteDataServer&action=createDuplicate"})},e.transferAccount=function(e){return o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=ManageSiteDataServer&action=transferAccount"})},e}(Simpplr,jQuery),Simpplr.Salesforce.Global={search:function(e){Simpplr.Salesforce.log("Global.search---data---"+JSON.stringify(e));var t=Simpplr.Salesforce.Endpoints.ReadOnly+"?target=GlobalSearchDataServer",n="search";return"BoxFile"===e.section||"GoogleDriveFile"===e.section||"DropboxFile"===e.section||"SharePointFile"===e.section||"OneDriveFile"===e.section?t=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=GlobalSearchDataServer":"ServiceNow"===e.section?(t=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ServiceNowDataServer",n="getKnowledgebaseItems"):"NativeVideo"===e.section?(t=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ExternalSearchDataServer",n="externalSearch"):"Confluence"===e.section&&(t=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AtlassianDataServer",n="searchConfluence"),void 0!==e.siteId&&null!=e.siteId&&(t+="&siteId="+e.siteId),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t+"&action="+n+"&searchForType="+e.section})},saveSearchStats:function(e){return console.log(location.href),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=GlobalSearchDataServer&action=saveSearchStats"})},saveSearchResultSelect:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=GlobalSearchDataServer&action=saveSearchResultSelect"})},disconnectApp:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({appName:e})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=disconnectApp"})},autoComplete:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=GlobalSearchDataServer&action=searchAutoComplete"})},externalAutoComplete:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ExternalSearchDataServer&action=externalAutoComplete"})},externalSearch:function(e){Simpplr.Salesforce.log("Global.externalSearch---data---"+JSON.stringify(e));var t=Simpplr.Salesforce.Endpoints.ReadOnly+"?target=ExternalSearchDataServer",n="externalSearch";return"BoxFile"===e.section||"GoogleDriveFile"===e.section||"DropboxFile"===e.section||"SharePointFile"===e.section||"OneDriveFile"===e.section||"NativeVideo"===e.section?t=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ExternalSearchDataServer":"ServiceNow"===e.section?(t=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ServiceNowDataServer",n="getKnowledgebaseItems"):"Confluence"===e.section&&(t=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AtlassianDataServer",n="searchConfluence"),void 0!==e.siteId&&null!=e.siteId&&(t+="&siteId="+e.siteId),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t+"&action="+n+"&searchForType="+e.section})}},Simpplr.Salesforce.ManageApp=Simpplr.Salesforce.ManageApp||{},Simpplr.Salesforce.ManageApp=function(n){var e={getGeneralSetupConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=getGeneralSetupConfig"})},getGovernanceSetupConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=getGovernanceSetupConfig"})},getCategoryPeopleConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getCategoryPeopleConfig"})},getLicensingPeopleConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getLicensingPeopleConfig"})},getUserSyncingPeopleConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getUserSyncingPeopleConfig"})},getProfileFieldsPeopleConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getProfileFieldsPeopleConfig"})},getNavigationSetupConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getNavigationSetupConfig"})},getEmailSetupConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getEmailSetupConfig"})},getTroubleshootingConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getTroubleshootingConfig"})},getMobileAppConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getMobileAppConfig"})},getPrivilegesConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getPrivilegesConfig"})},getEmailNotificationsSettings:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getEmailNotificationsSettings"})},getDefaultFeedSettings:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getDefaultFeedSettings"})},getSMSNotificationsSettings:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getSMSNotificationsSettings"})},getNativeMobileAppNotificationsSettings:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getNativeMobileAppNotificationsSettings"})},getBrowserNotificationsSettings:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getBrowserNotificationsSettings"})},getSummariesAndDigestSettings:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getSummariesAndDigestSettings"})},getAnalyticsEmbedsIntegrationsConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getAnalyticsEmbedsIntegrationsConfig"})},getCalendarIntegrationsConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getCalendarIntegrationsConfig"})},getFilesIntegrationsConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getFilesIntegrationsConfig"})},getDomainsIntegrationsConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getDomainsIntegrationsConfig"})},getMessagingIntegrationsConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getMessagingIntegrationsConfig"})},getPeopleIntegrationsConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getPeopleIntegrationsConfig"})},getSearchIntegrationsConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=getSearchIntegrationsConfig"})},getSsoIntegrationsConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getSsoIntegrationsConfig"})},getSupportIntegrationsConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getSupportIntegrationsConfig"})},getCampaignsIntegrationsConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getCampaignsIntegrationsConfig"})},getUserProvisioningConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getUserProvisioningConfig"})},getUKGUserFieldConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getUKGUserFieldConfig"})},getListenerSuiteSetupConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getListenerSuiteSetupConfig"})},getRecognitionSetupConfig:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=SettingDataServer&action=getRecognitionSetupConfig"})},saveGeneralSetupConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveGeneralSetupConfig"})},saveGovernanceSetupConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveGovernanceSetupConfig"})},connectApp:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify({appName:e})},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=connectApp"})},disconnectApp:function(e,t){e={appName:e};return t&&t.spDisconnectAndUpgrade&&(e.spUpgradeAndDisconnect=!0),n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=disconnectApp"})},saveNavigationSetupConfig:function(e){return void 0!==e&&void 0!==e.isOrgChartEnabled&&("true"===e.isOrgChartEnabled?e.isOrgChartEnabled=!0:"false"===e.isOrgChartEnabled&&(e.isOrgChartEnabled=!1)),n.Salesforce.log("ManageApp.saveNavigationSetupConfig---data---"+JSON.stringify(e)),n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveNavigationSetupConfig"})},saveEmailSetupConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveEmailSetupConfig"})},saveCategoryPeopleConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveCategoryPeopleConfig"})},saveLicensingPeopleConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveLicensingPeopleConfig"})},saveCategoriesPeopleConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveCategoriesPeopleConfig"})},saveUserSyncingPeopleConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveUserSyncingPeopleConfig"})},saveProfileFieldsPeopleConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveProfileFieldsPeopleConfig"})},savePrivilegesConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=savePrivilegesConfig"})},saveTroubleshootingConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveTroubleshootingConfig"})},saveMobileAppConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveMobileAppConfig"})},saveEmailNotificationsSettings:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveEmailNotificationsSettings"})},saveDefaultFeedSettings:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveDefaultFeedSettings"})},saveSMSNotificationsSettings:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveSMSNotificationsSettings"})},saveNativeMobileAppNotificationsSettings:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveNativeMobileAppNotificationsSettings"})},saveBrowserNotificationsSettings:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveBrowserNotificationsSettings"})},saveSummariesAndDigestSettings:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveSummariesAndDigestSettings"})},saveAnalyticsEmbedsIntegrationsConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveAnalyticsEmbedsIntegrationsConfig"})},saveCalendarIntegrationsConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveCalendarIntegrationsConfig"})},saveFilesIntegrationsConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveFilesIntegrationsConfig"})},saveDomainsIntegrationsConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveDomainsIntegrationsConfig"})},startGoogleMultiInstanceUpgradeFlow:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=startGoogleMultiInstanceUpgradeFlow"})},saveMessagingIntegrationsConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveMessagingIntegrationsConfig"})},savePeopleIntegrationsConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=savePeopleIntegrationsConfig"})},saveSearchIntegrationsConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveSearchIntegrationsConfig"})},saveSsoIntegrationsConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveSsoIntegrationsConfig"})},saveSupportIntegrationsConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveSupportIntegrationsConfig"})},saveCampaignsIntegrationsConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveCampaignsIntegrationsConfig"})},saveUserProvisioningConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveUserProvisioningConfig"})},saveListenerSuiteSetupConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveListenerSuiteSetupConfig"})},saveRecognitionSetupConfig:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=saveRecognitionSetupConfig"})},startSlackUpgradeFlow:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=startSlackUpgradeFlow"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Scheduler=Simpplr.Salesforce.Scheduler||{},Simpplr.Salesforce.Scheduler=function(t){var e={search:function(e){return t.Salesforce.log("Scheduler.search---data---"+JSON.stringify(e)),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=SchedulerDataServer&action=search"})},run:function(e){return t.Salesforce.log("Scheduler.run---data---"+JSON.stringify(e)),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=SchedulerDataServer&action=runSchedulerNow"})},schedule:function(e){return t.Salesforce.log("Scheduler.run---data---"+JSON.stringify(e)),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=SchedulerDataServer&action=schduleSchdulerNow"})},clear:function(e){return t.Salesforce.log("Scheduler.clear---data---"+JSON.stringify(e)),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=SchedulerDataServer&action=clear"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Customization=Simpplr.Salesforce.Customization||{},Simpplr.Salesforce.Customization=function(s,d){var e={getValues:function(e){s.Salesforce.log(arguments);var t=d.Deferred();return d.ajax({data:{segmentId:e},method:"GET",url:s.Salesforce.VisualforceEndpoints.ReadWrite+"?target=UtilityDataServer&action=getValues",beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){t.resolve(e)}),t},refresh:function(e,t,n,r){return s.Salesforce.log("Customization.refresh--values---"),s.Salesforce.log(arguments),s.Salesforce.sendRequest({data:{segmentId:e,values:JSON.stringify(t),css:n,classNames:JSON.stringify(r)},method:"POST",endpoint:s.Salesforce.Endpoints.ReadWrite+"?target=UtilityDataServer&action=refreshCustomizations"})},save:function(e,t,n,r){return s.Salesforce.sendRequest({data:{segmentId:e,values:JSON.stringify(t),css:n,classNames:JSON.stringify(r)},method:"POST",endpoint:s.Salesforce.Endpoints.ReadWrite+"?target=UtilityDataServer&action=saveCustomizations"})},upload:function(r,a,o){var i=d.Deferred();return d.ajax({url:s.Salesforce.VisualforceEndpoints.ReadOnly+"?target=UtilityDataServer&action=getDRI",method:"GET",beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){var t,n=new FormData;n.append("rat",e.result),n.append("org_id",s.Settings.organizationId),null===a?n.append("segment_id",s.Settings.organizationId):n.append("segment_id",a),n.append("type",r),n.append("image",o,o.name),void 0!==e&&(t={status:"success",message:null,i18nmessage:null,result:{thumbnailImg:""}},d.ajax({url:"https://services.simpplr.com/upload/s3/app_asset_upload.php",method:"POST",data:n,async:!0,crossDomain:!0,contentType:!1,processData:!1}).done(function(e){t.result.thumbnailImg=e.imageURL,i.resolve(t)}).fail(function(e){i.reject(e)}))}).fail(function(e){i.reject(e)}),i}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Utility=Simpplr.Salesforce.Utility||{},Simpplr.Salesforce.Utility=function(n){var e={createAnalyticsRecord:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=AnalyticsTrackingDataServer"})},createAnalyticsFileUploadRecord:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=AnalyticsTrackingDataServer&action=createAnalyticsFileUploadRecord"})},getSecurityToken:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=UtilityDataServer&action=getSecurityToken"})},getAppConfig:function(){return n.Salesforce.sendRequest({method:"GET",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=UtilityDataServer&action=getAppConfig"})},getCurrentUserSettings:function(){return n.Salesforce.sendRequest({method:"GET",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=UtilityDataServer&action=getCurrentUserSettings"})},getDeferredAppConfig:function(){return n.Salesforce.sendRequest({method:"GET",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=UtilityDataServer&action=getDeferredAppConfig"})},getProfileFields:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=UtilityDataServer&action=getProfileFields"})},suggestTopics:function(e,t){return n.Salesforce.sendRequest({data:{data:JSON.stringify({text:e,title:t})},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=UtilityDataServer&action=suggestTopics"})},deleteDismissibleFlashes:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=UtilityDataServer&action=deleteDismissibleFlashes"})},getSchedulingSlots:function(){return n.Salesforce.sendRequest({method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=UtilityDataServer&action=getSchedulingSlots"})},getFromAddresses:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify({params:e})},method:"GET",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=UtilityDataServer&action=getFromAddresses"})},dateToUsersTZ:function(e){return moment.utc(e).utcOffset(n.Utility.getUtcOffset()).format()},getListenerSuiteJwt:function(){return n.Salesforce.sendRequest({method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=UtilityDataServer&action=getListenerSuiteJwt"})},getJWTToken:function(){return n.Salesforce.sendRequest({method:"GET",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=UtilityDataServer&action=getJWTToken"})},getSSJWTToken:function(){return n.Salesforce.sendRequest({method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=UtilityDataServer&action=getSSJWTToken"})},getAvailableTimezones:function(){return n.Salesforce.sendRequest({method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=UtilityDataServer&action=getAvailableTimezones"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.ActiveDirectory=function(n){var e={group:{},search:function(e){},groupSearch:function(e){var t=n.Salesforce.Endpoints.ReadOnly+"?target=ActiveDirectoryDataServer&action=groupSearch";return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:t})},getActiveDirectoryGroups:function(e){var t=n.Salesforce.Endpoints.ReadOnly+"?target=ActiveDirectoryDataServer&action=getActiveDirectoryGroups";return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:t})},getActiveDirectoryGroupMembers:function(e){var t=n.Salesforce.Endpoints.ReadOnly+"?target=ActiveDirectoryDataServer&action=getActiveDirectoryGroupMembers";return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:t})},getSelectedGroupTypes:function(){var e=n.Salesforce.Endpoints.ReadOnly+"?target=ActiveDirectoryDataServer&action=getSelectedGroupTypes";return n.Salesforce.sendRequest({method:"GET",endpoint:e})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Feedback=Simpplr.Salesforce.Feedback||{},Simpplr.Salesforce.Feedback=function(r){var e={create:function(e,t){var n={};return n.feedbackMsg=JSON.stringify(e.feedback),n.pageUrl=encodeURIComponent(window.location),n.pageTitle=encodeURIComponent(t),n.helpTopics=e.helpTopics,n.emailProductResearch=e.emailProductResearch,r.Salesforce.sendRequest({data:{data:JSON.stringify(n)},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=UtilityDataServer&action=sendFeedBackEmail"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.UserCategory=Simpplr.Salesforce.UserCategory||{},Simpplr.Salesforce.UserCategory=function(n){var e={search:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=PeopleCategoryDataServer&action=search"})},delete:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=PeopleCategoryDataServer&action=delete"})},create:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=PeopleCategoryDataServer&action=create"})},rename:function(e,t){return n.Salesforce.sendRequest({data:{data:JSON.stringify({id:e,name:t})},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=PeopleCategoryDataServer&action=rename"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.MySettings=Simpplr.Salesforce.MySettings||{},Simpplr.Salesforce.MySettings=function(t){var e={saveDashboardSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveDashboardSettings"})},saveProfileSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveProfileSettings"})},saveMobileNoOnProfileSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveMobileNoOnProfileSettings"})},saveFeedSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveFeedSettings"})},saveEmailNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveEmailNotificationsSettings"})},saveAppManagerNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveAppManagerNotificationsSettings"})},saveMobileAppNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveMobileAppNotificationsSettings"})},saveNativeMobileAppNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveNativeMobileAppNotificationsSettings"})},saveBrowserNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveBrowserNotificationsSettings"})},saveDesktopAppNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveDesktopAppNotificationsSettings"})},saveSummariesAndDigestSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveSummariesAndDigestSettings"})},saveExternalAppSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveExternalAppSettings"})},getEmailNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{peopleId:e},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=getEmailNotificationsSettings"})},getMobileAppNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{peopleId:e},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=getMobileAppNotificationsSettings"})},getAppManagerNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{peopleId:e},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=getAppManagerNotificationsSettings"})},getNativeMobileAppNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{peopleId:e},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=getNativeMobileAppNotificationsSettings"})},getBrowserNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{peopleId:e},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=getBrowserNotificationsSettings"})},getExternalAppsSettings:function(e){return t.Salesforce.sendRequest({data:{peopleId:e},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=getExternalAppsSettings"})},getSMSNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{peopleId:e},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=getSMSNotificationsSettings"})},saveSMSNotificationsSettings:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=saveSMSNotificationsSettings"})},getSummariesAndDigestSettings:function(e){return t.Salesforce.sendRequest({data:{peopleId:e},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=MySettingDataServer&action=getSummariesAndDigestSettings"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Album=function(o,i){var a,e={},s={File:{}};s.File.mapOfDeferred={};return e.search=function(e){var t=o.Salesforce.Endpoints.ReadOnly+"?target=AlbumDataServer&action=search";return void 0!==e.siteId&&(t+="&siteId="+e.siteId),o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:t})},e.uploadPhoto=function(e,t){sforce.connection.sessionId=o.CurrentUser.sessionId,s.File.albumId=e;var e=new Date,e="simp_cont_album#"+o.Settings.SITE_ID+"#"+e.getTime()+t.title,n=t.base64,r=new sforce.SObject("ContentVersion");return r.versionData=n,r.title=t.title,r.Origin="H",r.pathOnClient=e,s.File.mapOfDeferred[e]=i.Deferred(),a=s.File.mapOfDeferred[e].then(function(e){return e}),sforce.connection.create([r],{onSuccess:s.File.objectSaveSuccess,onFailure:s.File.objectSaveFailed,onProgress:function(e){e=e.loaded/e.total*100;s.File.Deferred.notify(e)}}),a},s.File.objectSaveSuccess=function(e){if(o.Salesforce.log("Album.objectSaveSuccess---result---"+JSON.stringify(e)),e[0].getBoolean("success")){e=sforce.connection.query("SELECT Id, Title, PathOnClient, ContentDocumentId,PublishStatus FROM ContentVersion WHERE Id='"+e[0].id+"'");records=e.getArray("records");for(var t=0;t<records.length;t++)var n=records[t].PathOnClient,r={id:s.File.albumId,fileContentVersionId:records[t].Id,fileContentDocId:records[t].ContentDocumentId,fileDescription:records[t].Title};var a={data:{data:JSON.stringify(r)},method:"POST",endpoint:o.Salesforce.VisualforceEndpoints.ReadWrite+"?target=SiteAddAlbumDataServer&action=addPhoto"};i.ajax({type:a.method,url:a.endpoint,data:a.data,beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb",a.method)}}).done(function(e){null!=e&&"success"===(e.status||"").toLowerCase()?s.File.mapOfDeferred[n].resolve(e):s.File.mapOfDeferred[n].reject()}).fail(function(){s.File.Deferred.reject()})}},s.File.objectSaveFailed=function(){s.File.data={},i.Deferred().reject()},e.addVideo=function(e,t){e={videoUrl:t.url,id:e,videoProvider:t.provider,videoId:t.id,size:t.size};return void 0!==t.thumbnailImg&&(e.videoThumbsnailImg=t.thumbnailImg),void 0!==t.title&&(e.videoTitle=t.title),o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteAddAlbumDataServer&action=addVideo"})},e.submitMedia=function(e,t){return o.Salesforce.sendRequest({data:{data:JSON.stringify({albumMediaList:t,albumId:e})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SiteAddAlbumDataServer&action=submitMedia"})},e.getMedia=function(e){return o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getMedia"})},e.setMediaLiked=function(e,t){return actionName=t?"like":"unlike",o.Salesforce.sendRequest({data:{recordId:e,action:actionName,likeType:"media"},method:"GET",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=ChatterInteractionDataServer"})},e}(Simpplr,jQuery),Simpplr.Salesforce.SiteCategory=Simpplr.Salesforce.SiteCategory||{},Simpplr.Salesforce.SiteCategory={get:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({categoryId:e})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CategoryDataServer&action=getSiteCategory"})},search:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadOnly+"?target=CategoryDataServer&action=searchSiteCategory"})},delete:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CategoryDataServer&action=deleteSiteCategory"})},save:function(e,t){return t.categoryId=e,Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CategoryDataServer&action=saveSiteCategory"})},setOrder:function(e){e={categoryIds:e};return Simpplr.Salesforce.log("Page.updateSiteCategoryPosition---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CategoryDataServer&action=updateSiteCategoryPosition"})}},Simpplr.Salesforce.Launchpad={search:function(e){return Simpplr.Salesforce.log("Launchpad.search---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadOnly+"?target=LaunchpadDataServer&action=search"})}},(Simpplr=Simpplr||{}).Salesforce=Simpplr.Salesforce||{},Simpplr.Salesforce.AppsAndLinks={get(e){return Simpplr.Salesforce.log("AppsAndLinks.get---segmentId---"+e),Simpplr.Salesforce.sendRequest({data:{segmentId:e},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadOnly+"?target=AppsAndLinksDataServer&action=get"})},save(e,t){return Simpplr.Salesforce.log("AppsAndLinks.save---segmentId---"+t+"---data---"+e),Simpplr.Salesforce.sendRequest({data:{segmentId:t,data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=AppsAndLinksDataServer&action=save"})}},Simpplr.Salesforce.Dashboard={getTileList:function(e){return Simpplr.Salesforce.sendRequest({data:{siteId:e.siteId,dashboardId:e.dashboardId,segmentId:e.segmentId},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TileDataServer&action=getTileList"})},getTile:function(e,t){return Simpplr.Salesforce.sendRequest({data:{siteId:e.siteId,dashboardId:e.dashboardId,segmentId:e.segmentId,tileId:t},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadOnly+"?target=TileDataServer&action=getTile"})},setPositions:function(e,t){return Simpplr.Salesforce.sendRequest({data:{siteId:e.siteId,dashboardId:e.dashboardId,segmentId:e.segmentId,position:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TileDataServer&action=setPositions"})},setLayout:function(e,t){return Simpplr.Salesforce.sendRequest({data:{siteId:e.siteId,dashboardId:e.dashboardId,segmentId:e.segmentId,layout:t},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TileDataServer&action=setLayout"})},addTile:function(e,t){return Simpplr.Salesforce.sendRequest({data:{siteId:e.siteId,dashboardId:e.dashboardId,segmentId:e.segmentId,tile:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TileDataServer&action=addTile"})},removeTile:function(e,t){return Simpplr.Salesforce.sendRequest({data:{siteId:e.siteId,dashboardId:e.dashboardId,segmentId:e.segmentId,tileId:t},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TileDataServer&action=removeTile"})},editTile:function(e,t,n){return Simpplr.Salesforce.sendRequest({data:{siteId:e.siteId,dashboardId:e.dashboardId,segmentId:e.segmentId,tileId:t,tile:JSON.stringify(n)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TileDataServer&action=editTile"})},resetToDefault:function(e){return Simpplr.Salesforce.sendRequest({data:{siteId:e.siteId,dashboardId:e.dashboardId,segmentId:e.segmentId},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TileDataServer&action=resetToDefault"})},applyDefaultHomeToAllUsers:function(e){return Simpplr.Salesforce.sendRequest({data:{siteId:e.siteId,dashboardId:e.dashboardId,segmentId:e.segmentId},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=TileDataServer&action=applyDefaultHomeToAllUsers"})}},Simpplr.Salesforce.Analytics=function(t){var e={getCompanyStats:function(){return t.Salesforce.sendRequest({method:"GET",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=getCompanyStats"})},getAdoptionAverage:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getAdoptionAverage"})},getMonthlyReports:function(){return t.Salesforce.sendRequest({method:"GET",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getMonthlyReports"})},getAdoptionData:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getAdoptionData"})},getLoginsOverTime:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getLoginsOverTime"})},getLoginsList:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getLoginsList"})},getPageviews:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getPageviews"})},getEngagement:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getEngagement"})},getEngagementList:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getEngagementList"})},getPeoplePerformance:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getPeoplePerformance"})},getPeopleOverview:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getPeopleOverview"})},getPeopleProfileCompleteness:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getPeopleProfileCompleteness"})},getPerformanceContent:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getPerformanceContent"})},getLowActivitySites:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getLowActivitySites"})},getInstallStats:function(){return t.Salesforce.sendRequest({method:"GET",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=getInstallStats"})},getViewsOverTime:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getViewsOverTime "})},getContentViewsOverTime:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getContentViewsOverTime "})},getContentViews:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getContentViews"})},getConsumptionOverTime:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getConsumptionOverTime"})},getContentViewsByType:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getContentViewsByType"})},getSiteViews:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getSiteViews"})},getSiteViewsTotal:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getSiteViewsTotal"})},getSiteCounts:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getSiteCounts"})},getSitePopularity:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getSitePopularity"})},getSitePublications:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getSitePublications"})},getContentPopularity:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getContentPopularity"})},getContentPublications:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getContentPublications"})},getContentViewsList:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getContentViewsList"})},getViewsList:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getViewsList"})},getAppPageViews:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getAppPageViews"})},getCampaigns:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getCampaigns"})},getNewsletters:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getNewsletters"})},getSearches:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getSearches"})},getSearchList:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getSearchList"})},getKnowledgePageStats:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getKnowledgePageStats "})},getLastSyncDate:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify({type:e})},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getLastSyncDate "})},getContentReferralSources:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getContentReferralSources "})},getContentEngagement:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getContentEngagement "})},getRecommendationByType:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=AnalyticsDataServer&action=getRecommendationByType"})},getCustomerSegmentAdoption:function(){return t.Salesforce.sendRequest({data:{data:""},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=AnalyticsDataServer&action=getCustomerSegmentAdoption"})},getAppAdoption:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getAppAdoption"})},getVideoPopularity:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getVideoPopularity"})},getVideoAdoption:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getVideoAdoption"})},getViewedByMetricData:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsDataServer&action=getViewedByMetricData"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.AnalyticsLegacy=function(t){var e={getAdoptionCounts:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action=getAdoptionCounts"})},getAdoptionAverage:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action=getAdoptionAverage"})},getAdoption:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action=getAdoption"})},getLogins:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action=getLogins"})},getPageviews:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action=getPageviews"})},getEngagementFeed:function(e){return action="getEngagementFeed","metric"in e&&(action+=e.metric),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action="+action})},getEngagementContent:function(e){return action="getEngagementContent","metric"in e&&(action+=e.metric),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action="+action})},getEngagementContentTypes:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action=getEngagementContentTypes"})},getPerformanceSites:function(e){return action="getPerformanceSites","metric"in e&&(action+=e.metric),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action="+action})},getPerformancePeople:function(e){return action="getPerformancePeople","metric"in e&&(action+=e.metric),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action="+action})},getPerformanceContent:function(e){return action="getPerformanceContent","metric"in e&&(action+=e.metric),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action="+action})},getPerformanceTopics:function(e){return action="getPerformanceTopics","metric"in e&&(action+=e.metric),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action="+action})},getPerformanceSearch:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action=getPerformanceSearch"})},getPerformanceZeroSearchResults:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadOnly+"?target=AnalyticsLegacyDataServer&action=getPerformanceZeroSearchResults"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Newsletter=function(o,i){var e={sendPreview:function(e,t,n){e={newsletterId:e,itemData:t,email:n};return o.Salesforce.log("Newsletter.sendPreview---data---"+JSON.stringify(e)),o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=NewsletterDataServer&action=sendPreview"})},sendNow:function(e,t){e={newsletterId:e,itemData:t};return o.Salesforce.log("Newsletter.sendNow---data---"+JSON.stringify(e)),o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=NewsletterDataServer&action=sendNow"})},get:function(e){return o.Salesforce.log("-----------Newsletter.get()--------------"+e),o.Salesforce.sendRequest({data:{newsletterId:e},method:"GET",endpoint:o.Salesforce.Endpoints.ReadOnly+"?target=NewsletterDataServer&action=get"})},saveDraft:function(e,t){e={data:e,sendPreview:t};return o.Salesforce.log("Newsletter.saveDraft---data---"+JSON.stringify(e)),o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=NewsletterDataServer&action=saveDraft"})},update:function(e,t){e={newsletterId:e,itemData:t};return o.Salesforce.log("Newsletter.update---data---"+JSON.stringify(e)),o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=NewsletterDataServer&action=update"})},delete:function(e){return o.Salesforce.log("Newsletter.delete---"+e),o.Salesforce.sendRequest({data:{newsletterId:e},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=NewsletterDataServer&action=delete"})},edit:function(e){return o.Salesforce.log("Newsletter.edit---"+e),o.Salesforce.sendRequest({data:{newsletterId:e},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=NewsletterDataServer&action=edit"})},schedule:function(e,t){e={newsletterId:e,itemData:t};return o.Salesforce.log("Newsletter.schedule---data---"+JSON.stringify(e)),o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=NewsletterDataServer&action=schedule"})},search:function(e){return o.Salesforce.log("Newsletter.search---params---"+JSON.stringify(e)),o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=NewsletterDataServer&action=search"})},uploadImageToAWS:function(e){return o.Salesforce.sendRequest({data:{contentVersionId:e},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=uploadImageToAWS"})},upload:function(r){var a=i.Deferred();return i.ajax({url:o.Salesforce.VisualforceEndpoints.ReadOnly+"?target=UtilityDataServer&action=getDRI",method:"GET",beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){var t,n=new FormData;n.append("rat",e.result),n.append("org_id",o.Settings.organizationId),n.append("folder_name","newsletter"),n.append("image",r,"blob"),void 0!==e&&(t={status:"success",message:null,i18nmessage:null,result:{bannerUrl:""}},i.ajax({url:"https://services.simpplr.com/upload/s3/app_asset_upload.php",method:"POST",data:n,async:!0,crossDomain:!0,contentType:!1,processData:!1}).done(function(e){t.result.url=e.imageURL,a.resolve(t)}).fail(function(e){a.reject(e)}))}).fail(function(e){a.reject(e)}),a}};return e}(Simpplr,jQuery),Simpplr.Salesforce.NewsletterV2=function(n){var e={save:function(e,t){return n.Salesforce.sendRequest({data:{data:JSON.stringify(t),newsletterId:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=save"})},get:function(e){return n.Salesforce.sendRequest({data:{newsletterId:e},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=get"})},getAuditLog:function(e){return n.Salesforce.sendRequest({data:{newsletterId:e},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getAuditLog"})},getSnapshot:function(e){return n.Salesforce.sendRequest({data:{newsletterId:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getSnapshot"})},delete:function(e){return n.Salesforce.sendRequest({data:{newsletterId:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=delete"})},send:function(e){return n.Salesforce.sendRequest({data:{newsletterId:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=send"})},sendPreview:function(e,t){return n.Salesforce.sendRequest({data:{newsletterId:e,data:JSON.stringify(t)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=sendPreview"})},search:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=search"})},validate:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=validate"})},getAnalyticsOverview:function(e){return n.Salesforce.sendRequest({data:{newsletterId:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getAnalyticsOverview"})},getAnalyticsClicksListing:function(e,t){return n.Salesforce.sendRequest({data:{newsletterId:e,order:t},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getAnalyticsClicksListing"})},getAnalyticsHeatmap:function(e){return n.Salesforce.sendRequest({data:{newsletterId:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getAnalyticsHeatmap"})},getEmailIdentities:function(){return n.Salesforce.sendRequest({data:{data:""},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getEmailIdentities"})},getEmailIdentityDetails:function(e){return n.Salesforce.sendRequest({data:{id:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getEmailIdentityDetails"})},createEmailIdentity:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=createEmailIdentity"})},updateEmailIdentity:function(e,t){return n.Salesforce.sendRequest({data:{id:e,data:JSON.stringify(t)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=updateEmailIdentity"})},deleteEmailIdentity:function(e){return n.Salesforce.sendRequest({data:{id:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=deleteEmailIdentity"})},syncEmailIdentity:function(e){return n.Salesforce.sendRequest({data:{id:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=syncEmailIdentity"})},getFilterOptions:function(){return n.Salesforce.sendRequest({data:{data:""},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getFilterOptions"})},getContentAnalytics:function(e){return n.Salesforce.sendRequest({data:{days:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getContentAnalytics"})},sessionHeartbeat:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=sessionHeartbeat"})},getCategories:function(){return n.Salesforce.sendRequest({data:{data:""},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getCategories"})},saveCategory:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=saveCategory"})},getDetailedCategories:function(){return n.Salesforce.sendRequest({data:{data:""},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getDetailedCategories"})},getCategoryOverview:function(e){return n.Salesforce.sendRequest({data:{categoryId:e},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getCategoryOverview"})},getCategoryNewsletters:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getCategoryNewsletters"})},getCategoryUnsentNewsletters:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getCategoryUnsentNewsletters"})},getArchivedNewsletters:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e),forIds:!1},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getArchivedNewsletters"})},getArchivedNewsletterIds:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e),forIds:!0},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getArchivedNewsletters"})},getAllSenderAddresses:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getAllSenderAddresses"})},getAllDomains:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getAllDomains"})},createDomain:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=createDomain"})},createSenderAddress:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=createSenderAddress"})},updateSenderAddress:function(e,t){return n.Salesforce.sendRequest({data:{id:e,data:JSON.stringify(t)},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=updateSenderAddress"})},deleteSenderAddress:function(e){return n.Salesforce.sendRequest({data:{id:e},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=deleteSenderAddress"})},deleteDomain:function(e){return n.Salesforce.sendRequest({data:{id:e},method:"GET",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=deleteDomain"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Unsplash=function(r){var e={getPhotos:function(e,t,n){return r.Salesforce.sendRequest({data:{query:e,page:t,perpage:n},method:"POST",endpoint:r.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=getPhotos"})},trackDownload:function(e){return r.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:r.Salesforce.Endpoints.ReadOnly+"?target=NewsletterV2DataServer&action=trackDownload"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.NewsletterTemplate=function(n){var e={save:function(e,t){return n.Salesforce.sendRequest({data:{templateId:e,data:JSON.stringify(t)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=NewsletterTemplateDataServer&action=save"})},get:function(e){return n.Salesforce.sendRequest({data:{templateId:e},method:"GET",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=NewsletterTemplateDataServer&action=get"})},delete:function(e){return n.Salesforce.sendRequest({data:{templateId:e},method:"POST",endpoint:n.Salesforce.Endpoints.ReadOnly+"?target=NewsletterTemplateDataServer&action=delete"})},search:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=NewsletterTemplateDataServer&action=search"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Box=function(a,r){var e={getDownloadUrl:function(e,t){var n=r.Deferred(),e=e.id;return a.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,versionId:t})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getDownloadUrl"}).done(function(e){a.Salesforce.log(JSON.stringify(e)),n.resolve(JSON.stringify(e))})},getFolders:function(e){return a.Salesforce.log("File.getFolders---directoryArg---"+JSON.stringify(e)),a.Salesforce.sendRequest({data:{data:JSON.stringify({directory:e})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getBoxLinkableFolders"})},disconnectUser:function(e){return a.Salesforce.log("File.disconnectUser---data---"+JSON.stringify(e)),a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=disconnectUser"})},disconnectAdmin:function(e){return a.Salesforce.log("Box.disconnectAdmin---data---"+JSON.stringify(e)),a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=disconnectAdmin"})},getAccessToken:function(){a.Salesforce.log(arguments);var t=r.Deferred();return r.ajax({url:a.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=getAccessToken",method:"POST",data:{data:JSON.stringify({})},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){a.Salesforce.log(JSON.stringify(e)),t.resolve(e)}),t},resetAccessToken:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=resetCurrentUserBoxAccessToken"})},unlinkFolder:function(e,t,n,r){e={folderId:e,siteId:r};return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=unlinkFolder"})},createFolder:function(e){return a.Salesforce.log("File.createBoxFolder---data---"+JSON.stringify(e)),a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=createBoxFolder"})},linkFolder:function(e){return a.Salesforce.log("Box.linkFolder---data---"+JSON.stringify(e)),a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=linkFolder"})},getVersionHistory:function(e,t){return a.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,provider:t})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getVersionHistory"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.GoogleDrive=function(i,s){var e={disconnectAdmin:function(e){return i.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:i.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=disconnectGoogleDriveAdmin"})},disconnectUser:function(e){return i.Salesforce.sendRequest({data:{data:JSON.stringify({appName:"googledrive"})},method:"POST",endpoint:i.Salesforce.Endpoints.ReadWrite+"?target=peopledataserver&action=disconnectApp"})},getAccessToken:function(){i.Salesforce.log(arguments);var t=s.Deferred();return s.ajax({url:i.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&provider=googledrive&action=getGoogleDriveAccessToken",method:"POST",data:{data:JSON.stringify({})},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){i.Salesforce.log(JSON.stringify(e)),t.resolve(e)}),t},resetAccessToken:function(e){return i.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:i.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=resetGoogleAccessToken"})},getFolders:function(e,t,n){i.Salesforce.log("GoogleDrive.getFolders---dataArg---"+JSON.stringify(t));e={directory:e,currentDirectory:t.id,storage:"googledrive",type:t.type,nextPageToken:t.nextPageToken,size:t.size,term:t.term,siteId:n};return i.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:i.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getGoogleDriveLinkFolders"})},createFolder:function(e){return i.Salesforce.log("GoogleDrive.createFolder---data---"+JSON.stringify(e)),null==e.siteId&&(e.siteId=""),i.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:i.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=createGoogleFolder"})},linkFolder:function(e){return i.Salesforce.log("GoogleDrive.linkFolder---data---"+JSON.stringify(e)),i.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:i.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=linkGoogleDriveFolder"})},getSiteSharedDrive:function(e){return i.Salesforce.log("GoogleDrive.getSiteSharedDrive---data---"+JSON.stringify(e)),i.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:i.Salesforce.Endpoints.ReadOnly+"?target=FileDataServer&siteId="+e.siteId+"&action=getSiteSharedDriveDetails"})},unlinkFolder:function(e,t,n,r){i.Salesforce.log("GoogleDrive.unlinkFolder---folderId---"+JSON.stringify(e));e={folderId:e,provider:t,siteId:r};return i.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:i.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=unLinkGoogleDriveFolder"})},getDownloadUrl:function(e,n){console.log(arguments);var r=s.Deferred(),a=e.id,o=!1;return"gdoc"!=e.type.toLowerCase()&&"gslides"!=e.type.toLowerCase()&&"gsheet"!=e.type.toLowerCase()&&"gdraw"!=e.type.toLowerCase()||(o=!0),i.Salesforce.log(e.type+" -- "+o),s.ajax({url:i.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&provider=googledrive&action=getGoogleDriveAccessToken",method:"POST",data:{data:JSON.stringify("data")},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){var t,e=e.result;window.XMLHttpRequest&&(t=new XMLHttpRequest,o?t.open("GET","https://www.googleapis.com/drive/v3/files/"+a+"/export?supportsAllDrives=true&mimeType=application/pdf&alt=media",!0):void 0!==n&&""!=n&&null!=n?t.open("GET","https://www.googleapis.com/drive/v3/files/"+a+"/revisions/"+n+"?alt=media&supportsAllDrives=true",!0):t.open("GET","https://www.googleapis.com/drive/v3/files/"+a+"?alt=media&supportsAllDrives=true",!0),i.Salesforce.log("Access Token:"+e),t.setRequestHeader("Authorization","Bearer "+e),t.responseType="blob",t.onload=function(){var e={status:"success",message:"",debugLogs:[],i18nmessage:"",responseTimeStamp:""};200===this.status?t.response instanceof Blob?(e.result=t.response,r.resolve(e)):(e.result=null,e.status="error",e.message="Unable to perform action",r.reject(e)):(i.Salesforce.log(arguments),e.result=null,e.status="error",e.message="Unable to perform action",r.reject(e))},t.send())}),r},getVersionHistory:function(e,t){return i.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,provider:t})},method:"POST",endpoint:i.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getVersionHistory"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Dropbox=function(o,i){var e={disconnectAdmin:function(e){return o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=disconnectDropboxAdmin"})},getAccessToken:function(){o.Salesforce.log(arguments);var t=i.Deferred();return i.ajax({url:o.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=getEFSAccessToken",method:"POST",data:{data:JSON.stringify({})},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){o.Salesforce.log(JSON.stringify(e)),t.resolve(e)}),t},resetAccessToken:function(e){return o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=resetEFSAccessToken"})},getFolders:function(e,t){o.Salesforce.log("Dropbox.getFolders---thisDirectory---"+JSON.stringify(t));e={directory:e,currentDirectory:t.id};return o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getEFSLinkFolders"})},createFolder:function(e){return o.Salesforce.log("Dropbox.createFolder---data---"+JSON.stringify(e)),o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=createEFSFolder"})},getDownloadUrl:function(e,t){console.log(arguments);var n=i.Deferred(),r=t||e.latestPublishedVersionId,a=e.id;return r&&4<r.length&&(r.startsWith("rev:")||(r="rev:"+r),a=r),i.ajax({url:o.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=getDropboxAccessToken",method:"GET",beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){var t,e=e.result;window.XMLHttpRequest&&((t=new XMLHttpRequest).onload=function(){var e={status:"success",message:"",debugLogs:[],i18nmessage:"",responseTimeStamp:""};200===this.status?t.response instanceof Blob?(e.result=t.response,n.resolve(e)):(e.result=null,e.status="error",e.message="Unable to perform action",n.reject(e)):(o.Salesforce.log(arguments),e.result=null,e.status="error",e.message="Unable to perform action",n.reject(e))},t.open("POST","https://services.simpplr.com/upload/dropbox/download.php"),t.responseType="blob",t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e="drat="+e+"&path="+a,t.send(e))}),n},getVersionHistory:function(e,t){return o.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,provider:t})},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getVersionHistory"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.PostInstall=Simpplr.Salesforce.PostInstall||{},Simpplr.Salesforce.PostInstall=function(n){var e={startInitialSetup:function(e){return n.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:n.Salesforce.Endpoints.ReadWrite+"?target=PostInstallSetupServer&action=startInitialSetup"})},resetConfigs:function(e,t){e=n.Salesforce.Endpoints.ReadWrite+"?target=PostInstallSetupServer&action="+e.action;return"tile"in t&&(e=e+"&tileId="+t.tile,"activate"==t.action?e+="&active=true":e+="&active=false","makeFirst"in t?e+="&makeFirst=true":e+="&makeFirst=false"),n.Salesforce.log(e),n.Salesforce.sendRequest({data:{data:""},method:"POST",endpoint:e})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Questions=function(r){var e={get:function(e,t){return r.Salesforce.sendRequest({data:{questionId:e,siteId:t},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=QuestionsDataServer&action=get"})},create:function(e){return r.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=QuestionsDataServer&action=create"})},update:function(e,t){return r.Salesforce.sendRequest({data:{questionId:t,data:JSON.stringify(e)},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=QuestionsDataServer&action=update"})},delete:function(e,t){return r.Salesforce.sendRequest({data:{questionId:e,siteId:t},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=QuestionsDataServer&action=delete"})},search:function(e){return r.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=QuestionsDataServer&action=search"})},suggestion:function(e){return r.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=QuestionsDataServer&action=suggestion"})},markDuplicate:function(e,t,n){return r.Salesforce.sendRequest({data:{questionId:e,originalQuestionId:t,siteId:n},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=QuestionsDataServer&action=markAsDuplicate"})},markNotDuplicate:function(e,t){return r.Salesforce.sendRequest({data:{questionId:e,siteId:t},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=QuestionsDataServer&action=markAsNotDuplicate"})},markPublished:function(e,t){return r.Salesforce.sendRequest({data:{questionId:e,siteId:t},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=QuestionsDataServer&action=publish"})},markUnpublished:function(e,t){return r.Salesforce.sendRequest({data:{questionId:e,siteId:t},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=QuestionsDataServer&action=unpublish"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Campaign={get:function(e){return Simpplr.Salesforce.sendRequest({data:{campaignId:e},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CampaignDataServer&action=get"})},search:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CampaignDataServer&action=search"})},delete:function(e){return Simpplr.Salesforce.sendRequest({data:{campaignId:e},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CampaignDataServer&action=delete"})},setActive:function(e,t){return Simpplr.Salesforce.sendRequest({data:{campaignId:e,isActive:t},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CampaignDataServer&action=setActive"})},save:function(e,t){return Simpplr.Salesforce.sendRequest({data:{campaignId:e,data:JSON.stringify(t)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CampaignDataServer&action=save"})},share:function(e,t,n){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify({campaignId:e,network:t,message:n})},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CampaignDataServer&action=share"})},shareToFeed:function(e,t){$.Deferred();void 0!==t.urlName&&255<=t.urlName.length&&(t.urlName=t.urlName.substring(0,200)),void 0!==t.url&&(t.url=t.url.replace(/\//g,"\\\\/"));e={action:"share",campaignId:e,subjectId:t.subjectId,Type:t.type,url:t.url,urlName:t.urlName,textToPost:t.body};return Simpplr.Salesforce.sendRequest({data:e,method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ChatterInteractionDataServer"})},getShareHistory:function(e){return Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=CampaignDataServer&action=getShareHistory"})}},Simpplr.Salesforce.Segment=function(o){var e={};return e.search=function(e){return o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:o.Salesforce.Endpoints.ReadOnly+"?target=SegmentDataServer&action=search"})},e.setEnabled=function(e,t,n,r,a){return o.Salesforce.sendRequest({data:{profileField:e,isBrandingSegmented:t,isAppsAndLinksSegmented:a,data:JSON.stringify(n),shouldInherit:r},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SegmentDataServer&action=setEnabled"})},e.get=function(e){return o.Salesforce.sendRequest({data:{segmentId:e},method:"GET",endpoint:o.Salesforce.Endpoints.ReadOnly+"?target=SegmentDataServer&action=get"})},e.setManagers=function(e,t){return o.Salesforce.sendRequest({data:{segmentId:e,listOfManagers:JSON.stringify(t)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SegmentDataServer&action=setManagers"})},e.allowBranding=function(e){return o.Salesforce.sendRequest({data:{isEnabled:e},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SegmentDataServer&action=allowBranding"})},e.allowAppsAndLinks=function(e){return o.Salesforce.sendRequest({data:{isEnabled:e},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SegmentDataServer&action=allowAppsAndLinks"})},e.setup=function(e){return o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SegmentDataServer&action=setup"})},e.getPossibleSubsegments=function(e){return o.Salesforce.sendRequest({data:{profileField:e},method:"POST",endpoint:o.Salesforce.Endpoints.ReadWrite+"?target=SegmentDataServer&action=getPossibleSubsegments"})},e.getByIds=function(e){return o.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:o.Salesforce.Endpoints.ReadOnly+"?target=SegmentDataServer&action=getByIds"})},e}(Simpplr,jQuery),Simpplr.Salesforce.Subscription=function(r){var e={};return e.search=function(e){var t=r.Salesforce.Endpoints.ReadOnly+"?target=SubscriptionDataServer&action=search";return r.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:t})},e.get=function(e){var t=r.Salesforce.Endpoints.ReadOnly+"?target=SubscriptionDataServer&action=get";return r.Salesforce.sendRequest({data:{subscriptionId:e},method:"GET",endpoint:t})},e.save=function(e,t){var n=r.Salesforce.Endpoints.ReadWrite+"?target=SubscriptionDataServer&action=save";return t.subscriptionId=e,r.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:n})},e.rerun=function(e){var t=r.Salesforce.Endpoints.ReadWrite+"?target=SubscriptionDataServer&action=rerun";return r.Salesforce.sendRequest({data:{subscriptionId:e},method:"GET",endpoint:t})},e.delete=function(e,t){var n=r.Salesforce.Endpoints.ReadWrite+"?target=SubscriptionDataServer&action=delete";return r.Salesforce.sendRequest({data:{subscriptionId:e,deleteUnfollow:t},method:"GET",endpoint:n})},e}(Simpplr,jQuery),Simpplr.Salesforce.Audience=function(r){var e={};return e.getAvailableFields=function(){return r.Salesforce.sendRequest({data:{data:JSON.stringify(data)},method:"GET",endpoint:r.Salesforce.Endpoints.ReadOnly+"?target=AudienceDataServer&action=getAvailableFields"})},e.getFieldValues=function(e){return r.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:r.Salesforce.Endpoints.ReadOnly+"?target=AudienceDataServer&action=getFieldValues"})},e.get=function(e,t){return r.Salesforce.sendRequest({data:{data:JSON.stringify({audienceId:e,fromEditModal:t})},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=AudienceDataServer&action=get"})},e.search=function(e){return r.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:r.Salesforce.Endpoints.ReadOnly+"?target=AudienceDataServer&action=search"})},e.delete=function(e){return r.Salesforce.sendRequest({data:{data:JSON.stringify({audienceId:e})},method:"POST",endpoint:r.Salesforce.Endpoints.ReadWrite+"?target=AudienceDataServer&action=delete"})},e.save=function(e,t){var n=r.Salesforce.Endpoints.ReadWrite+"?target=AudienceDataServer&action=save";return t.audienceId=e,r.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:n})},e.getByIds=function(e){return r.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:r.Salesforce.Endpoints.ReadOnly+"?target=AudienceDataServer&action=getByIds"})},e}(Simpplr,jQuery),Simpplr.Salesforce.Flag=function(t){var e={dismiss:function(e){return t.Salesforce.sendRequest({data:{data:e},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=FlagDataServer&action=dismiss"})},dismissOnboarding:function(e){return t.Salesforce.sendRequest({data:{data:e},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=FlagDataServer&action=dismissOnboarding"})},resetOnboarding:function(){return t.Salesforce.sendRequest({data:{data:""},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=FlagDataServer&action=resetOnboarding"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.SharePoint=function(p,f){function u(e,t,n){var r=f.extend(!0,{},g),a=p.Salesforce.Links.FileDetail+"?fileId="+e.id+"&rootdirectory="+t+"&provider=sharepoint&permission=readwrite";return""!==n&&(a=a+"&siteId="+n),r.result.id=e.id,r.result.fileId=e.id,r.result.rootDirectory=t,r.result.title=e.name,r.result.fileExtension=r.result.title.substring(r.result.title.lastIndexOf(".")+1).toUpperCase(),r.result.name=e.name,r.result.type=r.result.title.substring(r.result.title.lastIndexOf(".")+1).toUpperCase(),r.result.url=a,r.result.fileUrl=a,r.result.canDelete=!0,r.result.canMove=!0,r.result.externalUrl=e.webUrl,r.result.canDownload=!0,r.result.canCreateNewVersion=!0,r.result.canChangeName=!1,r.result.context="sharepoint",r.result.provider="sharepoint",r.result.thumbnailImg="",r.result.type=r.result.title.substring(r.result.title.lastIndexOf(".")+1).toUpperCase(),r.result.size=e.size,r.result.modifiedAt=e.lastModifiedDateTime,r.result.owner={},r.result.owner.id=p.CurrentUser.peopleId,r.result.owner.name=p.CurrentUser.name,r.result.owner.url="/apex/app?u=/people/"+p.CurrentUser.peopleId,r.result.site={},r.result.site.id="",r.result.site.name="",r.result.site.url="",r}var e={},g={status:"success",message:null,i18nmessage:null,result:{title:"",size:"",contentVersionId:"",fileType:"",source:"intranet",downloadUrl:"",fileUrl:""}};return e.getAccessToken=function(){return p.Salesforce.log(arguments),f.ajax({url:p.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=getEFSAccessToken&provider=sharepoint",method:"POST",data:{data:JSON.stringify("data")},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}})},e.resetAccessToken=function(e){return p.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=resetEFSAccessToken&provider=sharepoint"})},e.setFolderName=function(e,t,n,r,a){e={folderId:e,provider:t,name:n,rootDirectory:r,siteId:a};return p.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=setFolderName"})},e.linkFolder=function(e){return p.Salesforce.log("Sharepoint.linkFolder---data---"+JSON.stringify(e)),p.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=linkSharepointFolder"})},e.unlinkFolder=function(e,t,n,r){return p.Salesforce.log("Sharepoint.unlinkFolder---folderId---"+JSON.stringify(e)),p.Salesforce.sendRequest({data:{data:JSON.stringify({folderId:e,provider:t,rootDirectory:n,siteId:r})},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+r+"&action=unlinkSharepointFolder"})},e.getLinkableItems=function(e){return p.Salesforce.log("Sharepoint.getLinkableItems"+e),p.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getSharePointLinkableItems"})},e.moveFiles=function(e,t,n,r){console.log(t),r=void 0===r.rootDirectory?(a=r.id,"root"):(a=r.rootDirectory,r.id);var a,t={siteId:e,fileArray:t,sourceRoot:n.rootDirectory,source:n.id,destinationRoot:a,destination:r,provider:"sharepoint"};return p.Salesforce.log("Sharepoint.moveFiles---data---"+JSON.stringify(t)),p.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e+"&action=moveFiles"})},e.createFolder=function(e){return p.Salesforce.log("Sharepoint.createFolder---data---"+JSON.stringify(e)),p.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=createEFSFolder&provider=sharepoint"})},e.deleteFile=function(e,t,n,r){return p.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,provider:t,fileSiteId:n,rootDirectory:r})},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=deleteFile&siteId="+n})},e.deleteFolder=function(e,t,n,r){return p.Salesforce.sendRequest({data:{data:JSON.stringify({folderId:e,provider:t,siteId:n,rootDirectory:r})},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=deleteFolder"})},e.getDownloadUrl=function(e,t){var n,r;return t?(t={driveId:e.rootDirectory,fileId:e.fileId,versionId:t},p.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getSharePointVersionDownloadUrl"})):(n=f.Deferred(),r="https://graph.microsoft.com/v1.0/drives/"+e.rootDirectory+"/items/"+e.id,f.ajax({url:p.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=getEFSAccessToken&provider=sharepoint",method:"POST",data:{data:JSON.stringify("data")},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){e=e.result;f.ajax({url:r,method:"GET",headers:{Authorization:"Bearer "+e,Accept:"application/json, text/plain"}}).done(function(e){e=e["@microsoft.graph.downloadUrl"];n.resolve({status:"success",message:"",debugLogs:[],i18nmessage:"",responseTimeStamp:"",result:{url:e}})}).fail(function(e){var t={result:null,status:"error",message:"403"};n.reject(t)})}).fail(function(e){var t={result:null,status:"error",message:""};n.reject(t)}),n)},e.generateFilePreview=function(){},e.upload=function(n){var e,t,r,a=f.Deferred(),o=(n.driveId=n.rootDirectory,e=void 0===n.directoryId||n.rootDirectory==n.directoryId?"/root:/"+n.name+":":n.directoryId.startsWith("/root")?n.directory+"/"+n.name+":":"/items/"+n.directory+":/"+n.name+":",{sharepoint:["\\","/","~","%","&","*",",","}",",",":","<",">","?","|","“"]}[n.provider]);for(t in o)if(0<=n.name.indexOf(o[t]))return(r=f.extend(!0,{},g)).status="error",r.message="It's not possible to upload file - please rename without special characters",r.result={isValidFileName:!1},r.i18nmessage="It's not possible to upload file - please rename without special characters",a.reject(r),a;new FileReader;var i={},s=!0;return n.size<4e6&&(i=n,s=!1),f.ajax({url:"https://graph.microsoft.com/v1.0/drives/"+n.driveId+e+"/content",type:"PUT",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+n.accessToken),e.setRequestHeader("Content-Type","application/octet-stream")},processData:!1,contentType:!1,data:i}).done(function(e){s?(n.id=e.id,f.ajax({url:"https://graph.microsoft.com/v1.0/drives/"+n.driveId+"/items/"+n.id+"/createUploadSession",type:"POST",headers:{Authorization:"Bearer "+n.accessToken},data:{}}).done(function(e){var t="bytes 0-"+(n.size-1)+"/"+n.size;f.ajax({url:e.uploadUrl,type:"PUT",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+n.accessToken),e.setRequestHeader("Content-Type","application/octet-stream"),e.setRequestHeader("Content-Length",n.size),e.setRequestHeader("Content-Range",t)},processData:!1,contentType:!1,data:n}).done(function(e){a.resolve(u(e,n.rootDirectory,n.siteId))}).fail(function(e){var t;p.Salesforce.log("Upload exception - "+e.responseJSON.error.code),"accessDenied"===e.responseJSON.error.code?((t=f.extend(!0,{},g)).status="error",t.message="403",t.result=null,t.i18nmessage="403",a.reject(t)):a.reject(e)})}).fail(function(e){a.reject(e)})):a.resolve(u(e,n.rootDirectory,n.siteId))}).fail(function(e){var t;p.Salesforce.log("Upload exception - "+e.responseJSON.error.code),"accessDenied"===e.responseJSON.error.code?((t=f.extend(!0,{},g)).status="error",t.message="403",t.result=null,t.i18nmessage="403",a.reject(t)):a.reject(e)}),a},e.getVersionHistory=function(e,t,n){return p.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,provider:t,driveId:n})},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getVersionHistory"})},e.uploadNewVersion=function(r,e,a,t,n,o){var i,s,d=f.Deferred(),l=(void 0===a.itemId&&(a.itemId="root"),{sharepoint:["\\","/","~","%","&","*",",","}",",",":","<",">","?","|","“"]}[a.provider]);for(i in l)if(0<=a.name.indexOf(l[i]))return(s=f.extend(!0,{},g)).status="error",s.message="It's not possible to upload file - please rename without special characters",s.result={isValidFileName:!1},s.i18nmessage="It's not possible to upload file - please rename without special characters",d.reject(s),d;new FileReader;var c={},S=!0;return a.size<4e6&&(c=a,S=!1),f.ajax({url:p.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=getEFSAccessToken&provider=sharepoint",method:"POST",data:{data:JSON.stringify("data")},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){var t=e.result,n="bytes 0-"+(a.size-1)+"/"+a.size;f.ajax({url:"https://graph.microsoft.com/v1.0/drives/"+o+"/items/"+r+"/content",type:"PUT",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+t),e.setRequestHeader("Content-Type","application/octet-stream"),e.setRequestHeader("Content-Length",a.size),e.setRequestHeader("Content-Range",n)},processData:!1,contentType:!1,data:a}).done(function(e){S?(a.id=e.id,f.ajax({url:"https://graph.microsoft.com/v1.0/drives/"+o+"/items/"+r+"/createUploadSession",type:"POST",headers:{Authorization:"Bearer "+t},data:{}}).done(function(e){f.ajax({url:e.uploadUrl,type:"PUT",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+a.accessToken),e.setRequestHeader("Content-Type","application/octet-stream")},processData:!1,contentType:!1,data:c}).done(function(e){d.resolve(u(e,a.rootDirectory,a.siteId))}).fail(function(e){var t;p.Salesforce.log("Upload exception - "+e.responseJSON.error.code),"accessDenied"===e.responseJSON.error.code?((t=f.extend(!0,{},g)).status="error",t.message="403",t.result=null,t.i18nmessage="403",d.reject(t)):d.reject(e)})}).fail(function(e){d.reject(e)})):d.resolve(u(e,a.rootdirectory,a.siteId))}).fail(function(e){var t;p.Salesforce.log("Upload exception - "+e.responseJSON.error.code),"accessDenied"===e.responseJSON.error.code?((t=f.extend(!0,{},g)).status="error",t.message="403",t.result=null,t.i18nmessage="403",d.reject(t)):d.reject(e)})}).fail(function(e){d.reject(e)}),d},e}(Simpplr,jQuery),Simpplr.Salesforce.OneDrive=function(p,f){function u(e,t,n){var r=f.extend(!0,{},g),a=p.Salesforce.Links.FileDetail+"?fileId="+e.id+"&rootdirectory="+t+"&provider=onedrive&permission=readwrite";return null==n&&""==n||(a=a+"&siteId="+n),r.result.id=e.id,r.result.rootDirectory=t,r.result.title=e.name,r.result.fileExtension=r.result.title.substring(r.result.title.lastIndexOf(".")+1).toUpperCase(),r.result.name=e.name,r.result.type=r.result.title.substring(r.result.title.lastIndexOf(".")+1).toUpperCase(),r.result.url=a,r.result.fileUrl=a,r.result.canDelete=!1,r.result.canMove=!1,r.result.externalUrl=e.webUrl,r.result.canDownload=!0,r.result.canCreateNewVersion=!1,r.result.canChangeName=!1,r.result.context="onedrive",r.result.provider="onedrive",r.result.thumbnailImg="",r.result.type=r.result.title.substring(r.result.title.lastIndexOf(".")+1).toUpperCase(),r.result.size=e.size,r.result.modifiedAt=e.lastModifiedDateTime,r.result.owner={},r.result.owner.id=p.CurrentUser.peopleId,r.result.owner.name=p.CurrentUser.name,r.result.owner.url="/apex/app?u=/people/"+p.CurrentUser.peopleId,r.result.site={},r.result.site.id="",r.result.site.name="",r.result.site.url="",r}var e={},g={status:"success",message:null,i18nmessage:null,result:{title:"",size:"",contentVersionId:"",fileType:"",source:"intranet",downloadUrl:"",fileUrl:""}};return e.getAccessToken=function(){return p.Salesforce.log(arguments),f.ajax({url:p.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=getEFSAccessToken&provider=onedrive",method:"POST",data:{data:JSON.stringify("data")},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}})},e.resetAccessToken=function(e){return p.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=resetEFSAccessToken&provider=onedrive"})},e.getFolders=function(e,t){p.Salesforce.log("Onedrive.getFolders---thisDirectory---"+JSON.stringify(t));e={directory:e,currentDirectory:t.id};return p.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getEFSLinkFolders&provider=onedrive"})},e.setFolderName=function(e,t,n,r){return p.Salesforce.log("Onedrive.setFolderName---folderId---"+JSON.stringify(e)),p.Salesforce.log("Onedrive.setFolderName---provider---"+JSON.stringify(t)),p.Salesforce.log("Onedrive.setFolderName---fileTitle---"+JSON.stringify(n)),p.Salesforce.log("Onedrive.setFolderName---rootDirectory---"+JSON.stringify(r)),p.Salesforce.sendRequest({data:{data:JSON.stringify({folderId:e,provider:t,name:n,rootDirectory:r})},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=setFolderName"})},e.createFolder=function(e){return p.Salesforce.log("Onedrive.createFolder---data---"+JSON.stringify(e)),p.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=createEFSFolder&provider=onedrive"})},e.deleteFile=function(e,t,n,r){return p.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,provider:t,fileSiteId:n,rootDirectory:r})},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=deleteFile&siteId="+n})},e.deleteFolder=function(e,t,n,r){return p.Salesforce.sendRequest({data:{data:JSON.stringify({folderId:e,provider:t,siteId:n,rootDirectory:r})},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=deleteFolder"})},e.linkFolder=function(e){return p.Salesforce.log("Onedrive.linkFolder---data---"+JSON.stringify(e)),p.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e.siteId+"&action=linkOnedriveFolder"})},e.unlinkFolder=function(e,t,n,r){return p.Salesforce.log("Onedrive.unlinkFolder---folderId---"+JSON.stringify(e)),p.Salesforce.sendRequest({data:{data:JSON.stringify({folderId:e,provider:t,rootDirectory:n,siteId:r})},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+r+"&action=unlinkOnedriveFolder"})},e.moveFiles=function(e,t,n,r){console.log(t);t={siteId:e,fileArray:t,sourceRoot:n.rootDirectory,source:n.id,destinationRoot:r.rootDirectory,destination:r.id,provider:"onedrive"};return p.Salesforce.log("File.moveFiles---data---"+JSON.stringify(t)),p.Salesforce.sendRequest({data:{data:JSON.stringify(t)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&siteId="+e+"&action=moveFiles"})},e.getLinkableItems=function(e,t,n,r,a){e={folderType:e,folderId:t,siteId:r,rootDirectory:a};return p.Salesforce.log("Onedrive.getLinkableItems---data---"+JSON.stringify(e)),p.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getOnedriveLinkableItems"})},e.getDownloadUrl=function(e,t){console.log(arguments);var n=f.Deferred(),r=t||e.latestPublishedVersionId,a=(e.id,{}),o=(r&&4<r.length&&(r=r.startsWith("rev:")?r:"rev:"+r),"https://graph.microsoft.com/v1.0/drives/"+e.rootDirectory+"/items/"+e.id);return f.ajax({url:p.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=getEFSAccessToken&provider=onedrive",method:"POST",data:{data:JSON.stringify("data")},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){e=e.result;f.ajax({url:o,method:"GET",headers:{Authorization:"Bearer "+e,Accept:"application/json, text/plain"}}).done(function(e){e=e["@microsoft.graph.downloadUrl"];a={status:"success",message:"",debugLogs:[],i18nmessage:"",responseTimeStamp:"",result:{url:e}},n.resolve(a)}).fail(function(e){401===e.status?(a={status:"error",message:"Something went wrong. OneDrive has been disconnected.",debugLogs:[],i18nmessage:"",responseTimeStamp:"",result:null},n.reject(a)):n.reject(e)})}).fail(function(e){n.reject(e)}),n},e.generateFilePreview=function(){},e.upload=function(n){var e,t,r,a=f.Deferred(),o=(n.driveId=n.rootDirectory,e=void 0===n.directoryId?"/root:/"+n.name+":":n.directoryId.startsWith("/root")?n.directoryId+"/"+n.name+":":"/items/"+n.directoryId+":/"+n.name+":",{onedrive:["\\","/","~","%","&","*",",","}",",",":","<",">","?","|","“"]}[n.provider]);for(t in o)if(0<=n.name.indexOf(o[t]))return(r=f.extend(!0,{},g)).status="error",r.message="It's not possible to upload file - please rename without special characters",r.result=null,r.i18nmessage="It's not possible to upload file - please rename without special characters",a.reject(r),a;new FileReader;var i={},s=!0;return n.size<4e6&&(i=n,s=!1),f.ajax({url:"https://graph.microsoft.com/v1.0/drives/"+n.driveId+e+"/content",type:"PUT",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+n.accessToken),e.setRequestHeader("Content-Type","application/octet-stream")},processData:!1,contentType:!1,data:i}).done(function(e){s?(n.id=e.id,f.ajax({url:"https://graph.microsoft.com/v1.0/drives/"+n.driveId+"/items/"+n.id+"/createUploadSession",type:"POST",headers:{Authorization:"Bearer "+n.accessToken},data:{}}).done(function(e){var t="bytes 0-"+(n.size-1)+"/"+n.size;f.ajax({url:e.uploadUrl,type:"PUT",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+n.accessToken),e.setRequestHeader("Content-Type","application/octet-stream"),e.setRequestHeader("Content-Range",t)},processData:!1,contentType:!1,data:n}).done(function(e){a.resolve(u(e,n.rootDirectory,n.siteId))}).fail(function(e){var t;p.Salesforce.log("Upload Session exception - "+e.responseJSON.error.code),"accessDenied"===e.responseJSON.error.code?((t=f.extend(!0,{},g)).status="error",t.message="403",t.result=null,t.i18nmessage="403",a.reject(t)):a.reject(e)})}).fail(function(e){p.Salesforce.log("CreateUploadSession exception - "+e.responseJSON.error.code),p.Salesforce.log(e),a.reject(e)})):a.resolve(u(e,n.rootDirectory,n.siteId))}).fail(function(e){var t;p.Salesforce.log("Upload exception - "+e.responseJSON.error.code),"accessDenied"===e.responseJSON.error.code?((t=f.extend(!0,{},g)).status="error",t.message="403",t.result=null,t.i18nmessage="403",a.reject(t)):a.reject(e)}),a},e.getVersionHistory=function(e,t,n){return p.Salesforce.sendRequest({data:{data:JSON.stringify({fileId:e,provider:t,driveId:n})},method:"POST",endpoint:p.Salesforce.Endpoints.ReadWrite+"?target=FileDataServer&action=getVersionHistory"})},e.uploadNewVersion=function(n,e,r,t,a,o){var i,s,d=f.Deferred(),l=(void 0===r.itemId&&(r.itemId="root"),{onedrive:["\\","/","~","%","&","*",",","}",",",":","<",">","?","|","“"]}[r.provider]);for(i in l)if(0<=r.name.indexOf(l[i]))return(s=f.extend(!0,{},g)).status="error",s.message="It's not possible to upload file - please rename without special characters",s.result=null,s.i18nmessage="It's not possible to upload file - please rename without special characters",d.reject(s),d;new FileReader;var c={},S=!0;return r.size<4e6&&(c=r,S=!1),f.ajax({url:p.Salesforce.VisualforceEndpoints.ReadWrite+"?target=FileDataServer&action=getEFSAccessToken&provider=onedrive",method:"POST",data:{data:JSON.stringify("data")},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){var t=e.result;f.ajax({url:"https://graph.microsoft.com/v1.0/drives/"+o+"/items/"+n+"/content",type:"PUT",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+t),e.setRequestHeader("Content-Type","application/octet-stream")},processData:!1,contentType:!1,data:c}).done(function(e){S?(r.id=e.id,f.ajax({url:"https://graph.microsoft.com/v1.0/drives/"+o+"/items/"+n+"/createUploadSession",type:"POST",headers:{Authorization:"Bearer "+t},data:{}}).done(function(e){f.ajax({url:e.uploadUrl,type:"PUT",beforeSend:function(e){e.setRequestHeader("Authorization","Bearer "+r.accessToken),e.setRequestHeader("Content-Type","application/octet-stream")},processData:!1,contentType:!1,data:c}).done(function(e){d.resolve(u(e,r.rootDirectory,r.siteId))}).fail(function(e){var t;p.Salesforce.log("Upload Session exception - "+e.responseJSON.error.code),"accessDenied"===e.responseJSON.error.code?((t=f.extend(!0,{},g)).status="error",t.message="403",t.result=null,t.i18nmessage="403",d.reject(t)):d.reject(e)})}).fail(function(e){d.reject(e)})):d.resolve(u(e,r.rootdirectory,r.siteId))}).fail(function(e){var t;p.Salesforce.log("Upload exception - "+e.responseJSON.error.code),"accessDenied"===e.responseJSON.error.code?((t=f.extend(!0,{},g)).status="error",t.message="403",t.result=null,t.i18nmessage="403",d.reject(t)):d.reject(e)})}).fail(function(e){d.reject(e)}),d},e}(Simpplr,jQuery),Simpplr.Salesforce.Slack=function(t){var e={getAvailableChannels:function(){return t.Salesforce.sendRequest({data:{data:""},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=SlackDataServer&action=getAvailableChannels"})},shareContent:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=SlackDataServer&action=shareContent"})},enableSlackUnfurl:function(e){return t.Salesforce.sendRequest({data:{data:""},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=SlackDataServer&action=enableSlackUnfurl&appName="+e})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Atlassian=function(t){var e={getConfluenceSpaces:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=AtlassianDataServer&action=getConfluenceSpaces"})},getConfluenceContributors:function(e){return t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=AtlassianDataServer&action=getConfluenceUsers"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.ServiceNow=function(a,o){var e={disconnectAdmin:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=SettingDataServer&action=disconnectServicenowAdmin"})},getKnowledgeBases:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=ServiceNowDataServer&action=getKnowledgeBases"})},search:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=ServiceNowDataServer&action=getKnowledgeBaseItems"})},getIncidents:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=ServiceNowDataServer&action=getIncidents"})},createIncident:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=ServiceNowDataServer&action=createIncident"})},getCategory:function(){return a.Salesforce.sendRequest({data:{data:"{}"},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=ServiceNowDataServer&action=getCategory"})},getSubCategory:function(e){return a.Salesforce.sendRequest({data:{data:"{}"},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=ServiceNowDataServer&action=getSubCategory&categoryName="+e})},upload:function(e,t,n){var r=o.Deferred();return o.ajax({url:a.Settings.links.serviceNowInstanceUrl+"/api/now/attachment/file?table_name=incident&table_sys_id="+t+"&file_name="+e.name,type:"POST",crossDomain:!0,processData:!1,headers:{"Content-Type":"application/json","Content-Length":e.length,Authorization:"Bearer "+n,Accept:"application/json"},data:e}).done(function(e){r.resolve("success")}).fail(function(e){r.reject("failure")}),r},getAccessToken:function(){return o.ajax({url:a.Salesforce.VisualforceEndpoints.ReadWrite+"?target=ServiceNowDataServer&action=getAccessToken",method:"POST",data:{data:JSON.stringify("data")},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}})},revokeAccessToken:function(){return o.ajax({url:a.Salesforce.VisualforceEndpoints.ReadWrite+"?target=ServiceNowDataServer&action=revokeAccessToken",method:"POST",data:{data:JSON.stringify("data")},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.Video=Simpplr.Salesforce.Video||{},Simpplr.Salesforce.Video=function(a,o){var e={getAccessToken:function(){return a.Salesforce.sendRequest({method:"GET",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=VideoDataServer&action=getAccessToken"})},revokeSession:function(e){return a.Salesforce.sendRequest({data:{session:e},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=VideoDataServer&action=revokeSession"})},addVideoToCategory:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=VideoDataServer&action=addVideoToCategory"})},getVideoReferences:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=VideoDataServer&action=getVideoReferences"})},setFavorited:function(e,t){var r=o.Deferred(),n="",n=t?"bookmark":"unbookmark";return o.ajax({url:a.Salesforce.VisualforceEndpoints.ReadWrite+"?target=ToggleBookmarkDataServer",method:"get",data:{recordId:e,action:n,context:"native_video"},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){r.resolve(e)}).fail(function(e,t,n){r.reject()}),r},getThumbnail:function(e){return a.Salesforce.sendRequest({data:{entryId:e},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=VideoDataServer&action=getThumbnail"})},addToFolder:function(e,t,n,r){return a.Salesforce.sendRequest({data:{data:JSON.stringify({siteId:e,directory:t,mediaParams:n,uploadVideoResponse:r})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=VideoDataServer&action=addToFolder&siteId="+e})},updateVideoStatus:function(e,t){return a.Salesforce.sendRequest({data:{data:JSON.stringify({entryId:e,status:t})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=VideoDataServer&action=updateVideoStatus"})},get:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify({id:e})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=VideoDataServer&action=get"})},getCaptionsLanguages:function(){return a.Salesforce.sendRequest({method:"GET",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=VideoDataServer&action=getCaptionsLanguages"})},syncPeopleData:function(){return a.Salesforce.sendRequest({method:"GET",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=VideoDataServer&action=syncPeopleData"})},search:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"GET",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=VideoDataServer&action=search"})},getByIds:function(e){return a.Salesforce.sendRequest({data:{ids:JSON.stringify(e)},method:"GET",endpoint:a.Salesforce.Endpoints.ReadOnly+"?target=VideoDataServer&action=getByIds"})},setLiked:function(e,t){var r=o.Deferred(),n="",n=t?"like":"unlike";return void 0!==e?o.ajax({url:a.Salesforce.VisualforceEndpoints.ReadWrite+"?target=ChatterInteractionDataServer",method:"get",data:{recordId:e,action:n,likeType:"file"},beforeSend:function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),e.setRequestHeader("Accept","application/json"),e.setRequestHeader("x-simpplr-csrf",__sfdcCsrfToken),e.setRequestHeader("x-http-verb","POST")}}).done(function(e){r.resolve(e)}).fail(function(e,t,n){r.reject()}):r.reject(!1),r}};return e}(Simpplr,jQuery),Simpplr.Salesforce.ContentTemplate={search:function(e){return Simpplr.Salesforce.log("ContentTemplate.search---data---"+JSON.stringify(e)),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ContentTemplateDataServer&action=search"})},save:function(e,t,n){Simpplr.Salesforce.log("ContentTemplate.save---templateType---"+e);var r="",a="";return"page"===e&&(r=null==t?"savePageTemplate":(n.id=t,"updatePageTemplate"),a=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ContentTemplateDataServer&action="+r+"&siteId="+n.siteId),null!==t&&(a+="&contentTemplateId="+t),Simpplr.Salesforce.sendRequest({data:{data:JSON.stringify(n)},method:"POST",endpoint:a})},delete:function(e,t){},get:function(e){Simpplr.Salesforce.log("ContentTemplate.get---data---"+JSON.stringify(e));e=Simpplr.Salesforce.Endpoints.ReadWrite+"?target=ContentTemplateDataServer&action=get&contentTemplateId="+e.contentTemplateId;return Simpplr.Salesforce.sendRequest({data:{data:""},method:"GET",endpoint:e})}},Simpplr.Salesforce.AI=function(t){var e={checkCommentToxicity:function(e){return t.Salesforce.log("ai.checkCommentToxicity---data---"+JSON.stringify(e)),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=AIDataServer&action=checkCommentToxicity"})},getModerationQueue:function(e){return t.Salesforce.log("ai.getModerationQueue---data---"+JSON.stringify(e)),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=AIDataServer&action=getModerationQueue"})},markModerationItemDismissed:function(e){return t.Salesforce.log("AI.markModerationItemDismissed----data----"+e),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=AIDataServer&action=markModerationItemDismissed"})},markModerationItemRemoved:function(e){return t.Salesforce.log("AI.markModerationItemRemoved----data----"+e),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=AIDataServer&action=markModerationItemRemoved"})},reportContent:function(e){return t.Salesforce.log("ai.reportContent----data----"+JSON.stringify(e)),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=AIDataServer&action=reportContent"})},getFiltersData:function(){return t.Salesforce.log("ai.getFiltersData-------"),t.Salesforce.sendRequest({data:{data:""},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=AIDataServer&action=getFiltersData"})},getModerationHistory:function(e){return t.Salesforce.log("ai.getModerationHistory---data---"+JSON.stringify(e)),t.Salesforce.sendRequest({data:{data:JSON.stringify(e)},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=AIDataServer&action=getModerationHistory"})},getHistoryFiltersData:function(e){return t.Salesforce.log("ai.getHistoryFiltersData---data---"),t.Salesforce.sendRequest({data:{data:""},method:"POST",endpoint:t.Salesforce.Endpoints.ReadWrite+"?target=AIDataServer&action=getHistoryFiltersData"})}};return e}(Simpplr,jQuery),Simpplr.Salesforce.MicrosoftTeams=function(a){var e={getJoinedTeams:function(){return a.Salesforce.sendRequest({data:{data:""},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=MicrosoftTeamsDataServer&action=getJoinedTeams"})},getJoinedChannels:function(e){return a.Salesforce.sendRequest({data:{data:JSON.stringify({teamId:e})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=MicrosoftTeamsDataServer&action=getJoinedChannels"})},shareContent:function(e,t,n,r){return a.Salesforce.sendRequest({data:{data:JSON.stringify({teamId:e,channelId:t,contentUrl:n,message:r})},method:"POST",endpoint:a.Salesforce.Endpoints.ReadWrite+"?target=MicrosoftTeamsDataServer&action=shareContent"})}};return e}(Simpplr,jQuery);