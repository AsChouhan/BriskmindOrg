(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1740:function(e,t,n){"use strict";var i=n(28),a=n.n(i),o=n(0),r=n.n(o),l=n(1),c=n.n(l),s=n(18),u=n.n(s),d=n(22),p=n(939);var m=function(e){return r.a.createElement(p.a,a()({},e,{type:"checkbox"}))};function g(e){var t=e.label,n=e.icon,i=e.hasBorder,o=e.isHorizontal,l=e.note,c=e.isDisabled,s=e.isVisuallyDisabled,p=e.hasLegacyIcon,g=e.hasLargeIcon,h=e.hasDarkIcon,f=e.id||e.input.id||e.input.name.replace(/([^a-zA-Z0-9]+)/g,"_"),b=u()({IconToggle:!0,"is-disabled":c&&s,"IconToggle--hasBorder":i,"IconToggle--horizontal":o,"IconToggle--hasNote":l,"IconToggle--large":g,"IconToggle--darkIcon":h});return r.a.createElement("div",{className:b},r.a.createElement(m,a()({},e,{id:f,hasIcon:!0})),r.a.createElement("div",{className:"IconToggle-iconContainer IconToggle-iconContainer--".concat(n)},r.a.createElement(d.a,{isLegacy:p,name:n})),r.a.createElement("label",{htmlFor:f,className:"IconToggle-label"},t),l&&r.a.createElement("span",{className:"IconToggle-note"},l))}g.propTypes={isVisuallyDisabled:c.a.bool,hasLegacyIcon:c.a.bool,hasLargeIcon:c.a.bool},g.defaultProps={isVisuallyDisabled:!0,hasLegacyIcon:!0,hasLargeIcon:!1};t.a=g},1742:function(e,t,n){"use strict";(function(e){n.d(t,"d",function(){return g}),n.d(t,"e",function(){return h}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return b}),n.d(t,"f",function(){return y}),n.d(t,"c",function(){return v}),n.d(t,"i",function(){return A}),n.d(t,"h",function(){return L}),n.d(t,"g",function(){return E});var i=n(40),a=n.n(i),o=n(2),r=n.n(o),l=n(80),c=n(15),s=(n(1757),n(403)),u=n(26),d=n(117),p=n(154),m=n(4);function g(e){return Array.isArray(e)||r.a.Iterable.isIterable(e)?{type:l.ALBUM_MEDIA_SET_MULTIPLE,payload:{albumMedia:e}}:function(e){return{type:l.ALBUM_MEDIA_SET,payload:{id:e.id,result:e}}}(e)}function h(e,t){return{type:l.ALBUM_MEDIA_SET_COVER,payload:{albumMediaId:e,otherMediaIds:t}}}function f(t,n,i,o){return function(r){var m=n.map(function(e){var n="_tempfile".concat(Object(d.a)());return r({type:l.ALBUM_MEDIA_IMAGE_UPLOAD_START,payload:{id:n,contentId:t}}),[n,e]});i(m);var g=m.map(function(n){var i=a()(n,2),d=i[0],m=i[1];return new Promise(function(n,i){Object(p.h)(m,1600).then(function(a){r({type:l.ALBUM_MEDIA_IMAGE_SET_TEMP_THUMBNAIL,payload:{id:d,contentId:t,thumbnailImgLocal:a}});var g=Object(p.c)(m,a);e.Simpplr.Salesforce.Album.uploadPhoto(t,g).progress(function(e){r({type:l.ALBUM_MEDIA_IMAGE_UPLOAD_PROGRESS,payload:{id:d,percentage:e}})}).done(function(e){r({type:l.ALBUM_MEDIA_IMAGE_UPLOAD_SUCCESS,payload:{id:e.result.id,oldId:d,result:e.result}}),o(d,e.result.id),r(Object(s.i)(t)),n()}).fail(function(e){var n=Object(u.a)(e);r(Object(c.g)(n)),r({type:l.ALBUM_MEDIA_IMAGE_UPLOAD_FAIL,payload:{contentId:t,id:d,error:n}}),i()})})})});return Promise.all(g)}}function b(t,n,i,a){return function(o){var r="_tempfile".concat(Object(d.a)());o({type:l.ALBUM_MEDIA_VIDEO_UPLOAD_START,payload:{id:r,contentId:t}}),i([[r,n]]),e.Simpplr.Loader.show(),n.getThumb().then(function(e){o({type:l.ALBUM_MEDIA_IMAGE_SET_TEMP_THUMBNAIL,payload:{id:r,contentId:t,thumbnailImgLocal:e}})});var p={provider:n.provider,id:n.id,url:n.url,thumbnailImg:n.thumbnailImg||null,title:n.title||null};return e.Simpplr.Salesforce.Album.addVideo(t,p).done(function(e){o({type:l.ALBUM_MEDIA_VIDEO_UPLOAD_SUCCESS,payload:{id:e.result.id,oldId:r,result:e.result}}),a(r,e.result.id),o(Object(s.j)(t))}).fail(function(e){var n=Object(u.a)(e);o(Object(c.g)(n)),o({type:l.ALBUM_MEDIA_VIDEO_UPLOAD_FAIL,payload:{contentId:t,id:r,error:n}})}).always(e.Simpplr.Loader.hide)}}function y(e){var t={descriptions:e};return{type:l.ALBUM_MEDIA_SET_DESCRIPTIONS,payload:t}}function I(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(i){var a="ALBUM_MEDIA_".concat(n?"":"UN","LIKE");i({type:l["".concat(a,"_START")],id:t}),e.Simpplr.Loader.show(),e.Simpplr.Salesforce.Album.setMediaLiked(t,!!n).done(function(){i({type:l["".concat(a,"_SUCCESS")],id:t})}).fail(function(e){var n=Object(u.a)(e);i(Object(c.g)(n)),i({type:l["".concat(a,"_FAIL")],id:t,error:n})}).always(e.Simpplr.Loader.hide)}}function v(e){return I(e,!0)}function A(e){return I(e,!1)}function L(t,n){return function(i){var a={albumId:t,ids:n};return e.Simpplr.Loader.show(),i({type:l.ALBUM_MEDIA_SUBMIT_START,payload:a}),e.Simpplr.Salesforce.Album.submitMedia(t,n).done(function(){i({type:l.ALBUM_MEDIA_SUBMIT_SUCCESS,payload:a})}).fail(function(e){var a=Object(u.a)(e);i(Object(c.g)(a)),i({type:l.ALBUM_MEDIA_SUBMIT_FAIL,payload:{albumId:t,ids:n,error:a}})}).always(e.Simpplr.Loader.hide)}}function E(t,n){return function(t){return e.Simpplr.Loader.show(),e.Simpplr.Salesforce.Content.share(n.toJS()).fail(function(){t(Object(c.g)(Object(m.a)("common.error_message")))}).always(e.Simpplr.Loader.hide)}}}).call(this,n(23))},1750:function(e,t,n){"use strict";var i=n(8),a=n.n(i),o=n(9),r=n.n(o),l=n(10),c=n.n(l),s=n(11),u=n.n(s),d=n(12),p=n.n(d),m=n(0),g=n.n(m),h=n(1),f=n.n(h),b=n(19),y=n(2),I=n.n(y),v=n(1757),A=function(e){function t(){return a()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),r()(t,[{key:"componentWillMount",value:function(){this.props.load(),this.props.isFullyLoaded&&this.props.onLoad(this.props.items)}},{key:"componentWillReceiveProps",value:function(e){!this.props.isFullyLoaded&&e.isFullyLoaded&&this.props.onLoad(e.items)}},{key:"componentDidUpdate",value:function(e){0===e.total&&this.props.total>0&&!this.props.isFullyLoaded&&this.props.load()}},{key:"render",value:function(){return this.props.children({items:this.props.items,allItems:this.props.allItems,total:this.props.total,isLoading:this.props.isLoading,isFullyLoaded:this.props.isFullyLoaded,isFullyRequested:this.props.isFullyRequested,isAnyLoaded:this.props.isAnyLoaded,loadNext:this.loadNext,loadPrev:this.loadPrev})}}]),t}(g.a.Component);A.propTypes={albumId:f.a.string.isRequired,listingId:f.a.string,children:f.a.func.isRequired,isAddingToOpenAlbum:f.a.bool,onLoad:f.a.func},A.defaultProps={isAddingToOpenAlbum:!1,onLoad:function(){}},t.a=Object(b.connect)(function(e,t){var n=t.listingId||t.albumId,i=!1,a=!1,o=e.getIn(["albumListings",t.listingId,"total"])||t.total,r=e.getIn(["albumListings",n,"items"],new I.a.List),l=!0,c=r.map(function(t){return t.get("loading")&&(i=!0),t.get("loaded")&&(a=!0),t.get("loaded")||t.get("loading")||(l=!1),t.get("albumMediaId")?t.set("result",e.getIn(["albumMedia",t.get("albumMediaId"),"result"])):t}),s=c.filter(function(e){return!!e.get("result")});return{listingId:n,items:s,allItems:c,isLoading:i,isFullyLoaded:s.size===o,isFullyRequested:l,isAnyLoaded:a,total:o}},function(e,t){return{load:function(){return t.isAddingToOpenAlbum?e(Object(v.c)(t.listingId,t.albumId,!0)):t.total>0?e(Object(v.d)(t.listingId||t.albumId,t.albumId)):void 0}}})(A)},1757:function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"f",function(){return s}),n.d(t,"a",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return p});var i=n(180),a=n(1742),o=n(26),r=n(15);function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:i.e,payload:{listingId:e,albumId:t,isOpen:n}}}function c(e){return{type:i.d,payload:{listingId:e}}}function s(e,t){var n=Array.isArray(t)?t:[t];return{type:i.h,payload:{listingId:e,toRemove:n}}}function u(e,t){var n=Array.isArray(t)?t:[t];return{type:i.a,payload:{listingId:e,toAppend:n}}}function d(e,t){var n=Array.isArray(t)?t:[t];return{type:i.g,payload:{listingId:e,toPrepend:n}}}function p(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(c,s){s().getIn(["albumListings",t])&&!i||(c(l(t,n)),e.Simpplr.Loader.show(),e.Simpplr.Salesforce.Album.getMedia({id:n}).done(function(e){c(Object(a.d)(e.result.listOfItems)),c(u(t,e.result.listOfItems.map(function(e){return e.id})))}).fail(function(e){c(Object(r.g)(Object(o.a)(e)))}).always(e.Simpplr.Loader.hide))}}}).call(this,n(23))},1758:function(e,t,n){"use strict";var i=n(8),a=n.n(i),o=n(9),r=n.n(o),l=n(10),c=n.n(l),s=n(11),u=n.n(s),d=n(12),p=n.n(d),m=n(5),g=n.n(m),h=n(0),f=n.n(h),b=n(1),y=n.n(b),I=n(18),v=n.n(I),A=n(4),L=n(22),E=function(e){function t(e){var n;return a()(this,t),(n=c()(this,u()(t).call(this,e))).onClick=n.onClick.bind(g()(g()(n))),n.like=n.like.bind(g()(g()(n))),n.unlike=n.unlike.bind(g()(g()(n))),n}return p()(t,e),r()(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.isLiked!==e.isLiked||this.props.context!==e.context||this.props.onLike!==e.onLike||this.props.onUnlike!==e.onUnlike}},{key:"onClick",value:function(){return this.props.isLiked?this.unlike():this.like()}},{key:"like",value:function(){this.props.onLike()}},{key:"unlike",value:function(){this.props.onUnlike()}},{key:"render",value:function(){var e=this.props,t=e.isLiked,n=e.context,i=e.isLegacy,a=e.children,o=v()({Like:!0,"is-liked":t}),r=Object(A.a)("common.".concat(t?"unlike":"like","_this_noun"),{noun:Object(A.a)("common.".concat(n))});return"function"==typeof a?a(t,this.onClick):f.a.createElement("button",{type:"button",className:o,title:r,onClick:this.onClick},f.a.createElement("div",{className:"Like-target"}),f.a.createElement(L.a,{isLegacy:i,name:"like"}))}}]),t}(f.a.Component);E.propTypes={isLiked:y.a.bool.isRequired,context:y.a.oneOf(["user","site","person","content","file","post","image","video","reply"]).isRequired,onLike:y.a.func,onUnlike:y.a.func,isLegacy:y.a.bool,children:y.a.func},E.defaultProps={isLegacy:!1},t.a=E},1798:function(e,t,n){"use strict";var i=n(8),a=n.n(i),o=n(9),r=n.n(o),l=n(10),c=n.n(l),s=n(11),u=n.n(s),d=n(12),p=n.n(d),m=n(5),g=n.n(m),h=n(0),f=n.n(h),b=n(1),y=n.n(b),I=n(19),v=n(2),A=n.n(v),L=n(74),E=n(1352),M=n(4),k=n(146),_=n(1265),S=n(199),O=n(126);function T(e){var t=e.createdAt,n=e.user;return f.a.createElement("div",{className:"Meta Meta--white"},n&&f.a.createElement("div",{className:"Meta-thumb"},f.a.createElement(k.a,{img:n.get("img"),name:n.get("name"),url:n.get("url")})),n&&f.a.createElement(S.a,{hasNoBottom:!0},f.a.createElement(O.a,null,f.a.createElement("span",{className:"type--b3"},Object(M.a)("common.added_by_author",{authoredBy:f.a.createElement("a",{className:"type--white",href:n.get("url")},n.get("name"))})))),f.a.createElement(_.a,{input:t,isWhite:!0}))}T.propTypes={createdAt:y.a.string.isRequired,user:y.a.object.isRequired};var C=T,j=n(1903),U=n(131),N=n(1391),D=function(e){function t(e){var n;return a()(this,t),(n=c()(this,u()(t).call(this,e))).direction=0,n.flickity=null,n.move=n.move.bind(g()(g()(n))),n.close=n.close.bind(g()(g()(n))),n.getCurrentIndex=n.getCurrentIndex.bind(g()(g()(n))),n.handleFlickitySwipe=n.handleFlickitySwipe.bind(g()(g()(n))),n.checkMediaAvailable=n.checkMediaAvailable.bind(g()(g()(n))),n}return p()(t,e),r()(t,[{key:"componentDidMount",value:function(){this.checkMediaAvailable()}},{key:"componentDidUpdate",value:function(e){e.isFullyLoaded||this.checkMediaAvailable()}},{key:"move",value:function(e){this.direction=e;var t=this.getCurrentIndex()+e;t<0?t=this.props.items.size-1:t>=this.props.items.size&&(t=0);var n=this.props.items.get(t);this.props.onMove(t,n)}},{key:"close",value:function(){this.props.onClose()}},{key:"handleFlickitySwipe",value:function(e){var t=this.props.items.get(e);this.props.onMove(e,t)}},{key:"getCurrentIndex",value:function(){var e=this;return this.props.items.findIndex(function(t){return t.get("albumMediaId")===e.props.albumMediaId})}},{key:"checkMediaAvailable",value:function(){this.props.isFullyLoaded&&(-1!==this.getCurrentIndex()||this.props.onNotFound())}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.allItems,i=e.isAnyLoaded,a=e.canShare,o=e.showLinkToAlbum,r=this.getCurrentIndex();if(!i||r<0)return f.a.createElement(E.a,{onClose:this.close});var l=n.get(r).get("result",new A.a.Map),c=l.size>0,s=(o||t.get("isOpenToSubmissions")&&l.get("authoredBy"))&&f.a.createElement("div",null,f.a.createElement(C,{user:l.get("authoredBy"),createdAt:l.get("createdAt")}),o&&f.a.createElement("div",{className:"Gallery-meta-albumName"},f.a.createElement(U.a,{color:"white",hasLegacyIcon:!0,hasCurrentColorIcon:!0,icon:"camera",url:t.get("url")},t.get("title")))),u=t.get("isPublished")&&c&&f.a.createElement(j.a,{albumMedia:l,content:t,openModal:this.props.openModal,canShare:a}),d=n.map(function(e){return e.get("result")}),p=f.a.createElement(N.a,{items:d,currentIndex:r,onChange:this.handleFlickitySwipe});return f.a.createElement(E.a,{slides:p,position:r+1,total:t.get("mediaCount")||0,onClose:this.close,onMove:this.move,meta:s,actionBar:u||void 0,description:l.get("description"),isVideo:l.get("isVideo")})}}]),t}(f.a.Component);D.propTypes={content:y.a.instanceOf(A.a.Map).isRequired,onMove:y.a.func,onClose:y.a.func.isRequired,onLoad:y.a.func,canShare:y.a.bool,showLinkToAlbum:y.a.bool,albumMediaId:y.a.string,onNotFound:y.a.func},D.defaultProps={canShare:!1,showLinkToAlbum:!1,onNotFound:function(){}};t.a=Object(I.connect)(null,function(e){return{openModal:function(t,n){return e(Object(L.c)(t,n))}}})(D)},1903:function(e,t,n){"use strict";(function(e){var i=n(0),a=n.n(i),o=n(1),r=n.n(o),l=n(18),c=n.n(l),s=n(44),u=n(4),d=n(22),p=n(1904),m=n(1951);function g(t){var n=t.albumMedia,i=t.content,o=t.isRightAligned,r=t.openModal,l=t.canShare;if(!i.get("isPublished"))return null;var g=!n.get("isVideo")&&n.get("downloadUrl"),h=c()({Action:!0,"Action--media":!0,"Action--content":o});return a.a.createElement("div",{className:h},a.a.createElement("div",{className:"Action-item Action-item--like"},a.a.createElement(p.a,{id:n.get("id"),isLiked:n.get("isLiked"),likeContext:n.get("isVideo")?"video":"image"}),n.get("likeCount")>0&&a.a.createElement("div",{className:"Action-count Action-count--like"},n.get("likeCount"))),l&&e.Simpplr.Settings.FEED_ENABLED&&a.a.createElement("div",{className:"Action-item Action-item--action"},a.a.createElement("button",{title:Object(u.a)("common.share_this_noun",{noun:Object(u.a)("common.image")}),type:"button",className:"Action-iconContainer Action-iconContainer--action",key:n.get("id"),onClick:function(){return r(s.d,n.get("id"))}},a.a.createElement(d.a,{isLegacy:!0,name:"action"})),a.a.createElement(m.a,{content:i,albumMedia:n})),g&&a.a.createElement("div",{className:"Action-item Action-item--download"},a.a.createElement("a",{title:Object(u.a)("common.download_this_noun",{noun:Object(u.a)("common.image")}),href:g,className:"Action-iconContainer Action-iconContainer--download"},a.a.createElement(d.a,{isLegacy:!0,name:"download"}))))}g.propTypes={canShare:r.a.bool},t.a=g}).call(this,n(23))},1904:function(e,t,n){"use strict";var i=n(8),a=n.n(i),o=n(9),r=n.n(o),l=n(10),c=n.n(l),s=n(11),u=n.n(s),d=n(12),p=n.n(d),m=n(6),g=n.n(m),h=n(0),f=n.n(h),b=n(1),y=n.n(b),I=n(19),v=n(1742),A=n(1758),L=function(e){function t(){return a()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),r()(t,[{key:"render",value:function(){return f.a.createElement(A.a,{isLegacy:!0,hasTooltip:!0,context:this.props.likeContext,isLiked:this.props.isLiked,onLike:this.props.like,onUnlike:this.props.unlike,id:this.props.id})}}]),t}(f.a.PureComponent);g()(L,"propTypes",{id:y.a.string.isRequired,isLiked:y.a.bool.isRequired,likeContext:y.a.string.isRequired}),t.a=Object(I.connect)(null,function(e,t){return{like:function(){return e(Object(v.c)(t.id))},unlike:function(){return e(Object(v.i)(t.id))}}})(L)},1951:function(e,t,n){"use strict";var i=n(0),a=n.n(i),o=n(1),r=n.n(o),l=n(19),c=n(2),s=n.n(c),u=n(15),d=n(1742),p=n(44),m=n(236),g=n(8),h=n.n(g),f=n(9),b=n.n(f),y=n(10),I=n.n(y),v=n(11),A=n.n(v),L=n(12),E=n.n(L),M=n(6),k=n.n(M),_=n(70),S=n.n(_),O=n(77),T=n(4),C=n(1292),j=function(e){function t(){return h()(this,t),I()(this,A()(t).apply(this,arguments))}return E()(t,e),b()(t,[{key:"render",value:function(){var e=this.props,t=e.albumMedia,n=e.title;return a.a.createElement("div",{className:"FileSingle u-marg-b--small"},t.get("isVideo")?a.a.createElement("div",{className:"FileSingle-video"},a.a.createElement(C.a,{provider:t.get("videoProvider"),id:t.get("videoId"),url:t.get("url")})):a.a.createElement("div",{className:"FileSingle-imageContainer"},a.a.createElement("img",{className:"FileSingle-image FileSingle-image--small",src:t.get("img"),alt:""})),a.a.createElement("div",{className:"u-pad-t--xsmall u-textLeft"},a.a.createElement("span",{className:"type--tertiary"},Object(T.a)("common.shared_from_location",{location:n}))))}}]),t}(O.b);k()(j,"propTypes",{albumMedia:S.a.map.isRequired,title:r.a.string});var U=n(406),N=n(1290);function D(e){var t=e.content,n=e.albumMedia,i=e.onShare,o="public"===t.getIn(["site","access"]);return a.a.createElement(N.a,{name:p.d,id:n.get("id"),type:o?"news":"record",subjectId:o?"me":t.getIn(["site","chatterGroupId"]),typeLabel:n.get("isVideo")?"Video":"Photo",url:"".concat(t.get("url"),"/gallery/").concat(n.get("id")),urlName:n.get("description")||t.get("title"),onShare:i},a.a.createElement("div",{className:"u-pad--medium u-pad-b--none"},a.a.createElement(j,{albumMedia:n,title:t.get("title")})))}D.propTypes={content:r.a.instanceOf(s.a.Map).isRequired,albumMedia:r.a.instanceOf(s.a.Map)};t.a=Object(l.connect)(null,function(e,t){return{onShare:function(n){var i=n.merge({body:Object(U.a)(n.get("body")),contentId:t.content.get("id"),albumMediaId:t.albumMedia.get("id")});return Object(U.b)(i.get("body"))>m.e?e(Object(u.g)(Object(T.a)("feed.create.too_many_mentions"))):e(Object(d.g)(t.albumMedia.get("id"),i)).then(function(){var n=t.albumMedia.get("isVideo")?"video":"image";e(Object(u.k)("Shared ".concat(n," successfully")))})}}})(D)}}]);