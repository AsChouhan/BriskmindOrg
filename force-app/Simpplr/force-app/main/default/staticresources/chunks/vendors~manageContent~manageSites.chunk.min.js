(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{2584:function(e,t,n){e.exports={panelWrapper:"ListingFilters-module-panelWrapper___E9iuH",panel:"ListingFilters-module-panel___3mAnk",rightFilters:"ListingFilters-module-rightFilters___2rGKV",button:"ListingFilters-module-button___1v-7v",sortBy:"ListingFilters-module-sortBy___2vVVz",activeFilterCount:"ListingFilters-module-activeFilterCount___3F0sC"}},2589:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(0),l=n.n(o),c=n(2584),i=n.n(c),s=n(663),u=n(55),d=n(160),p=n(3);function m(e){var t=e.panel,n=e.filterCount;return l.a.createElement(s.a,{placement:"bottom-end",modifiers:[{name:"flip",enabled:!1},{name:"offset",options:{offset:[0,10]}}],launcher:function(e){var t=e.ref,a=e.toggle,r=e.isActive;return l.a.createElement(u.a,{size:"large",isFieldHeight:!0,appearance:n>0?"brand":"normal",label:"".concat(Object(p.a)("button_label.filters")).concat(n>0?" (".concat(n,")"):""),icon:"filter",buttonRef:t,onClick:function(e){e.preventDefault(),a()},ariaExpanded:r})},popover:function(e){return l.a.createElement("div",{className:"ListingFilters-panelWrapper"},l.a.createElement("div",{className:i.a.panelWrapper,"data-placement":e.placement,style:e.style,ref:e.ref},l.a.createElement(d.a,{hArrowPosition:"right",vArrowPosition:"top",hasArrow:!0},l.a.createElement("div",{className:i.a.panel},t(e)))))}})}m.propTypes={filterCount:r.a.number.isRequired,panel:r.a.func.isRequired},m.defaultProps={};var b=m;function f(e){var t=e.filterField,n=e.termField,a=e.sortField,r=e.panel,o=e.filterCount,c=e.addButton;return l.a.createElement("div",null,l.a.createElement("div",{className:"row u-marg-b--mediumlarge"},l.a.createElement("div",{className:"column medium-6"},l.a.createElement("div",{className:"u-grid"},t&&l.a.createElement("div",{className:"u-grid-item medium-5 large-5"},t),l.a.createElement("div",{className:"u-grid-item medium-7 large-7"},n))),l.a.createElement("div",{className:"column medium-6"},l.a.createElement("div",{className:i.a.rightFilters},a&&l.a.createElement("div",{className:i.a.sortBy},a),r&&l.a.createElement("div",{className:i.a.button},l.a.createElement(b,{filterCount:o,panel:r})),c&&l.a.createElement("div",{className:i.a.button},c)))))}f.propTypes={filterField:r.a.node,termField:r.a.node,sortField:r.a.node,filterCount:r.a.number,panel:r.a.func,addButton:r.a.node},f.defaultProps={};t.a=f},2594:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return v}));var a=n(5),r=n.n(a),o=n(0),l=n(18),c=n(166),i=n(243),s=n(596),u=n(478);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){var n=e.result.listOfItems;return t(Object(c.L)(n)),n.map((function(e){return e.id}))}function b(e){var t=p({},e);return"all"===t.type?t.type=void 0:"blog"===t.type&&(t.type="blogpost"),(t.type&&"page"!==t.type||"all"===t.contentSubType)&&(t.contentSubType=void 0),"all"===t.status&&(t.status=void 0),""===t.term&&(t.term=void 0),t}var f=function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(l.useDispatch)(),r=Object(o.useCallback)((function(e){return e.map(c.V).map(a)}),[]);return t(p({endpoint:e.Simpplr.Salesforce.Content.search,resultExtractor:m,itemSelector:i.j,itemName:"content",requestTransformer:b,onRemove:r},n))}},g=f(n(275).a);t.a=g;var h=f(u.a),v=f(s.a)}).call(this,n(27))},2613:function(e,t,n){"use strict";var a=n(16),r=n.n(a),o=n(24),l=n.n(o),c=n(71),i=n.n(c),s=n(1),u=n.n(s),d=n(0),p=n.n(d),m=n(849);function b(e){var t=e.initialValue,n=e.onChange,a=e.value,o=i()(e,["initialValue","onChange","value"]),c=Object(d.useState)(t),s=l()(c,2),u=s[0],b=s[1],f=Object(d.useCallback)((function(e){var t=e&&e.target?e.target.value:e;b(t),n&&n(t)}),[n]);return p.a.createElement(m.a,r()({},o,{value:a||u,onChange:f}))}b.propTypes={component:u.a.func,isValueModel:u.a.bool,onChange:u.a.func,excluded:u.a.arrayOf(u.a.string),initialValue:u.a.any,value:u.a.any,options:u.a.arrayOf(u.a.shape({value:u.a.string,label:u.a.string})),controlShouldRenderValue:u.a.bool},t.a=b},2615:function(e,t,n){"use strict";var a=n(20),r=n.n(a),o=n(34),l=n.n(o),c=n(10),i=n.n(c),s=n(11),u=n.n(s),d=n(7),p=n.n(d),m=n(12),b=n.n(m),f=n(13),g=n.n(f),h=n(8),v=n.n(h),y=n(5),O=n.n(y),E=n(15),j=n.n(E),C=n(4),k=n.n(C),S=n(1),w=n.n(S),I=n(0),_=n.n(I),x=n(18),P=n(14),A=n(55),N=n(225),T=n(849),F=n(422),R=n(3);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g()(this,n)}}var B=_.a.createContext();B.displayName="BulkFormContext";var V=function(e,t,n,a,r){var o=n>a?a:n,l=n>a?n:a,c=e.slice(o,l+1)||new k.a.List;return r?t.concat(c):t.filter((function(e){return!c.includes(e)}))};function z(e){var t=e.id,n=e.isDisabledDueToMax,a=e.isDisabled,r=e.isChecked,o=e.toggleItem,l=e.toggleDisabled,c=e.children;Object(I.useEffect)((function(){l(t,a)}),[t,a]);var i=_.a.createElement(T.a,{name:"items[".concat(t,"]"),component:N.a,showError:!1,isDisabled:n||a||!1,value:r,onClick:function(e){return o(t,e)},testId:"bulkCheckbox"});return"function"==typeof c?c({isChecked:r,isDisabled:n||a||!1,checkbox:i}):i}var q=function(e){b()(n,e);var t=L(n);function n(){var e;i()(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return e=t.call.apply(t,[this].concat(o)),O()(p()(e),"state",{isAllChecked:!1,submitting:!1,checkboxes:{selected:new k.a.List,isMaxSelected:!1},action:null}),O()(p()(e),"disabledCheckboxes",_.a.createRef()),O()(p()(e),"lastClickedId",null),O()(p()(e),"lastShiftClickedId",null),O()(p()(e),"addFlash",(function(t,n){return e.props.addFlash(null,t,n)})),O()(p()(e),"handleSubmit",l()(r.a.mark((function t(){var n,a,o,l,c,i,s,u,d,p,m,b,f;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,a=n.items,o=n.keyName,l=e.state,c=l.action,i=l.checkboxes.selected,e.setState({submitting:!0}),s=e.getVisibleActions().get(c),u=a.filter((function(e){return i.includes(e.get(o))})),d=s.get("checkItemValid"),p="function"==typeof d?u.filter((function(e){return d(e)})):u,m=p.map((function(e){return e.get(o)})),b=u.size-m.size,f=Object(R.a)("common.error_message"),s.get("invalidItemsTransKey")?f=Object(R.a)(s.get("invalidItemsTransKey"),{count:b}):s.get("invalidItemsMessage")&&(f=s.get("invalidItemsMessage")),0!==m.size){t.next=14;break}return e.setState({submitting:!1}),t.abrupt("return",e.addFlash("danger",f));case 14:return m.size<u.size&&e.addFlash("warning",f),t.next=17,s.get("onSelect")(m.toArray(),p);case 17:return e.setState({submitting:!1}),t.abrupt("return",null);case 19:case"end":return t.stop()}}),t)})))),O()(p()(e),"getVisibleActions",(function(){return e.props.actions.filter((function(e){return!1!==e.get("isVisible")}))})),O()(p()(e),"getBulkOptions",(function(){return e.getVisibleActions().map((function(e,t){return{label:e.get("label"),value:t}})).toArray()})),O()(p()(e),"reset",(function(){return e.setSelected(new k.a.List,!1)})),O()(p()(e),"setSelected",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e.props.maxChecked,r=a>0&&t.size>=a,o={checkboxes:{selected:t,isMaxSelected:r}};null!==n&&(o.isAllChecked=n),e.setState(o,(function(){e.lastClickedId&&!t.contains(e.lastClickedId)&&(e.lastClickedId=null),e.lastShiftClickedId&&!t.contains(e.lastShiftClickedId)&&(e.lastShiftClickedId=null)}))})),O()(p()(e),"toggleItem",(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=e.props,r=a.items,o=a.keyName,l=e.state.checkboxes.selected,c=l;if(n&&n.shiftKey&&l.size>0&&e.lastClickedId){var i=r.map((function(e){return e.get(o)})),s=i.findIndex((function(t){return t===e.lastClickedId}))||0,u=i.findIndex((function(e){return e===t}));if(e.lastShiftClickedId){var d=i.findIndex((function(t){return t===e.lastShiftClickedId}));c=V(i,c,d,s,!1)}c=V(i,c,s,u,!0).toSet().toList(),e.lastShiftClickedId=t}else e.lastClickedId=t,e.lastShiftClickedId=null,c=l.includes(t)?l.filter((function(e){return e!==t})):l.concat([t]);e.setSelected(c)})),O()(p()(e),"toggleAll",(function(t){var n=e.props,a=n.items,r=n.maxChecked,o=n.keyName,l=t.currentTarget.checked,c=new k.a.List;if(l){var i=r>0?r:0;c=a.slice(0,i).map((function(e){return e.get(o)})).filter((function(t){return!e.disabledCheckboxes.current[t]}))}e.lastClickedId=null,e.lastShiftClickedId=null,e.setSelected(c,l)})),O()(p()(e),"renderItemCheckbox",(function(t){var n=t.id,a=t.isDisabled,r=t.children;return _.a.createElement(B.Consumer,null,(function(t){var o=t.selected,l=t.isMaxSelected,c=t.toggleDisabled,i=o.includes(n),s=l&&!i;return _.a.createElement(z,{id:n,isDisabled:a,isDisabledDueToMax:s,isChecked:i,toggleItem:e.toggleItem,toggleDisabled:c},r)}))})),O()(p()(e),"renderAllCheckbox",(function(){var t=e.props,n=t.maxChecked,a=t.items.size,r=e.state,o=r.isAllChecked,l=r.checkboxes.selected,c=n>0&&a>n?Object(R.a)("common.all_with_max",{count:n}):Object(R.a)("common.all"),i=l.size;return _.a.createElement(T.a,{name:"allItems",component:N.a,showError:!1,label:c,onClick:e.toggleAll,isIndeterminate:i>0&&i<a,value:o})})),O()(p()(e),"toggleDisabled",(function(t,n){e.disabledCheckboxes.current||(e.disabledCheckboxes.current={}),e.disabledCheckboxes.current[t]=n})),e}return u()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.items,a=t.keyName,r=this.state.checkboxes.selected,o=e.items.map((function(e){return e.get(a)})),l=n.map((function(e){return e.get(a)}));if(!k.a.is(o,l)){var c=r.filter((function(e){return l.includes(e)}));if(!k.a.is(c,r)){var i=0!==c.size&&null;this.setSelected(c,i)}}}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,a=t.showOptionsInFoot,r=this.state,o=r.submitting,l=r.checkboxes,c=r.checkboxes.selected,i=r.action,s=j()({Bulk:!0,"Bulk--footer":a}),u=c.size>0;!u&&i&&this.setState({action:null});var d=u&&i,p=this.getBulkOptions();return _.a.createElement(B.Provider,{value:D(D({},l),{},{toggleDisabled:this.toggleDisabled})},_.a.createElement("div",{className:"bar"},u>0&&_.a.createElement("div",{className:s},_.a.createElement("div",{className:"Bulk-fieldContainer"},_.a.createElement(T.a,{name:"action",id:"action",component:F.a,isCompact:!a,placeholder:a?Object(R.a)("bulk_action.select_an_action"):Object(R.a)("bulk_action.title",{count:p.length}),showError:!1,options:p,onChange:function(t){return e.setState({action:t})}})),_.a.createElement(A.a,{type:"button",disabled:o||!d,size:a?"large":void 0,appearance:a?"brand":void 0,onClick:this.handleSubmit},Object(R.a)("button_label.apply")))),n({BulkCheckbox:this.renderItemCheckbox,BulkAllCheckbox:this.renderAllCheckbox,reset:this.reset,selectedIds:c}))}}]),n}(_.a.Component);O()(q,"propTypes",{keyName:w.a.string,items:w.a.instanceOf(k.a.Iterable).isRequired,actions:w.a.instanceOf(k.a.List).isRequired,children:w.a.func.isRequired,showOptionsInFoot:w.a.bool,maxChecked:w.a.number}),O()(q,"defaultProps",{keyName:"id",showOptionsInFoot:!1,maxChecked:0}),t.a=Object(x.connect)(null,{addFlash:P.a})(q)},2627:function(e,t,n){"use strict";var a=n(16),r=n.n(a),o=n(1),l=n.n(o),c=n(0),i=n.n(c),s=n(21),u=n(149),d=n(1019),p=n(380);function m(e){var t=e.input,n=e.onSearch,a=e.hasLegacyIcon,o=e.ariaLabel,l=Object(c.useRef)(null),m=Object(c.useCallback)((function(e){e.keyCode!==u.f||e.shiftKey||(e.preventDefault(),n(l.current.value))}),[]),b=Object(c.useCallback)((function(e){e.preventDefault(),n(l.current.value)}),[]),f=Object(c.useCallback)((function(){t.onChange(""),n("")}),[t]),g="string"!=typeof t.value||""===String(t.value);return i.a.createElement("div",{className:"SearchField"},i.a.createElement(p.a,e,i.a.createElement("div",{className:"SearchField-inputWrapper"},i.a.createElement(d.a,r()({inputType:"text"},e,{onKeyDown:m,ref:l})),i.a.createElement("div",{className:"SearchField-buttonContainer"},i.a.createElement("button",{type:"button",className:"SearchField-submit ".concat(g?"":"SearchField-submit--active"),onClick:b,"aria-label":o},i.a.createElement(s.a,{name:"search",isLegacy:a,sourceSize:"20"})),!g&&i.a.createElement("button",{type:"button",className:"SearchField-clear",onClick:f},i.a.createElement(s.a,{name:"cross",sourceSize:"20"}))))))}m.propTypes={ariaLabel:l.a.string.isRequired},t.a=m},2802:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var a=n(5),r=n.n(a),o=n(670),l=n(243),c=n(2669),i=n(275);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(i.a)(u({endpoint:e.Simpplr.Salesforce.Page.search,resultExtractor:function(e,n){return e.result.listOfItems.map((function(e){return n(Object(o.d)(t,e,!0)),e.id}))},itemSelector:function(e,n){return Object(c.b)(e,t,n).map((function(t){return[t,Object(l.j)(e,t.topPageIds)]}))},itemName:"pageCategories"},n))}}).call(this,n(27))},3041:function(e,t,n){"use strict";var a=n(4),r=n.n(a),o=n(1),l=n.n(o),c=n(0),i=n.n(c),s=n(18),u=n(1277),d=n(70),p=n(55),m=n(1007),b=n(16),f=n.n(b),g=n(10),h=n.n(g),v=n(11),y=n.n(v),O=n(7),E=n.n(O),j=n(12),C=n.n(j),k=n(13),S=n.n(k),w=n(8),I=n.n(w),_=n(5),x=n.n(_),P=n(2589),A=n(849),N=n(2613),T=n(655),F=n(24),R=n.n(F),M=n(31),D=n.n(M),L=n(2802),B=n(3);function V(e){var t=e.siteId,n=e.handleChange,a=e.params,o=Object(L.a)(t,{initialParams:new r.a.Map({siteId:t||a.get("siteId"),groupCategories:!0,size:999,authoredBy:a.get("authoredBy")||null,publishStartDateSpan:a.get("publishStartDate")||null})}).pageCategories;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row u-marg-b--medium"},i.a.createElement("div",{className:"column large-12"},i.a.createElement(A.a,{component:T.a,value:a.get("category"),name:"pageCategory",label:Object(B.a)("common.page_category"),options:[{value:"all",label:Object(B.a)("common.all_categories")}].concat(D()(o.map((function(e){var t=R()(e,1)[0];return{value:t.id,label:t.name}})).toJS())),onChange:n("category")}))))}V.propTypes={siteId:l.a.string,handleChange:l.a.func,params:l.a.shape({})};var z=V,q=n(1016),U=n(656),G=n(2627),K=n(483),H=n(484),W=n(30),J=n(17),X=n(63);function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var Q=function(e){C()(n,e);var t=Z(n);function n(){var e;h()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),x()(E()(e),"handleChange",(function(t){return function(n){var a,r=n;(n&&n.preventDefault&&(n.preventDefault(),r=n.currentTarget.value),r!==e.props.params.get(t))&&("siteId"===t&&r!==e.props.params.get("siteId")&&e.props.onFilterChange({category:"all"}),"contentSubType"!==t&&"category"!==t?e.props.onFilterChange(x()({},t,r)):e.props.onFilterChange((a={},x()(a,t,r),x()(a,"type","page"),a)))}})),x()(E()(e),"handleSearch",(function(t){e.props.onFilterChange({term:t})})),x()(E()(e),"handleTypeClick",(function(t){var n=e.props,a=n.params,r=n.onFilterChange,o=a.get("type"),l=(null==a?void 0:a.get("status"))||"all",c="page"===o||"all"===o,i=t;t&&t.preventDefault&&((i=t.currentTarget.value)===a.get("type")&&(i="all"),r(!c||"all"===i||"validationRequired"!==l&&"validationExpired"!==l?{type:i}:{type:i,status:"all"}))})),e}return y()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.availableTypes,a=t.filterCount,r=t.showSiteFilter,o=t.showAuthorFilter,l=t.params,c=t.onReset,s=t.isAutoGovernanceEnabled,u=t.showTypeFilter,d=r?[{value:"owned",label:Object(B.a)("content.authored_by_me")},{value:"managing",label:Object(B.a)("content.managed_by_me")}]:[{value:"managing",label:Object(B.a)("content.all_site_content")},{value:"owned",label:Object(B.a)("content.authored_by_me")}],p=n.includes("page")&&("all"===l.get("type")||"page"===l.get("type")),b=r&&"managing"===l.get("filter"),g=p&&(this.props.siteId||l.get("siteId"));return i.a.createElement(P.a,{filterCount:a,filterField:i.a.createElement(A.a,{component:T.a,value:l.get("filter"),name:"filter",label:Object(B.a)("common.content"),options:d,onChange:this.handleChange("filter")}),termField:i.a.createElement(N.a,{component:G.a,name:"term",hasNoInternalLabel:!0,initialValue:l.get("term"),placeholder:Object(B.a)("common.search_placeholder"),onSearch:this.handleSearch,onBlur:this.handleChange("term"),ariaLabel:Object(B.a)("common.search_placeholder")}),sortField:i.a.createElement(A.a,{component:T.a,value:l.get("sortBy"),name:"sortBy",label:Object(B.a)("common.sort_by"),options:[{value:"createdNewest",label:Object(B.a)("sort_by.new.createdNewest")},{value:"createdOldest",label:Object(B.a)("sort_by.new.createdOldest")},{value:"publishedNewest",label:Object(B.a)("sort_by.new.publishedNewest")},{value:"publishedOldest",label:Object(B.a)("sort_by.new.publishedOldest")},{value:"modifiedNewest",label:Object(B.a)("sort_by.new.modifiedNewest")},{value:"modifiedOldest",label:Object(B.a)("sort_by.new.modifiedOldest")}],onChange:this.handleChange("sortBy")}),panel:function(t){var a=t.deactivate;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"row u-marg-b--medium"},i.a.createElement("div",{className:"column large-8"},i.a.createElement("h3",{className:"type--h5 type--500"},Object(B.a)("button_label.filters"))),i.a.createElement("div",{className:"column large-4 u-textRight"},i.a.createElement(m.a,{appearance:"tertiary",hasInvertedHover:!0,label:Object(B.a)("button_label.reset_all"),onClick:function(){c(),a()}}))),u&&i.a.createElement("div",{className:"row u-marg-b--medium"},i.a.createElement("div",{className:"column large-12"},i.a.createElement(A.a,{component:U.a,value:l.get("type"),hasLargeIcons:!0,isFullWidth:!0,name:"type",options:n.map((function(e){return{icon:H.d[e],label:Object(B.a)("common.".concat(e)),value:e}})).toArray(),onClick:e.handleTypeClick}))),p&&i.a.createElement("div",{className:"row u-marg-b--medium"},i.a.createElement("div",{className:"column large-12"},i.a.createElement(A.a,{component:T.a,value:l.get("contentSubType"),name:"contentSubType",label:Object(B.a)("content.page_type"),options:[{value:"all",label:Object(B.a)("common.all_types")},{value:"news",label:Object(B.a)("common.news")},{value:"knowledge",label:Object(B.a)("common.knowledge")}],onChange:e.handleChange("contentSubType")}))),g&&i.a.createElement(z,f()({},e.props,{handleChange:e.handleChange})),i.a.createElement("div",{className:"row u-marg-b--medium"},i.a.createElement("div",{className:"column large-12"},i.a.createElement(A.a,{component:T.a,value:l.get("status"),name:"status",label:Object(B.a)("listing.heading.status"),options:[{value:"all",label:Object(B.a)("common.all")},{value:"draft",label:Object(B.a)("status.draft")},{value:"pending",label:Object(B.a)("status.pending")},{value:"published",label:Object(B.a)("status.published")},{value:"rejected",label:Object(B.a)("status.rejected")},{value:"unpublished",label:Object(B.a)("status.unpublished")},p&&s&&{value:"validationRequired",label:Object(B.a)("knowledge.validation_required")},p&&s&&{value:"validationExpired",label:Object(B.a)("knowledge.validation_expired")}].filter((function(e){return!!e})),onChange:e.handleChange("status")}))),b&&i.a.createElement("div",{className:"row u-marg-b--medium"},i.a.createElement("div",{className:"column large-12"},i.a.createElement(A.a,{component:T.a,value:l.get("contribution"),name:"contribution",label:Object(B.a)("listing.heading.contribution"),options:[{value:"all",label:Object(B.a)("common.all")},{value:"contributedByMe",label:Object(B.a)("common.contributed_by_me")}].filter((function(e){return!!e})),onChange:e.handleChange("contribution")}))),r&&"blog"!==l.get("type")&&i.a.createElement("div",{className:"row u-marg-b--medium"},i.a.createElement("div",{className:"column large-12"},i.a.createElement(A.a,{component:K.a,value:l.get("siteId"),name:"siteId",label:Object(B.a)("field.site_selector.label_above"),placeholder:Object(B.a)("common.site"),onChange:e.handleChange("siteId")}))),o&&i.a.createElement("div",{className:"row u-marg-b--medium"},i.a.createElement("div",{className:"column large-12"},i.a.createElement(A.a,{component:q.a,value:l.get("peopleId"),name:"peopleId",label:Object(B.a)("common.author"),placeholder:Object(B.a)("common.author"),onChange:e.handleChange("peopleId")}))))}})}}]),n}(i.a.Component);x()(Q,"propTypes",{filterCount:l.a.number,onFilterChange:l.a.func,onReset:l.a.func,showSiteFilter:l.a.bool,showAuthorFilter:l.a.bool,isAutoGovernanceEnabled:l.a.bool}),x()(Q,"defaultProps",{filterCount:0,showSiteFilter:!0,showAuthorFilter:!0});var Y=Object(s.connect)((function(e,t){var n=t.showSiteFilter,a=t.siteId,o=Object(X.l)(e,a)||new r.a.Map,l={page:"hasPagesEnabled",event:"hasEventsEnabled",album:"hasAlbumsEnabled"},c=Object(J.d)(e).filter((function(e){var t=n||"blog"!==e;return a&&t?!!o.get(l[e]):t}));return{currentUserPeopleId:Object(W.getCurrentUserPeopleId)(e),availableTypes:c,showTypeFilter:c.size>1,isAutoGovernanceEnabled:Object(J.E)(e)}}),null,null,{forwardRef:!0})(Q),$=n(2600),ee=n(2594),te=n(166),ne=n(94),ae=n(241),re=n(215),oe=n(243),le=n(15),ce=n.n(le),ie=n(81),se=n(481),ue=n(21);function de(e){var t=e.type,n=e.pageType,a=e.children,r=function(e,t){return"event"===e?null:"album"===e?"albums":"page"===e&&"knowledge"===t?"pages-knowledge":"pages"}(t,n),o=r&&i.a.createElement("div",{className:"ContentImageIcon-icon"},i.a.createElement(ue.a,{name:r}));return i.a.createElement("div",{className:"ContentImageIcon"},a,o)}de.propTypes={type:l.a.string,pageType:l.a.string,children:l.a.node},de.defaultProps={};var pe=de,me=n(244),be=n(138),fe=n(56),ge=n(89);function he(e){var t=e.site,n=e.authoredBy,a=e.isTruncated,r=t&&!t.isEmpty()&&i.a.createElement(me.a,{to:Object(ge.q)(t.get("siteId"))},i.a.createElement(be.a,{name:t.get("name"),access:t.get("access")})),o=n&&!n.isEmpty()&&i.a.createElement(me.a,{to:"/people/".concat(n.get("peopleId"))},n.get("name")),l=ce()({"type--b3":!0,"type--secondary":!0,"u-textTruncate":a}),c=r?"content.meta.by_author_in_site":"content.meta.by_author";return i.a.createElement("div",{className:l},Object(B.a)(c,{siteLink:r,authoredBy:o,date:!1}))}he.propTypes={site:l.a.instanceOf(r.a.Record),authoredBy:fe.a.user,isTruncated:l.a.bool},he.defaultProps={isTruncated:!0};var ve=he,ye=n(32);function Oe(e){var t=e.publishAt,n=e.createdAt,a=e.modifiedAt,r=n&&Object(ye.j)(n),o=t&&Object(ye.j)(t),l=a&&Object(ye.j)(a),c=r?Object(ye.i)(r,!1):"",i=o?Object(ye.i)(o,!1):"",s=l?Object(ye.i)(l,!1):"",u=c?" ".concat(Object(B.a)("common.date_created",{date:c})," -"):"",d=i?" ".concat(Object(B.a)("common.date_published",{date:i})):"",p=s?" (".concat(Object(B.a)("common.date_edited",{date:s}),")"):"";return"".concat(u).concat(d).concat(p)}Oe.propTypes={createdAt:l.a.string.isRequired,publishAt:l.a.oneOfType([l.a.string,l.a.oneOf([!1])]),modifiedAt:l.a.oneOfType([l.a.string,l.a.oneOf([!1])])},Oe.defaultProps={};var Ee=Oe,je=n(69),Ce=n.n(je),ke=n(232);function Se(e){var t=e.content,n=e.canShowMessage,a=e.isExpiring,r=e.hasExpired;if(!n)return null;var o=Object(ke.e)(r,t.get("expiresAt")),l=R()(o,2),c=l[0],s=l[1],u=Object(B.a)("knowledge.validation_required_before_date",{date:s}),d=ce()({"type--b3":!0,"u-textTruncate":!0,"type--secondary":!a&&!r,"type--warning":a,"type--error":r});return i.a.createElement("div",{className:d},Object(B.a)("common.knowledge_page")," — ",u," (",c,")")}Se.propTypes={content:Ce.a.map.isRequired,canShowMessage:l.a.bool,isExpiring:l.a.bool,hasExpired:l.a.bool},Se.defaultProps={};var we=Object(s.connect)((function(e,t){var n=t.content,a=Object(oe.e)(e,n);return{canShowMessage:a,isExpiring:a&&Object(oe.d)(e,n),hasExpired:a&&Object(oe.c)(e,n)}}))(Se),Ie=n(858),_e=n(1029),xe=n(851);function Pe(e){var t=e.children;return i.a.createElement("span",{className:"StampList"},i.a.Children.map(t,(function(e,t){return e&&i.a.createElement("span",{className:"StampList-item u-hideIfEmpty",key:t},e)})))}Pe.propTypes={children:l.a.node.isRequired},Pe.defaultProps={};var Ae=Pe;function Ne(e){var t=e.isValidationRequired,n=e.hasExpired,a=e.statusStamp;return t?i.a.createElement(_e.a,{text:n?Object(B.a)("knowledge.validation_expired"):Object(B.a)("knowledge.validation_required"),status:n?"negative":"warning"}):a}Ne.propTypes={isValidationRequired:l.a.bool,hasExpired:l.a.bool,statusStamp:l.a.node},Ne.defaultProps={};var Te=Object(s.connect)((function(e,t){var n=t.content,a=Object(oe.e)(e,n);return{isValidationRequired:a,hasExpired:a&&Object(oe.c)(e,n)}}))(Ne),Fe=n(543),Re=n(3040),Me=n(52),De=n(324);var Le=function(e){var t=e.content,n=t.type,a=t.title,r=t.mustReadDetails,o=t.status,l=t.createdAt,c=t.firstPublishedAt,u=t.lastMovedAt,d=t.versionId,p=t.recentViewCount,m=t.site,b=t.authoredBy,f=t.canMakeMustRead,g=t.contentId,h=Object(s.useSelector)((function(e){return Object(J.C)(e,"externalAnalytics")})),v=Object(s.useSelector)((function(e){return Object(oe.f)(e,t)})),y=Object(s.useSelector)((function(e){return Object(W.getCurrentUserPermissions)(e)})),O=Object(De.a)(),E=m||{},j=E.id,C=E.isManager,k=E.isOwner,S=E.isContentManager,w=null==b?void 0:b.id,I=null==y?void 0:y.isAppManager,_=O.peopleId,x=!("blog_post"===n)&&(I||w===_||m&&(C||k||I)||m&&S),P="blog_post"===n?"/people/".concat(w,"/blog"):"/site/".concat(j,"/").concat(n),A="".concat(P,"/").concat(g).concat(d?"/history/".concat(d):"","/edit"),N=Object(s.useDispatch)(),T=i.a.createElement(Re.a,{contentTitle:a,contentMustReadDetails:r,contentType:n,contentStatus:o,name:Me.z,contentId:g,canViewUsefulHistory:Object(oe.g)(t),canViewModerationHistory:v,hasVersionHistoryOption:x,canMakeMustRead:f,isContentAnalyticsEnabled:h,createdAt:l,firstPublishedAt:c,recentViewCount:p,updateUrl:A,siteId:j,lastMovedAt:u});return i.a.createElement("button",{type:"button",className:"OptionsMenu-iconContainer u-marg-r--small-sketchSize",onClick:function(){N(Object(ne.open)(Me.z,g,"analytics"))}},i.a.createElement(Fe.a,{name:"analytics",size:"16"}),T)},Be=n(1003),Ve=n(227),ze=n(2917),qe=n(20),Ue=n.n(qe),Ge=n(34),Ke=n.n(Ge),He=n(37),We=n(1001),Je=n(3510),Xe=n(113),Ze=n(47);function Qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var Ye="CONTENT_MOVE",$e=function(e){C()(n,e);var t=Qe(n);function n(){var e;h()(this,n);for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),x()(E()(e),"onSubmit",function(){var t=Ke()(Ue.a.mark((function t(n){var a,r,o,l;return Ue.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,r=a.validContentIds,o=a.moveToSite,l=a.close,t.next=3,o(r.toArray(),n.get("siteId"),n.get("pageCategoryId"));case 3:l();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),x()(E()(e),"validateSite",(function(t){var n=e.props,a=n.getSite,o=n.validContentTypes,l=a(t);if(l){var c=new r.a.Set([l.get("hasPages")&&"page",l.get("hasEvents")&&"event",l.get("hasAlbums")&&"album"]).filter((function(e){return!!e})),i=o.subtract(c);if(!(i.size<=0)){var s=i.map((function(e){return Object(B.a)("common.".concat(e,"_plural"))}));return Object(B.a)("content.move_modal.error.site_content_unsupported",{count:s.size,firstContentType:s.slice(0,-1).join(", "),contentType:s.last()})}}})),e}return y()(n,[{key:"render",value:function(){var e=this.props,t=e.close,n=e.handleSubmit,a=e.invalid,r=e.submitting,o=e.invalidCount,l=e.showPageCategoryField,c=e.currentSiteId;return i.a.createElement("form",{onSubmit:n(this.onSubmit)},i.a.createElement("div",{className:"Modal-content Modal-content--forms"},o>0&&i.a.createElement("div",{className:"u-marg-b--medium"},i.a.createElement(We.a,{type:"warning",title:Object(B.a)("content.move_modal.warning.title",{count:o})},Object(B.a)("content.move_modal.warning.body"))),i.a.createElement("div",{className:"u-marg-b--medium"},i.a.createElement(He.Field,{component:K.a,valueField:"siteId",name:"siteId",label:Object(B.a)("common.site"),placeholder:Object(B.a)("field.site_selector.pick_placeholder"),validate:[Ze.E,this.validateSite],defaultParams:{canManage:!0,includeDeactivated:!0,filter:"active"},hasLabelAbove:!0}),i.a.createElement("div",{className:"note u-marg-t--small"},i.a.createElement("p",null,Object(B.a)("content.move_modal.site.note")))),l&&i.a.createElement("div",{className:"u-marg-t--medium u-marg-b--medium"},i.a.createElement(He.Field,{component:Je.a,name:"pageCategoryId",siteId:c,label:Object(B.a)("common.page_category"),placeholder:Object(B.a)("field.page_category_selector.pick_placeholder"),validate:[Ze.E],isDisabled:!c,hasLabelAbove:!0}),i.a.createElement("div",{className:"note u-marg-t--small"},i.a.createElement("p",null,Object(B.a)("content.move_modal.page_category.note"))))),i.a.createElement("div",{className:"Strip Strip--modal u-justifySpaceBetween u-flexRowReverse u-pad-l--large u-pad-r--large"},i.a.createElement(p.a,{size:"large",type:"submit",label:Object(B.a)("button_label.move"),disabled:a||r,appearance:"brand"}),i.a.createElement("button",{type:"button",className:"Button Button--large",onClick:t},Object(B.a)("button_label.cancel"))))}}]),n}(ie.b);x()($e,"propTypes",{contents:Ce.a.list.isRequired,validContentTypes:Ce.a.set.isRequired});var et=Object(He.formValueSelector)(Ye);var tt=Object(s.connect)((function(e,t){var n=t.contents,a=n.filter((function(t){return Object(oe.a)(e,t)})),o=a.map((function(e){return e.get("contentId")})),l=a.map((function(e){return e.get("type")})).toSet(),c=n.size-o.size,i=!!n.find((function(e){return"page"===e.get("type")})),s=et(e,"siteId");return{validContentIds:o,invalidCount:c,showPageCategoryField:i,initialValues:new r.a.Map({}),currentSiteId:s,validContentTypes:l,getSite:function(t){return Object(X.l)(e,t)}}}),{moveToSite:te.x})(Object(Xe.a)((function(e){return{name:Me.C,classes:["Modal--small"],id:e.id,title:Object(B.a)("content.move_modal.title")}}))(Object(He.reduxForm)({form:Ye})($e))),nt=n(2918),at=n(2916),rt=n(90);function ot(e){var t=e.content,n=e.contentId,a=e.canEdit,o=e.editUrl,l=e.canValidate,c=e.canValidateAndPublish,s=e.canDelete,u=e.canMove,d=e.canUnpublish,p=e.canPublish,m=e.openDeleteModal,b=e.openMoveModal,f=e.openProtectedAuthorAlertModal,g=e.startContentEdit,h=e.publish,v=e.unpublish,y=e.validate,O=e.validateAndPublish,E=e.removeId,j=e.currentUser,C=e.isProtectedAuthorAllowlisted,k=[],S=t.get("type"),w=i.a.useCallback((function(){if(["page","event","album"].includes(S)){var e=t.get("versionId"),a=t.getIn(["authoredBy","isProtectedAuthor"]);!C&&a?f():g(n,e,j,o,S)}else Object(rt.e)({pathname:o})}),[n]);return a&&k.push(i.a.createElement(Ve.a,{key:"edit",label:Object(B.a)("button_label.edit"),onSelect:w},i.a.createElement(nt.a,null),i.a.createElement(ze.a,{id:n,contentType:S}))),l&&k.push(i.a.createElement(Ve.a,{key:"validate",label:Object(B.a)("button_label.validate"),onSelect:y})),c&&k.push(i.a.createElement(Ve.a,{key:"validate-publish",label:Object(B.a)("button_label.validate_and_publish"),onSelect:O})),s&&k.push(i.a.createElement(Ve.a,{key:"delete",label:Object(B.a)("button_label.delete"),onSelect:m},i.a.createElement(at.a,{id:n,removeId:E}))),u&&k.push(i.a.createElement(Ve.a,{key:"move",label:Object(B.a)("button_label.move"),onSelect:b},i.a.createElement(tt,{id:n,contents:new r.a.List([t])}))),d&&k.push(i.a.createElement(Ve.a,{key:"unpublish",label:Object(B.a)("button_label.unpublish"),onSelect:v})),p&&k.push(i.a.createElement(Ve.a,{key:"publish",label:Object(B.a)("button_label.publish"),onSelect:h})),k.length?i.a.createElement(Be.a,null,k):null}ot.propTypes={content:l.a.instanceOf(r.a.Map).isRequired,removeId:l.a.func};var lt=Object(s.connect)((function(e,t){var n=Object(W.getCurrentUserPermissions)(e).get("isProtectedAuthorAllowlisted");return{contentId:t.content.get("contentId"),isProtectedAuthorAllowlisted:n,currentUser:Object(W.getCurrentUser)(e)}}),(function(e,t){var n=t.content.get("contentId");return{publish:function(){return e(Object(te.B)(n))},unpublish:function(){return e(Object(te.U)(n))},validate:function(){return e(Object(te.Z)(n))},validateAndPublish:function(){return e(Object(te.ab)(n))},openDeleteModal:function(){return e(Object(ne.open)(Me.u,n))},openMoveModal:function(){return e(Object(ne.open)(Me.C,n))},openProtectedAuthorAlertModal:function(){return e(Object(ne.open)(Me.Db))},startContentEdit:function(t,n,a,r,o){return e(Object(te.P)(t,n,o)).then((function(n){var o=n.isLocked,l=n.lockedBy;return o&&l.name!==a.get("name")?e(Object(ne.open)(Me.lb,t)):Object(rt.e)({pathname:r})}))}}}))(ot);function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var it=function(e){C()(n,e);var t=ct(n);function n(){return h()(this,n),t.apply(this,arguments)}return y()(n,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.checkbox,a=e.isChecked,r=e.isAutoGovernanceEnabled,o=e.removeId,l=e.contentActions,c=t.get("isScheduled"),s=i.a.createElement(pe,{type:t.get("type"),pageType:t.get("contentSubType")},i.a.createElement(se.a,{content:t,isXLarge:!0,imageSize:"125px",hasSiteImageFallback:!0})),u=i.a.createElement(ve,{site:t.get("site"),authoredBy:t.get("authoredBy")}),d="published"===t.get("status")||"unpublished"===t.get("status"),p=i.a.createElement(Ee,{createdAt:t.get("createdAt"),modifiedAt:t.get("modifiedAt"),publishAt:d&&t.get("publishAt")}),m=r&&i.a.createElement(we,{content:t}),b=i.a.createElement(i.a.Fragment,null,u,i.a.createElement("div",{className:"type--b3 type--secondary u-textTruncate"},p),m),g=c?"scheduled":t.get("status"),h=i.a.createElement(_e.a,{status:g,text:Object(B.a)("status.".concat(g))}),v=i.a.createElement(Ae,null,r?i.a.createElement(Te,{content:t,statusStamp:h}):h,i.a.createElement(Ie.a,{content:t})),y=ce()({ManageContentListItem:!0,"theme--after--bg":!0,"is-active":a}),O=Object(ge.c)("my_content");return i.a.createElement("div",{className:y},i.a.createElement("div",{className:"ManageContentListItem-checkbox"},n),i.a.createElement("div",{className:"ManageContentListItem-content"},i.a.createElement(xe.a,{stamps:v,hasLargeTitle:!0,media:s,meta:b,title:t.get("title"),to:"".concat(Object(ge.g)(t)).concat(Object(ge.d)(O)),hasJustFavorite:!0,isLarge:!0})),i.a.createElement("div",{className:"ManageContentListItem-optionsMenu"},i.a.createElement(Le,{content:t,canViewAnalytics:!0}),i.a.createElement(lt,f()({content:t,removeId:o},l))))}}]),n}(ie.b);it.propTypes={content:l.a.instanceOf(r.a.Map),checkbox:l.a.node.isRequired,isChecked:l.a.bool,isAutoGovernanceEnabled:l.a.bool,removeId:l.a.func},it.defaultProps={isChecked:!1};var st=it;function ut(e){var t=e.content,n=e.isLoading,a=e.canPaginate,r=e.onLoadMore,o=e.BulkCheckbox,l=e.BulkAllCheckbox,u=e.headerElements,p=e.isAutoGovernanceEnabled,m=e.removeId,b=e.emptyState,f=Object(s.useSelector)((function(e){return Object(oe.p)(e,t)})),g=function(e){var t=["canEdit","canValidate","canValidateAndPublish","canDelete","canMove","canUnpublish","canPublish"];return!Object.keys(e).some((function(e){return t.includes(e)}))},h=Object(c.useCallback)((function(){return 0!==t.size?null:n?i.a.createElement(re.a,null):b||i.a.createElement(d.a,{hasNoBorder:!0})}),[t,n,b]);return i.a.createElement("div",null,i.a.createElement("div",{className:"ManageContentList-header u-marg-t--medium"},i.a.createElement(l,null),u),h()||i.a.createElement(i.a.Fragment,null,f.map((function(e){var t=e.content,n=e.contentActions;return i.a.createElement(o,{key:t.get("contentId"),id:t.get("contentId"),isDisabled:g(n)},(function(e){var a=e.isChecked,r=e.checkbox;return i.a.createElement(st,{content:t,key:t.get("contentId"),checkbox:r,isChecked:a,isAutoGovernanceEnabled:p,removeId:m,contentActions:n})}))})),i.a.createElement(ae.a,{canLoad:a,onLoad:r,isLoading:n})))}ut.propTypes={content:l.a.instanceOf(r.a.List),isLoading:l.a.bool,canPaginate:l.a.bool,BulkCheckbox:l.a.elementType,BulkAllCheckbox:l.a.elementType,onLoadMore:l.a.func,headerElements:l.a.node,isAutoGovernanceEnabled:l.a.bool,removeId:l.a.func},ut.defaultProps={headerElements:null};var dt=ut,pt=n(2615);function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=I()(e);if(t){var r=I()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return S()(this,n)}}var bt=function(e){C()(n,e);var t=mt(n);function n(){var e;h()(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),x()(E()(e),"state",{selectedContent:null}),x()(E()(e),"modalPromise",null),x()(E()(e),"openMoveModal",(function(t,n){return new Promise((function(t){e.setState({selectedContent:n},(function(){e.props.openMoveModal()})),e.modalPromise=t}))})),x()(E()(e),"handleClose",(function(){e.modalPromise&&(e.modalPromise(),e.modalPromise=null)})),e}return y()(n,[{key:"render",value:function(){var e=this.props,t=e.content,n=e.params,a=e.isLoading,o=e.canPaginate,l=e.onLoadMore,c=e.bulkPublish,s=e.bulkUnpublish,u=e.bulkValidate,d=e.bulkDelete,p=e.headerElements,m=e.isAutoGovernanceEnabled,b=e.emptyState,f=e.removeId,g=this.state.selectedContent,h=new r.a.List([new r.a.Map({label:Object(B.a)("button_label.publish"),isVisible:!0,invalidItemsTransKey:"content.action.bulk_publish.error_flash",onSelect:c}),new r.a.Map({label:Object(B.a)("button_label.unpublish"),invalidItemsTransKey:"content.action.bulk_unpublish.error_flash",isVisible:!0,onSelect:s}),new r.a.Map({label:Object(B.a)("button_label.validate"),invalidItemsTransKey:"content.action.bulk_validate.error_flash",isVisible:m,onSelect:u,checkItemValid:function(e){return"page"===e.get("type")&&"knowledge"===e.get("contentSubType")&&["published","unpublished"].includes(e.get("status"))}}),new r.a.Map({label:Object(B.a)("button_label.delete"),invalidItemsTransKey:"content.action.bulk_delete.error_flash",isVisible:!0,onSelect:d,checkItemValid:function(e){return e.get("canDelete")}}),new r.a.Map({label:Object(B.a)("button_label.move"),isVisible:!0,onSelect:this.openMoveModal})]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(pt.a,{keyName:"contentId",items:t,actions:h,showOptionsInFoot:!0,maxChecked:50},(function(e){var r=e.BulkCheckbox,c=e.BulkAllCheckbox;return i.a.createElement(dt,{content:t,params:n,emptyState:b,isLoading:a,canPaginate:o,onLoadMore:l,BulkCheckbox:r,BulkAllCheckbox:c,headerElements:p,isAutoGovernanceEnabled:m,removeId:f})})),g&&i.a.createElement(tt,{id:"bulk",contents:g,modalEvents:{onClose:this.handleClose}}))}}]),n}(i.a.Component);x()(bt,"propTypes",{content:l.a.instanceOf(r.a.Iterable).isRequired,removeId:l.a.func,isLoading:l.a.bool,canPaginate:l.a.bool,onLoadMore:l.a.func,emptyState:l.a.node,headerElements:l.a.node,isAutoGovernanceEnabled:l.a.bool});var ft=Object(s.connect)((function(e){return{isAutoGovernanceEnabled:Object(J.E)(e)}}),(function(e,t){var n=t.removeId;return{bulkPublish:function(t){return e(Object(te.d)(t))},bulkUnpublish:function(t){return e(Object(te.e)(t))},bulkValidate:function(t){return e(Object(te.f)(t,!0))},bulkDelete:function(t){return e(Object(te.c)(t,!0)).then((function(){n(t)}))},openMoveModal:function(){return e(Object(ne.open)(Me.C,"bulk"))}}}))(bt),gt=n(3511);function ht(e){var t=e.siteId,n=Object(s.useSelector)(J.E),a=Object(ee.b)({initialParams:new r.a.Map({type:"all",siteId:t,filter:t?"managing":"owned",sortBy:"modifiedNewest",contentSubType:"all",status:"all",term:"",contribution:"all"})}),o=a.content,l=a.params,b=a.setParams,f=a.loading,g=a.loadMore,h=a.canPaginate,v=a.removeId,y=Object(c.useCallback)((function(){b({type:void 0,contentSubType:void 0,status:void 0,siteId:void 0,peopleId:void 0,term:void 0,contribution:void 0,category:void 0})}),[b]),O=Object(c.useCallback)((function(e){b({filter:"managing",term:"",type:void 0,contentSubType:void 0,status:e,siteId:void 0,peopleId:void 0,category:void 0},!0)}),[b]),E=l.get("type")&&("page"===l.get("type")||"all"===l.get("type")),j=function(){return[l.get("type")&&"all"!==l.get("type"),E&&l.get("contentSubType")&&"all"!==l.get("contentSubType"),l.get("status")&&"all"!==l.get("status"),!t&&!!l.get("siteId"),l.get("peopleId"),"managing"===l.get("filter")&&l.get("contribution")&&"all"!==l.get("contribution"),E&&l.get("category")&&"all"!==l.get("category")].filter((function(e){return e})).length},C=j(),k=n&&"validationRequired"!==l.get("status")&&"validationExpired"!==l.get("status");return i.a.createElement(i.a.Fragment,null,i.a.createElement(Y,{showSiteFilter:!t,showAuthorFilter:"owned"!==l.get("filter"),onFilterChange:b,onReset:y,filterCount:C,params:l,siteId:t}),k&&i.a.createElement(gt.a,{siteId:t,setStatusFunc:O}),i.a.createElement(ft,{content:o.filter((function(e){return!e.get("isDeleted")})),siteId:t,params:l,currentFilter:l.get("filter"),emptyState:function(){if(0!==o.size)return null;if(!(j()<=0&&!l.get("term")))return i.a.createElement(d.a,{hasNoBorder:!0});var e=i.a.createElement(u.a,null,(function(e){var t=e.onClick;return i.a.createElement(p.a,{appearance:"brand",size:"large",label:Object(B.a)("user_panel.add_content"),onClick:t})}));return"owned"===l.get("filter")?i.a.createElement("div",{className:"ManageContentList-noResults"},i.a.createElement("h2",null,Object(B.a)("manage_content.no_results.author_title")),!t&&i.a.createElement("p",null,Object(B.a)("manage_content.no_results.author_subtitle",{link:i.a.createElement(m.a,{onClick:function(){return b({filter:"managing"})}})})),e):l.get("filter")?null:i.a.createElement("div",{className:"ManageContentList-noResults"},i.a.createElement("h2",null,Object(B.a)("manage_content.no_results.manage_title")),e)}(),isLoading:f,canPaginate:h,onLoadMore:g,removeId:v,headerElements:C>0&&i.a.createElement("div",{className:"ManageContentList-headerReset"},Object(B.a)("manage_content.active_filter_count",{count:C}),i.a.createElement("span",{className:"u-pad-l--xsmall"},i.a.createElement(m.a,{label:Object(B.a)("button_label.reset"),onClick:y})))}),i.a.createElement($.a,null))}ht.propTypes={siteId:l.a.string};t.a=ht},3510:function(e,t,n){"use strict";(function(e){var a=n(16),r=n.n(a),o=n(71),l=n.n(o),c=n(10),i=n.n(c),s=n(11),u=n.n(s),d=n(7),p=n.n(d),m=n(12),b=n.n(m),f=n(13),g=n.n(f),h=n(8),v=n.n(h),y=n(5),O=n.n(y),E=n(0),j=n.n(E),C=n(18),k=n(14),S=n(3),w=n(422);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var r=v()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g()(this,n)}}var x=function(t){b()(a,t);var n=_(a);function a(){var t;i()(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=n.call.apply(n,[this].concat(o)),O()(p()(t),"state",{loading:!1,categories:[]}),O()(p()(t),"loadCategoriesForSite",(function(n){t.setState({loading:!0,categories:[]}),e.Simpplr.Salesforce.PageCategory.search({siteId:n,size:9999}).then((function(e){var a=e.result;t.props.siteId===n&&t.setState({loading:!1,categories:a.listOfItems||[]})})).fail((function(){t.setState({loading:!1}),t.props.danger(Object(S.a)("common.error_message"))}))})),t}return u()(a,[{key:"componentDidMount",value:function(){this.props.siteId&&this.loadCategoriesForSite(this.props.siteId)}},{key:"componentDidUpdate",value:function(e){if(e.siteId!==this.props.siteId){if(!this.props.siteId)return void this.setState({categories:[]});this.loadCategoriesForSite(this.props.siteId)}}},{key:"render",value:function(){var e=this.props,t=e.options,n=l()(e,["options"]),a=this.state,o=a.loading,c=a.categories.map((function(e){return{value:e.id,label:e.name}}));return j.a.createElement(w.a,r()({},n,{options:(t||[]).concat(c),isLoading:o}))}}]),a}(j.a.Component);O()(x,"propTypes",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},w.a.propTypes)),O()(x,"defaultProps",{options:[]}),t.a=Object(C.connect)(null,{danger:k.f})(x)}).call(this,n(27))},3511:function(e,t,n){"use strict";(function(e){var a=n(10),r=n.n(a),o=n(11),l=n.n(o),c=n(7),i=n.n(c),s=n(12),u=n.n(s),d=n(13),p=n.n(d),m=n(8),b=n.n(m),f=n(5),g=n.n(f),h=n(1),v=n.n(h),y=n(0),O=n.n(y),E=n(55),j=n(1001),C=n(3);function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=b()(e);if(t){var r=b()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return p()(this,n)}}var S=function(t){u()(a,t);var n=k(a);function a(){var e;r()(this,a);for(var t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return e=n.call.apply(n,[this].concat(o)),g()(i()(e),"state",{expiringContentCount:0,expiredContentCount:0}),g()(i()(e),"setStatusToExpiring",(function(){e.props.setStatusFunc("validationRequired")})),g()(i()(e),"setStatusToExpired",(function(){e.props.setStatusFunc("validationExpired")})),e}return l()(a,[{key:"componentDidMount",value:function(){var t=this,n=this.props.siteId;e.Simpplr.Salesforce.Content.getExpiringContentCounts(n).then((function(e){var n=e.result;t.setState({expiringContentCount:parseInt(n.expiringContentCount,10),expiredContentCount:parseInt(n.expiredContentCount,10)})}))}},{key:"render",value:function(){var e=this.state,t=e.expiringContentCount,n=e.expiredContentCount,a=O.a.createElement(E.a,{appearance:"warningHover",label:Object(C.a)("common.view_all"),onClick:this.setStatusToExpiring}),r=O.a.createElement(E.a,{appearance:"dangerHover",label:Object(C.a)("common.view_all"),onClick:this.setStatusToExpired}),o=t>0,l=n>0;return O.a.createElement(O.a.Fragment,null,o&&O.a.createElement("div",{className:l?"u-marg-b--small":""},O.a.createElement(j.a,{type:"warning",title:Object(C.a)("manage_content.knowledge_warning.review.title"),button:a,hasContentStyles:!1},Object(C.a)("manage_content.knowledge_warning.review.body",{count:t}))),l&&O.a.createElement(j.a,{type:"negative",title:Object(C.a)("manage_content.knowledge_warning.expired.title"),button:r,hasContentStyles:!1},Object(C.a)("manage_content.knowledge_warning.expired.body",{count:n})))}}]),a}(O.a.Component);g()(S,"propTypes",{siteId:v.a.string,setStatusFunc:v.a.func.isRequired}),t.a=S}).call(this,n(27))}}]);