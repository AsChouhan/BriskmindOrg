(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1786:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(13),s=n(2),c=n.n(s),u=n(10),p=n.n(u),m=n(709),f=n(62),d=n(35),b=n(11),y=n(19),h=n(177),g=n(589),v=n(115),E=n(1231),O=n(262),w=n(340),S=n(201),j=n(4);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){function t(){var e,n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=this,r=(e=P(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==_(r)&&"function"!=typeof r?I(a):r,k(I(I(n)),"canEdit",function(){var e=n.props,t=e.type,a=e.variant,r=e.integrations,o=e.currentUser;if("files"===t){if(!("box"!==a||r.contains("box")&&o.get("hasConnectedBoxAccount")))return!1;if(!("gdrive"!==a||r.contains("gdrive")&&o.get("hasConnectedGoogleDriveAccount")))return!1;if(!("dropbox"!==a||r.contains("dropbox")&&o.get("hasConnectedDropboxAccount")))return!1;if(!("onedrive"!==a||r.contains("onedrive")&&o.get("hasConnectedOneDriveAccount")))return!1;if(!("sharepoint"!==a||r.contains("sharepoint")&&o.get("hasConnectedSharePointAccount")))return!1}return!0}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.props.isFullyLoaded||this.props.loaded||this.props.loading||this.props.load()}},{key:"renderOptionsMenu",value:function(e){if(!this.props.canManage)return null;var t=[];return this.canEdit()&&t.push(r.a.createElement(O.a,{label:Object(j.a)("button_label.edit"),key:"edit",onSelect:this.props.openEditModal})),t.push(r.a.createElement(O.a,{label:Object(j.a)("button_label.remove"),key:"remove",onSelect:this.props.openRemoveModal})),r.a.createElement(E.a,{hasArrow:!0,icon:"more",isTile:!e,isImageOverlay:e,hasLegacyIcon:!1},t)}},{key:"render",value:function(){var e=this.props,t=e.dashboardId,n=e.isUserVariable,a=e.isManagingSegment,o=e.hideTitle,i=e.isNewlyPushed,l=e.title,s=this.props.loading?r.a.createElement("div",{className:"Tile-loaderContainer"},r.a.createElement(v.a,null)):null,c=p()({Tile:!0,"u-overflowHidden":this.props.hasOverflowHidden,"Drop-item":this.props.canManage,"Drop-placeholder":this.props.isDragging,"Tile--homeDefault":"home-default"===t,"Tile--hiddenHeader":o,"ImageOptions-trigger":o}),u=p()({"Tile-main":this.props.hasPadding}),m=i&&r.a.createElement(w.a,{text:Object(j.a)("common.new"),isBrand:!0}),f=this.props.connectDragHandle(r.a.createElement("header",{className:"Tile-header"},o?r.a.createElement(r.a.Fragment,null,m,r.a.createElement(S.a,{size:"small",hasLargeOffset:!0},this.renderOptionsMenu(o))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"Tile-heading"},l,"Â ",m),r.a.createElement("div",{className:"Tile-optionsContainer"},this.renderOptionsMenu(o))))),d=p()({"u-pad-b--medium":this.props.hasPadding,"u-pad--small":!this.props.hasPadding});return this.props.connectDragWrapper(this.props.connectDropTarget(r.a.createElement("aside",{className:c},f,r.a.createElement("div",{className:u},("home-default"===t||a)&&n&&r.a.createElement("div",{className:d},r.a.createElement(g.a,{isSmall:!0},r.a.createElement("span",{className:"type--500"},Object(j.a)("home_default.tile_content_different_for_each_user")))),s||this.props.children))))}}])&&C(n.prototype,a),o&&C(n,o),t}();k(D,"propTypes",{id:i.a.string.isRequired,dashboardId:i.a.string,isDefault:i.a.bool,hasOverflowHidden:i.a.bool,title:i.a.string.isRequired,loading:i.a.bool,loaded:i.a.bool,isNewlyPushed:i.a.bool,isFullyLoaded:i.a.bool,isLoadedSuccessfully:i.a.bool,hasPadding:i.a.bool,canManage:i.a.bool,options:i.a.instanceOf(c.a.Map),items:i.a.instanceOf(c.a.List),isDragging:i.a.bool,connectDropTarget:i.a.func,connectDragWrapper:i.a.func,connectDragHandle:i.a.func,isUserVariable:i.a.bool}),k(D,"defaultProps",{isDefault:!1,hasOverflowHidden:!1,loading:!1,loaded:!1,isFullyLoaded:!1,isLoadedSuccessfully:!1,canManage:!1,hasPadding:!0,isDragging:!1,connectDropTarget:function(e){return e},connectDragWrapper:function(e){return e},connectDragHandle:function(e){return e},isUserVariable:!1,isManagingSegment:!1}),t.a=Object(l.connect)(function(e){return{currentUser:Object(y.getCurrentUser)(e),integrations:Object(b.d)(e),isManagingSegment:!!Object(h.b)(e)}},function(e,t){return{load:function(){return e(Object(m.i)(t.dashboardId,t.id))},openEditModal:function(){return e(Object(f.c)(d.J,t.id))},openRemoveModal:function(){return e(Object(f.c)(d.K,t.id))}}})(D)},1794:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(2),s=n.n(l),c=n(10),u=n.n(c),p=n(49),m=n(115),f=n(1798);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function h(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var E=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),h(this,g(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,r.a.Component),n=t,(a=[{key:"shouldComponentUpdate",value:function(e){return!s.a.is(this.props.users,e.users)||this.props.isLoading!==e.isLoading||this.props.total!==e.total}},{key:"render",value:function(){var e,t=this.props,n=t.users,a=t.isLoading,o=t.total,i=t.onExpand,l=t.isHoneycomb,c=t.rows,d=t.perRow,y=t.isOverlapping,h=t.isOnWashBg,g=c*d,v=o||n.size,E=(g&&v>g?n.take(g-1):n).filter(function(e){return!!e}),O=v>E.size,w=i?function(e){e.preventDefault(),i()}:null,S=i?"a":"span";if(0===n.size)return a?r.a.createElement("div",{className:"Tile-loaderContainer"},r.a.createElement(m.a,null)):r.a.createElement(p.a,null);var j=u()((b(e={"UserAvatarList-inner":y},"u-blockList-".concat(d),!y),b(e,"u-blockList",!y),b(e,"u-blockList--small",!y),e)),_=u()({UserAvatarList:!0,"u-cf":!0,"UserAvatarList--honeycomb":l}),C=u()({"UserAvatarList-item":y,"UserAvatarList-item--noBorder":y}),P=new s.a.Range(0,E.count(),d).map(function(e){return E.slice(e,e+d)}),N=y?"reverse":"push";return r.a.createElement("div",{className:_},P.map(function(e,t){return r.a.createElement("ul",{className:j,key:t},e.map(function(e){return r.a.createElement(f.a,{isOnWashBg:h,isOverlapping:y,user:e,key:e.get("id")})}).push(P.size===t+1&&O&&r.a.createElement("li",{className:C,key:"plus"},r.a.createElement("div",{className:"PlusCircle"},r.a.createElement(S,{href:"",onClick:w},"+",v-E.size))))[N](!1))}))}}])&&y(n.prototype,a),o&&y(n,o),t}();E.propTypes={users:i.a.instanceOf(s.a.List),isLoading:i.a.bool,perRow:i.a.number,total:i.a.number,onExpand:i.a.func,isHoneycomb:i.a.bool,isOverlapping:i.a.bool,isOnWashBg:i.a.bool},E.defaultProps={perRow:7,isHoneycomb:!1,isOverlapping:!1,isOnWashBg:!1},t.a=E},1798:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(2),s=n.n(l),c=n(10),u=n.n(c),p=n(1250);function m(e){var t=e.user,n=e.popoverTitle,a=e.isOverlapping,o=e.isOnWashBg,i=u()({"UserAvatarList-item":a,"UserAvatarList-item--washBg":o});return r.a.createElement("li",{className:i},r.a.createElement(p.a,{user:t,showTitle:!1,popoverTitle:n}))}m.propTypes={user:i.a.instanceOf(s.a.Map),isOverlapping:i.a.bool,isOnWashBg:i.a.bool},m.defaultProps={isOverlapping:!1,isOnWashBg:!1},t.a=m},1799:function(e,t,n){"use strict";(function(e){var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(13),s=n(2),c=n.n(s),u=n(61),p=n(62),m=n(35),f=n(100),d=n(352),b=n(49),y=n(199),h=n(596),g=n(4);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),O(this,w(n).apply(this,arguments))}var a,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(n,u["a"]),a=n,(o=[{key:"render",value:function(){var t=this.props,n=t.dashboardId,a=t.isSite,o=t.isDefault,i=t.site,l=t.canManage,s=t.openManageModal;if(!e.Simpplr.Settings.FEED_ENABLED)return r.a.createElement(b.a,null,l?r.a.createElement("p",null,Object(g.a)("dashboard.feed.disabled_message")," - ",r.a.createElement(y.a,{label:Object(g.a)("dashboard.feed.disabled_message_update_layout"),onClick:s})):r.a.createElement("p",null,Object(g.a)("dashboard.feed.disabled_message")));if(o)return r.a.createElement(b.a,{message:Object(g.a)("dashboard.feed.placeholder")});if(a&&(!i||!i.get("chatterGroupId")))return null;var c=!0!==i.get("isBroadcast")||!0===i.get("isManager");return r.a.createElement(h.a,{type:a?"record":"news",subjectId:i.get("chatterGroupId")||"me",subjectName:i.get("name")||null,siteId:a?n:null,enableTopics:"unlisted"!==i.get("access"),canPost:c,cannotPostMessage:!c&&Object(g.a)("feed.error.posts_available_to_site_managers")})}}])&&E(a.prototype,o),i&&E(a,i),n}();j(_,"propTypes",{dashboardId:i.a.string.isRequired,isSite:i.a.bool,isDefault:i.a.bool,site:i.a.instanceOf(c.a.Map)}),j(_,"defaultProps",{isSite:!1,isDefault:!1}),t.a=Object(l.connect)(function(e,t){return{site:t.isSite&&Object(f.g)(e,t.dashboardId)||new c.a.Map,canManage:Object(d.a)(e,t.dashboardId)}},function(e,t){return{openManageModal:function(){return e(Object(p.c)(m.F,t.dashboardId,"dashboard"))}}})(_)}).call(this,n(16))},1802:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(10),s=n.n(l),c=n(4),u=n(15);function p(e){var t=e.label,n=e.icon,a=e.onClick,o=e.size,i=e.isPositionFit,l=e.appearance,p=s()({AddSection:!0,"AddSection--theme":"theme"===l,"AddSection--large":"large"===o,"theme--color":"theme"===l,"u-hidePrint":!0,"u-posFit":i}),m=s()({"u-textNoWrap":!0,"type--b1":"theme"!==l,"type--500":"theme"!==l});return r.a.createElement("button",{type:"button",className:p,onClick:a},r.a.createElement("div",{className:"AddSection-inner"},r.a.createElement("span",{className:"AddSection-iconContainer"},r.a.createElement(u.a,{name:n})),r.a.createElement("span",{className:m},t||Object(c.a)("common.add"))))}p.propTypes={label:i.a.string,icon:i.a.string,onClick:i.a.func,size:i.a.oneOf(["normal","large"]),appearance:i.a.oneOf(["normal","theme"]),isPositionFit:i.a.bool},p.defaultProps={icon:"plus",size:"normal",isPositionFit:!1,appearance:"theme"},t.a=p},1808:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(10),s=n.n(l),c=n(340),u=n(718);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=f(t).call(this,e))||"object"!==p(r)&&"function"!=typeof r?b(a):r).wrapper=null,n.handle=null,n.ro=null,n.initWrapper=n.initWrapper.bind(b(b(n))),n.calculateMaxLengths=n.calculateMaxLengths.bind(b(b(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){var e=this;this.calculateMaxLengths(),this.ro=new u.a(function(){e.calculateMaxLengths()}),this.ro.observe(this.wrapper)}},{key:"componentDidUpdate",value:function(){this.calculateMaxLengths()}},{key:"componentWillUnmount",value:function(){this.ro.disconnect(),clearTimeout(this.handle)}},{key:"initWrapper",value:function(e){this.wrapper=e}},{key:"calculateMaxLengths",value:function(){var e=this;this.wrapper&&(this.handle=window.setTimeout(function(){if(e.wrapper){var t=e.wrapper.querySelector("[data-carousel-item-meta]"),n=t?t.offsetHeight-1:0,a=e.wrapper.querySelector("[data-carousel-item-info]"),r=e.wrapper.querySelector("[data-carousel-item-info-title]"),o=e.wrapper.querySelector("[data-carousel-item-summary]");r&&(r.textContent=e.props.title),o&&(o.textContent=e.props.summary);for(var i=0;i<100;i+=1){var l=a.scrollHeight||a.offsetHeight;if(!e.wrapper||l<=e.wrapper.offsetHeight-32-n)return;o&&o.offsetHeight>0&&(o.textContent=o.textContent.slice(0,-5),""!==o.textContent&&(o.textContent+="â¦")),!(r.offsetHeight>0)||o&&o.textContent||(r.textContent=r.textContent.slice(0,-5),""!==r.textContent&&(r.textContent+="â¦"))}}}))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.summary,a=e.onTitleClick,o=e.url,i=e.meta,l=e.isWide,c=e.isBrand,u=e.isAlbum,p=e.showSummary,m=e.stampList,f=s()({"CarouselItem-info":!0,"CarouselItem-info--album":u,"CarouselItem-info--brand":c&&!l,"theme--bg":c&&!l,"CarouselItem-info--wide":l}),d=s()({"type--title":!0,"type--white":c&&!l});return r.a.createElement("div",{className:f,ref:this.initWrapper},r.a.createElement("div",{"data-carousel-item-info":!0,className:"CarouselItem-infoInner"},m,t&&r.a.createElement("h2",{className:"type--h5 u-marg-b--small"},r.a.createElement("a",{href:o,className:d,onClick:a,"data-carousel-item-info-title":!0},t)),n&&p&&r.a.createElement("div",{className:"CarouselItem-info-summary","data-carousel-item-summary":!0},r.a.createElement("p",null,n))),i&&r.a.createElement("div",{className:"CarouselItem-info-metaContainer","data-carousel-item-meta":!0},i))}}])&&m(n.prototype,a),o&&m(n,o),t}();y.propTypes={title:i.a.string,summary:i.a.string,onTitleClick:i.a.func,url:i.a.string,meta:i.a.element,isWide:i.a.bool,isBrand:i.a.bool,isAlbum:i.a.bool,showSummary:i.a.bool},y.defaultProps={isWide:!1,isBrand:!1,isAlbum:!1,showSummary:!1};var h=y;function g(e){var t=e.children,n=e.title,a=e.summary,o=e.onTitleClick,i=e.url,l=e.stamp,u=e.meta,p=e.isWide,m=e.isBrand,f=e.isPortrait,d=e.isAlbum,b=e.showSummary,y=e.isFullHeight,g=e.stampList,v=s()({CarouselItem:!0,"CarouselItem--wide":p,"CarouselItem--hasPortraitMedia":f,"CarouselItem--event":m,"CarouselItem--fullHeight":y}),E=s()({"CarouselItem-mediaContainer":!0,"theme--bg":m});return r.a.createElement("div",{className:v},r.a.createElement("div",{className:E},t,l&&r.a.createElement("div",{className:"CarouselItem-stampContainer"},r.a.createElement(c.a,{text:l,isBrand:!0}))),r.a.createElement(h,{isAlbum:d,isBrand:m,title:n,summary:a,onTitleClick:o,isWide:p,url:i,meta:u,showSummary:b,stampList:g}))}g.propTypes={title:i.a.string,summary:i.a.string,onTitleClick:i.a.func,url:i.a.string,stamp:i.a.string,meta:i.a.element,isWide:i.a.bool,isPortrait:i.a.bool,isAlbum:i.a.bool,showSummary:i.a.bool,isFullHeight:i.a.bool},g.defaultProps={isWide:!1,isPortrait:!1,isAlbum:!1,showSummary:!1,isFullHeight:!1};t.a=g},1809:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(2),s=n.n(l),c=n(1846),u=n(1803);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=d(t).call(this,e))||"object"!==p(r)&&"function"!=typeof r?y(a):r).state={currentAlbumMediaId:e.startAtAlbumMediaId},n.moveGallery=n.moveGallery.bind(y(y(n))),n.closeGallery=n.closeGallery.bind(y(y(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,r.a.Component),n=t,(a=[{key:"moveGallery",value:function(e,t){this.setState({currentAlbumMediaId:t.get("albumMediaId")})}},{key:"closeGallery",value:function(){this.props.onClose()}},{key:"render",value:function(){var e=this,t=this.props,n=t.albumId,a=t.startAtAlbumMediaId,o=t.total,i=t.content,l=t.canShare,s=t.showLinkToAlbum,p=this.state.currentAlbumMediaId;return r.a.createElement(u.a,{albumId:n,total:o,startAtAlbumMediaId:a},function(t){return r.a.createElement(c.a,m({},t,{albumId:n,albumMediaId:p||t.items.getIn([0,"albumMediaId"])||void 0,onMove:e.moveGallery,onClose:e.closeGallery,content:i,canShare:l,showLinkToAlbum:s}))})}}])&&f(n.prototype,a),o&&f(n,o),t}();h.propTypes={content:i.a.instanceOf(s.a.Map).isRequired,canShare:i.a.bool,showLinkToAlbum:i.a.bool,startAtAlbumMediaId:i.a.string},t.a=h},1812:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(13),s=n(2),c=n.n(s),u=n(61),p=n(19),m=n(11),f=n(598),d=n(595),b=n(206),y=n(1844),h=n(1845);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=O(t).call(this,e))||"object"!==g(r)&&"function"!=typeof r?S(a):r).renderInner=n.renderInner.bind(S(S(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,u["b"]),n=t,(a=[{key:"componentDidMount",value:function(){!this.props.isCampaignInState&&this.props.campaign&&this.props.set(this.props.campaign.toJS())}},{key:"renderInner",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=this.props,a=n.campaign,o=n.enabledNetworks,i=n.connectedNetworks,l=r.a.createElement(h.a,{campaign:a,enabledNetworks:o,connectedNetworks:i}),s=a.get("isActive");return r.a.createElement(b.a,{modal:l},function(n){return e.props.children(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){v(e,t,n[t])})}return e}({onShareClick:s?n:null,onCountsClick:t},e.props))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.campaign,a=t.enabledNetworks,o=t.canManage;if(!n)return null;if(o){var i=r.a.createElement(y.a,{campaign:n,enabledNetworks:a,canViewAnalytics:o});return r.a.createElement(b.a,{modal:i},function(t){return e.renderInner(t)})}return this.renderInner(null)}}])&&E(n.prototype,a),o&&E(n,o),t}();j.propTypes={campaign:i.a.instanceOf(c.a.Map),set:i.a.func.isRequired,isCampaignInState:i.a.bool.isRequired,children:i.a.func.isRequired},j.defaultProps={},t.a=Object(l.connect)(function(e,t){var n=Object(m.e)(e),a=t.campaign;return{title:a.getIn(["oembed","title"]),description:a.getIn(["oembed","description"]),url:a.getIn(["oembed","url"]),img:a.getIn(["oembed","thumbnail_url"]),domain:a.getIn(["oembed","provider_url"]),twitterShareCount:a.getIn(["networks","twitter","shareCount"])||0,twitterHasShared:!0===a.getIn(["networks","twitter","hasShared"]),facebookShareCount:a.getIn(["networks","facebook","shareCount"])||0,facebookHasShared:!0===a.getIn(["networks","facebook","hasShared"]),linkedinShareCount:a.getIn(["networks","linkedin","shareCount"])||0,linkedinHasShared:!0===a.getIn(["networks","linkedin","hasShared"]),hasShareButton:!0===a.get("isActive"),enabledNetworks:n,hasTwitter:n.contains("twitter")&&!0===a.getIn(["networks","twitter","isEnabled"]),hasFacebook:n.contains("facebook")&&!0===a.getIn(["networks","facebook","isEnabled"]),hasLinkedIn:n.contains("linkedin")&&!0===a.getIn(["networks","linkedin","isEnabled"]),connectedNetworks:Object(p.getCurrentUserConnectedSocialNetworks)(e),canManage:Object(p.canCurrentUserManageCampaigns)(e),isCampaignInState:!!Object(f.c)(e,a.get("campaignId"))}},{set:d.g})(j)},1816:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(2),s=n.n(l),c=n(10),u=n.n(c),p=n(330),m=4;function f(e){var t=e.mediaCount,n=e.children,a=e.isPortrait,o=e.isLarge,i=r.a.Children.toArray(n),l=t-m,s=u()({AlbumPreview:!0,"AlbumPreview--portrait":a,"AlbumPreview--large":o}),c=u()({"AlbumPreview-first":!0,"AlbumPreview-first--large":i.length<m}),f=r.a.createElement(p.a,null,r.a.createElement("div",{className:c},i[0]),i.length>m-1&&r.a.createElement("div",{className:"AlbumPreview-imageList"},i[1]||null,i[2]||null,l>0&&i[3]?r.a.cloneElement(i[3],{overlayText:"+".concat(l)}):i[3]||null));return r.a.createElement("div",{className:s},f)}f.propTypes={children:i.a.node.isRequired,mediaCount:i.a.number.isRequired,isPortrait:i.a.bool,isLarge:i.a.bool},f.defaultProps={isPortrait:!1,isLarge:!1};var d=f;function b(e){var t=e.img,n=e.overlayText,a=e.onClick,o=e.albumUrl;return r.a.createElement("a",{href:o,className:"AlbumPreview-image",style:{backgroundImage:"url(".concat(t,")")},onClick:a,"data-ignore-turbolinks":!0},n&&r.a.createElement("div",{className:"AlbumPreview-imageOverlay"},r.a.createElement("div",{className:"AlbumPreview-count type--b4"},n)))}b.propTypes={img:i.a.string.isRequired,overlayText:i.a.string,onClick:i.a.func};var y=b,h=n(1809);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var S=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=E(t).call(this,e))||"object"!==g(r)&&"function"!=typeof r?w(a):r).state={openedAt:null},n.open=n.open.bind(w(w(n))),n.close=n.close.bind(w(w(n))),n.handleClick=n.handleClick.bind(w(w(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(t,r.a.Component),n=t,(a=[{key:"open",value:function(e){this.setState({openedAt:e})}},{key:"close",value:function(){this.setState({openedAt:null})}},{key:"handleClick",value:function(e){var t=this;return function(n){n.preventDefault(),t.open(e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,a=t.isPortrait,o=t.isLarge,i=t.albumUrl,l=this.state.openedAt;return r.a.createElement(p.a,null,l&&r.a.createElement(h.a,{albumId:n.get("id"),total:n.get("mediaCount"),onClose:this.close,content:n,startAtAlbumMediaId:l,canShare:!0,showLinkToAlbum:!0}),r.a.createElement(d,{mediaCount:n.get("mediaCount"),isPortrait:a,isLarge:o},n.get("listOfTopAlbumImages").map(function(t){return r.a.createElement(y,{key:t.get("albumMediaId"),img:t.get("fileUrl")||t.get("img")||t.get("thumbnailImg"),onClick:e.handleClick(t.get("albumMediaId")),albumUrl:i})})))}}])&&v(n.prototype,a),o&&v(n,o),t}();S.propTypes={content:i.a.instanceOf(s.a.Map).isRequired,isPortrait:i.a.bool,isLarge:i.a.bool},S.defaultProps={isPortrait:!1,isLarge:!1};t.a=S},1820:function(e,t,n){"use strict";n.d(t,"a",function(){return b});var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(10),s=n.n(l);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function p(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),p(this,m(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,r.a.PureComponent),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.children,n=e.itemCount,a=r.a.Children.toArray(t),o=n||a.length,i=s()(d({IconToggleGroup:!0,"IconToggleGroup--darkIcon":!0,"IconToggleGroup--fullWidth":!0},"IconToggleGroup--".concat(o),!0));return r.a.createElement("div",{className:i},a.map(function(e,t){return r.a.cloneElement(e,{index:e.props.index||t})}))}}])&&u(n.prototype,a),o&&u(n,o),t}();d(b,"propTypes",{children:i.a.node.isRequired,itemCount:i.a.number})},1821:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(10),s=n.n(l);function c(e){var t=e.video,n=e.isDisabled,a=e.img,o=e.searchComponent,i=e.children,l=s()({"SearchBanner-image":!0,"u-opacity--60":n});return r.a.createElement("div",{className:"SearchBanner"},r.a.createElement("div",{className:"SearchBanner-mediaContainer ImageOptions-trigger"},i,a&&r.a.createElement("img",{className:l,src:a}),t&&r.a.createElement("video",{className:"SearchBanner-video",src:t,loop:!0,muted:!0,autoPlay:!0})),r.a.createElement("div",{className:"SearchBanner-searchContainer is-expanded"},o))}c.propTypes={searchComponent:i.a.node.isRequired,children:i.a.node,video:i.a.string,isDisabled:i.a.bool,img:i.a.string},c.defaultProps={isDisabled:!1},t.a=c},1823:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(446),s=n(15),c=n(218);function u(e){var t=e.img,n=e.extension,a=e.url,o=e.isDir,i=e.imageSize;return o?r.a.createElement("a",{href:a,className:"theme--fill"},r.a.createElement(s.a,{isLegacy:!0,name:"folder"})):t?r.a.createElement("a",{href:a},r.a.createElement(c.a,{img:t,size:i})):r.a.createElement(l.a,{url:a,extension:n})}u.propTypes={isDir:i.a.bool,img:i.a.string,extension:i.a.string,url:i.a.string,imageSize:i.a.string},t.a=u},1842:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(13),s=n(2),c=n.n(s),u=n(565),p=n(317),m=n(169),f=n(11),d=n(591),b=n(1876),y=n(62),h=n(35),g=n(1231),v=n(262),E=n(4);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var C,P,N,I=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),S(this,j(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,r.a.PureComponent),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.siteId,n=e.openModal,a=t||"home";return r.a.createElement(g.a,{icon:"more",isImageOverlay:!0,hasArrow:!0,hasLegacyIcon:!1},r.a.createElement(v.a,{label:Object(E.a)("carousel.edit.label"),onSelect:function(){n(h.F,a,"carousel")}}))}}])&&w(n.prototype,a),o&&w(n,o),t}();C=I,P="propTypes",N={siteId:i.a.string},P in C?Object.defineProperty(C,P,{value:N,enumerable:!0,configurable:!0,writable:!0}):C[P]=N;var k=Object(l.connect)(null,{openModal:y.c})(I),D=n(10),T=n.n(D),M=n(42),A=n(1230),x=n(1808),L=n(218),R=n(48);function z(e){var t=e.content,n=e.optionsMenu,a=e.meta,o=e.media,i=e.isWide,l=e.isBrand,s=e.isPortrait,c=e.isOnSite,u=e.isAlbum,p=e.showSummary,m=s?t.get("img"):t.get("imgLandscape"),f=a||r.a.createElement(A.a,{publishAt:t.get("publishAt"),createdAt:t.get("createdAt"),modifiedAt:t.get("modifiedAt"),site:t.get("site"),authoredBy:t.get("authoredBy"),showSite:!c,isTruncated:!1}),d=function(){return Object(R.b)(M.CAROUSEL_ITEM_CLICK,t.get("type"))},b=T()({"CarouselItem-media":!0,"u-imageCover":!0,"theme--bg":!m});return r.a.createElement(x.a,{isAlbum:u,title:t.get("title"),summary:t.get("summary")||t.get("excerpt"),onTitleClick:d,url:t.get("url"),stamp:t.get("isMustRead")&&!t.get("hasRead")?Object(E.a)("common.must_read"):null,optionsMenu:n,meta:f,isWide:i,isPortrait:s,isBrand:l,showSummary:p},o||r.a.createElement("a",{href:t.get("url"),className:"u-displayBlock ",onClick:d},r.a.createElement(L.a,{aspectRatio:s?"square":"landscape",img:m,className:b,alt:"",size:s?"256px":"538px"})))}z.propTypes={content:i.a.instanceOf(c.a.Map).isRequired,optionsMenu:i.a.element,meta:i.a.element,media:i.a.element,isWide:i.a.bool,isBrand:i.a.bool,isPortrait:i.a.bool,isOnSite:i.a.bool,isAlbum:i.a.bool,showSummary:i.a.bool},z.defaultProps={isWide:!1,isBrand:!1,isPortrait:!1,isOnSite:!1,isAlbum:!1,showSummary:!1};var F=z,B=n(1816);function W(e){var t=e.content,n=e.optionsMenu,a=e.isWide,o=e.isPortrait,i=e.showSummary,l=e.isOnSite,s=r.a.createElement("div",{className:"CarouselItem-media"},r.a.createElement(B.a,{content:t,isPortrait:o,albumUrl:t.get("url")}));return r.a.createElement(F,{isAlbum:!0,content:t,optionsMenu:n,media:s,isWide:a,isPortrait:o,showSummary:i,isOnSite:l})}W.propTypes=F.propTypes,W.defaultProps=F.defaultProps;var H=W,U=n(1233),q=n(782);function V(e){var t=e.content,n=e.optionsMenu,a=e.isWide,o=e.isPortrait,i=e.showSummary,l=e.isOnSite,s=!!t.get("img")&&"url(".concat(o?t.get("img"):t.get("imgLandscape"),")"),c=r.a.createElement("div",{className:"CarouselItem-media",style:{backgroundImage:s}},r.a.createElement("a",{href:t.get("url"),className:"CarouselItem-media"},!s&&r.a.createElement(q.a,{isPlain:!0,input:t.get("startsAt")}))),u=r.a.createElement(U.a,{isWhite:!a&&!s,startsAt:t.get("startsAt"),endsAt:t.get("endsAt"),isAllDay:t.get("isAllDay"),isMultiDay:t.get("isMultiDay"),showTimeForSingleDay:!o,showTimeForMultiDay:!o,showTimeZone:!1,isStacked:!0});return r.a.createElement(F,{content:t,optionsMenu:n,meta:u,media:c,isWide:a,isPortrait:o,showSummary:i,isBrand:!s,isOnSite:l})}V.propTypes=F.propTypes,V.defaultProps=F.defaultProps;var G=V,K=n(711),J=n(63);function Y(e){var t=e.embed,n=e.optionsMenu,a=e.media,o=e.isWide,i=e.isPortrait,l=e.showSummary,s=r.a.createElement(K.a,{url:t.get("url")},Object(J.m)(t.get("provider_url"))),c="external";"video"!==t.get("type")&&"photo"!==t.get("type")||(c=t.get("type"));var u=function(){return Object(R.b)(M.CAROUSEL_ITEM_CLICK,c)},p=t.get("thumbnail_url")||"photo"===c&&t.get("url"),m=T()({"CarouselItem-media":!0,"u-imageCover":!0,"theme--bg":!p});return r.a.createElement(x.a,{title:t.get("title"),summary:t.get("description"),onTitleClick:u,url:t.get("url"),optionsMenu:n,meta:s,isWide:o,isPortrait:i,showSummary:l},a||r.a.createElement("a",{href:t.get("url"),className:"u-displayBlock",onClick:u},r.a.createElement(L.a,{aspectRatio:"landscape",img:p,className:m,alt:""})))}Y.propTypes={embed:i.a.instanceOf(c.a.Map).isRequired,optionsMenu:i.a.element,media:i.a.element,isWide:i.a.bool,isPortrait:i.a.bool,showSummary:i.a.bool},Y.defaultProps={isWide:!1,isPortrait:!1,showSummary:!1};var X=Y,$=n(255),Z=n(1817),Q=n(1812);function ee(e){var t=e.campaign,n=e.optionsMenu,a=e.media,o=e.isWide,i=e.isPortrait,l=e.showSummary,s=t.get("oembed"),c=s.get("url")||t.get("url");if(!s||!c)return null;var u=function(){return Object(R.b)(M.CAROUSEL_ITEM_CLICK,"campaign")},p=T()({"CarouselItem-media":!0,"u-imageCover":!0,"theme--bg":!s.get("thumbnail_url")});return r.a.createElement(Q.a,{campaign:t},function(e){return r.a.createElement(x.a,{title:s.get("title"),summary:s.get("description"),onTitleClick:function(t){u(),e.onShareClick(t)},url:c,optionsMenu:n,meta:r.a.createElement(Z.a,e),isWide:o,isPortrait:!1,showSummary:l,isFullHeight:i},a||r.a.createElement("a",{href:c,className:"u-displayBlock",onClick:function(t){u(),e.onShareClick(t)}},r.a.createElement("img",{src:$.b,style:{backgroundImage:s.get("thumbnail_url")?"url(".concat(s.get("thumbnail_url"),")"):null},className:p,alt:""})))})}ee.propTypes={campaign:i.a.instanceOf(c.a.Map).isRequired,optionsMenu:i.a.element,media:i.a.element,isWide:i.a.bool,isPortrait:i.a.bool,showSummary:i.a.bool},ee.defaultProps={isWide:!1,isPortrait:!1,showSummary:!1};var te=ee,ne=n(15),ae=n(115),re=n(330),oe=n(1851);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function se(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var me=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=ce(t).call(this,e))||"object"!==ie(r)&&"function"!=typeof r?pe(a):r).state={isLightboxOpen:!1},n.openLightbox=n.openLightbox.bind(pe(pe(n))),n.closeLightbox=n.closeLightbox.bind(pe(pe(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,r.a.Component),n=t,(a=[{key:"openLightbox",value:function(){this.setState({isLightboxOpen:!0})}},{key:"closeLightbox",value:function(){this.setState({isLightboxOpen:!1})}},{key:"render",value:function(){var e=this.props.embed,t=this.state.isLightboxOpen,n="https://www.instagram.com"===e.get("provider_url"),a=r.a.createElement(re.a,null,r.a.createElement("img",{src:$.b,style:{backgroundImage:e.get("thumbnail_url")?"url(".concat(e.get("thumbnail_url"),")"):null},className:"CarouselItem-media ".concat(n?"u-imageContain":"u-imageCover"),alt:""}),r.a.createElement("div",{className:"PlayButton"},r.a.createElement(ne.a,{isLegacy:!0,name:"play"})));if(n)return r.a.createElement(X,le({},this.props,{media:r.a.createElement("a",{className:"u-posFit PlayButton-trigger PlayButton-trigger--darkBackground",href:e.get("url")},a)}));var o=r.a.createElement(re.a,null,t&&r.a.createElement(oe.a,{onClose:this.closeLightbox},r.a.createElement("div",{className:"Gallery-slide"},r.a.createElement("div",{className:"Gallery-loader"},r.a.createElement(ae.a,null)),r.a.createElement("div",{className:"Gallery-iframeContainer Gallery-fauxIframe"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.get("html")}})))),r.a.createElement("button",{className:"u-posFit PlayButton-trigger",onClick:this.openLightbox},a));return r.a.createElement(X,le({},this.props,{media:o}))}}])&&se(n.prototype,a),o&&se(n,o),t}();me.propTypes=X.propTypes,me.defaultProps=X.defaultProps;var fe=me;function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function be(e){var t=e.siteId,n=e.item,a={isWide:e.isWide,isPortrait:e.isPortrait,showSummary:e.showSummary};if("content"===n.get("itemType")){var o=n.getIn(["item","type"]),i=F;return"album"===o&&(i=H),"event"===o&&(i=G),r.a.createElement(i,de({},a,{content:n.get("item"),isOnSite:!!t}))}return"campaign"===n.get("itemType")?r.a.createElement(te,de({},a,{campaign:n.get("item")})):"external"===n.get("itemType")&&"video"===n.getIn(["item","type"])?r.a.createElement(fe,de({},a,{embed:n.get("item")})):r.a.createElement(X,de({},a,{embed:n.get("item")}))}be.propTypes={siteId:i.a.string,item:i.a.instanceOf(c.a.Map).isRequired,isWide:i.a.bool,isPortrait:i.a.bool,isBrand:i.a.bool,showSummary:i.a.bool},be.defaultProps={isWide:!1,isPortrait:!1,isBrand:!1,showSummary:!1};var ye=be;function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ve(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t){return(Oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var we=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ve(this,Ee(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oe(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentWillMount",value:function(){!this.props.isGloballyEnabled||this.props.loading||this.props.loaded||this.props.load()}},{key:"render",value:function(){var e=this.props,t=e.siteId,n=e.maxItemsVisible,a=e.layout,o=e.loaded,i=e.canManage,l=e.items,s=e.isGloballyEnabled,c=e.popularSiteId;if(!s||!o)return null;var u=i&&r.a.createElement(k,{siteId:t}),p=!t||c===t;return r.a.createElement("div",{className:"u-marg-b--large u-hideIfEmpty u-posRelative"},!!l.size&&p&&r.a.createElement(d.a,{name:t?"siteCarousel":"carousel",position:{top:0,left:0,right:"auto"},popperPosition:"right-start"}),r.a.createElement(b.a,{maxItemsVisible:n,layout:a,optionsMenu:u},l.map(function(e){return r.a.createElement(ye,{key:e.get("carouselItemId"),siteId:t,item:e})})))}}])&&ge(n.prototype,a),o&&ge(n,o),t}();we.propTypes={siteId:i.a.string,popularSiteId:i.a.string,maxItemsVisible:i.a.number},we.defaultProps={maxItemsVisible:1};t.a=Object(l.connect)(function(e,t){var n=Object(p.h)(e,t.siteId)||new c.a.Map,a=Object(p.a)(e,t.siteId),r=t.siteId?f.E:f.A;return{loading:n.get("loading")||!1,loaded:n.get("loaded")||!1,layout:Object(p.g)(e,t.siteId),canManage:!Object(m.d)(e)&&a,items:Object(p.i)(e,t.siteId)||new c.a.List,isGloballyEnabled:r(e),popularSiteId:Object(f.q)(e,"popularSiteId")}},function(e,t){return{load:function(){return e(Object(u.d)(t.siteId||null))}}})(we)},1851:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(10),s=n.n(l),c=n(325),u=n(15),p=n(254);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),d(this,b(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentWillMount",value:function(){document.documentElement.classList.add("has-galleryOpen")}},{key:"componentWillUnmount",value:function(){document.documentElement.classList.remove("has-galleryOpen")}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.onClose,a=e.isVideo,o=s()("Gallery-mediaContainer",{"Gallery-mediaContainer--video":a,"Gallery-iframeContainer":a});return r.a.createElement(p.a,{onEscape:n},r.a.createElement(c.a,null,r.a.createElement("div",{className:"Gallery"},r.a.createElement("div",{className:"Gallery-mask",onClick:n}),r.a.createElement("button",{className:"Gallery-closeContainer",type:"button",onClick:n},r.a.createElement(u.a,{isLegacy:!0,name:"delete"})),r.a.createElement("div",{className:"Gallery-inner"},r.a.createElement("div",{className:o},t)))))}}])&&f(n.prototype,a),o&&f(n,o),t}();h.propTypes={img:i.a.string.isRequired,onClose:i.a.func.isRequired,isVideo:i.a.bool},t.a=h},1852:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(4),i=n(1786),l=n(49);t.a=function(e){return r.a.createElement(i.a,e,r.a.createElement(l.a,{message:Object(o.a)("dashboard.failed_tile_load")}))}},1866:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(13),s=n(61),c=n(53),u=n.n(c),p=n(42),m=n(177),f=n(709),d=n(115),b=n(444),y=n(48),h=n(2),g=n.n(h),v=n(4),E=n(786),O=n(45),w=n(35),S=n(25),j=n(19),_=n(11),C=n(217),P=n(136),N=n(38),I=n(130),k=n(432),D=n(43);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z="DashboardAddEditTileForm",F=Object(S.formValueSelector)(z),B=function(e){function t(){var e,n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=this,r=(e=A(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==T(r)&&"function"!=typeof r?L(a):r,R(L(L(n)),"variantOptionsInstance",null),R(L(L(n)),"state",{addAnother:!1,fieldsToTouch:null}),R(L(L(n)),"onTileVariantClick",function(e,t){t.preventDefault(),"function"==typeof n.props.onChangeVariant&&n.props.onChangeVariant(e)}),R(L(L(n)),"onAddItem",function(e){"function"==typeof n.props.onAddItem&&n.props.onAddItem(e)}),R(L(L(n)),"onRemoveItem",function(e){"function"==typeof n.props.onRemoveItem&&n.props.onRemoveItem(e)}),R(L(L(n)),"onMoveItem",function(e,t){"function"==typeof n.props.onMoveItem&&n.props.onMoveItem(e,t)}),R(L(L(n)),"onEditItem",function(e,t){"function"==typeof n.props.onEditItem&&n.props.onEditItem(e,t)}),R(L(L(n)),"onSubmit",function(e){if("function"!=typeof n.props.onSave)return null;var t=Object(E.a)(n.props.type).getIn(["variants",n.props.variant,"transformForServer"]),a=e.get("items"),r=e.get("options").toObject();"function"==typeof t&&(r=t(r,a));var o={title:e.get("title"),options:r,pushToAllHomeDashboards:!0===e.get("pushToAllHomeDashboards",!1)};return n.props.onSave(o,{addAnother:n.state.addAnother})}),R(L(L(n)),"onAddAnotherClick",function(){n.setState({addAnother:!0})}),R(L(L(n)),"setRef",function(e){n.variantOptionsInstance=null===e?null:e.getWrappedInstance?e.getWrappedInstance():e}),R(L(L(n)),"getSelectedVariant",function(){var e=n.props.isSite&&n.props.dashboardId,t=!n.props.tileId&&Object(E.b)(e,n.props.type);return t?t.get(n.props.variant):Object(E.a)(n.props.type).getIn(["variants",n.props.variant])}),R(L(L(n)),"isButtonDisabled",function(){if(n.variantOptionsInstance&&"function"==typeof n.variantOptionsInstance.isReady&&!n.variantOptionsInstance.isReady())return!0;if(n.props.submitting||n.props.invalid||n.props.isOptionsLoading)return!0;var e=Object(E.a)(n.props.type).getIn(["variants",n.props.variant]);if(e.get("requiresItems")&&0===n.props.items.size)return!0;if(e.get("requiresFormItems")&&!n.props.hasFormItems)return!0;if(n.props.hasLoadingFormItems)return!0;var t=e.get("validateItems");return"function"==typeof t&&t(n.props.items)}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.variant!==e.variant&&this.setState({fieldsToTouch:this.props.optionsTouched.filter(function(e){return!!e})},function(){return t.setState({fieldsToTouch:null})})}},{key:"componentWillUpdate",value:function(){var e=this;this.state.fieldsToTouch&&this.state.fieldsToTouch.size>0&&this.state.fieldsToTouch.forEach(function(t,n){return e.props.touch("options.".concat(n))})}},{key:"render",value:function(){var e=this.props,t=e.dashboardId,n=e.isSite,a=e.isDefault,o=e.tileId,i=e.type,l=e.variant,s=e.items,c=e.isManagerControlled,u=e.onChangeTypeAndVariant,p=e.onBackClick,m=e.handleSubmit,f=e.selectedTypeOption,d=e.canManageHomeDashboard,b=e.isSegmentsEnabled,y=e.change,h=n&&t,O=!o&&Object(E.b)(h,i),w=this.getSelectedVariant(),j=w.get("description"),_=Object(E.a)(i).get("tabs",null);"function"==typeof _&&(_=_(this.props));var T=_||O&&O.map(function(e,t){return new g.a.Map({type:i,variant:t,label:e.get("name")})}),M=!o&&T&&T.size>1?r.a.createElement(C.a,null,T.map(function(e){var t="content"===e.get("type")&&"latest_popular"===e.get("variant")&&"event"===f;return r.a.createElement(P.a,{key:e.get("label"),label:t?Object(v.a)("dashboard.tile.upcoming_and_popular"):e.get("label"),onClick:function(){return u(e.get("type")||i,e.get("variant"))},isCurrent:(e.get("type")||i)===i&&e.get("variant")===l})}).toArray()):null,A=w.get("optionsComponent",null);w.get("optionsComponentFunc")&&(A=w.get("optionsComponentFunc")(this.props));var x=null;n||a||o||c||!d||(x=r.a.createElement(S.Field,{key:"pushToAllHomeDashboards",component:k.a,name:"pushToAllHomeDashboards",id:"tile-all-home",label:b?Object(v.a)("dashboard.tile_configuration.push_to_all_users_segments"):Object(v.a)("dashboard.tile_configuration.push_to_all_users")}));var L=n?Object(v.a)("button_label.add_to_site_dashboard"):Object(v.a)("button_label.add_to_home");return r.a.createElement("form",{onSubmit:m(this.onSubmit)},M,r.a.createElement("div",{className:"Modal-content Modal-content--forms"},j&&r.a.createElement("p",{className:"u-marg-b--medium"},j),r.a.createElement("div",{className:"form-wrapper"},!1!==w.get("showTitle")&&r.a.createElement("div",{className:"u-marg-b--medium"},r.a.createElement(S.Field,{name:"title",id:"title",label:Object(v.a)("dashboard.tile_configuration.tile_title"),maxLength:"site_info"===i?30:80,isRequired:!0,component:I.a,validate:[D.n]})),A&&r.a.createElement(A,{dashboardId:t,isSite:n,isDefault:a,tileId:o,type:i,variant:l,items:s,onAddItem:this.onAddItem,onRemoveItem:this.onRemoveItem,onMoveItem:this.onMoveItem,onEditItem:this.onEditItem,selector:F,change:y,formName:z,ref:this.setRef}))),x&&r.a.createElement("div",{className:"Modal-content Modal-content--forms u-pad-tb--medium"},x),r.a.createElement("div",{className:"Strip Strip--modal u-zIndex--0 u-posRelative"},p&&r.a.createElement("div",{className:"u-sizeFill u-textLeft"},r.a.createElement(N.a,{label:Object(v.a)("button_label.back"),onClick:p})),o?null:r.a.createElement(N.a,{disabled:this.isButtonDisabled(),type:"submit",label:Object(v.a)("button_label.add_another_tile"),onClick:this.onAddAnotherClick}),r.a.createElement(N.a,{label:o?Object(v.a)("button_label.save"):L,disabled:this.isButtonDisabled(),type:"submit",appearance:"brand"})))}}])&&M(n.prototype,a),o&&M(n,o),t}();R(B,"propTypes",{dashboardId:i.a.string,isSite:i.a.bool,isDefault:i.a.bool,isManagerControlled:i.a.bool,tileId:i.a.string,type:i.a.string,variant:i.a.string,title:i.a.string,options:u.a.map,items:u.a.list,tabs:u.a.list,onChangeTypeAndVariant:i.a.func,onAddItem:i.a.func,onRemoveItem:i.a.func,onMoveItem:i.a.func,onSave:i.a.func,onBackClick:i.a.func}),R(B,"defaultProps",{isSite:!1,isDefault:!1});var W=Object(l.connect)(function(e,t){var n=Object(_.D)(e),a=Object(j.canCurrentUserManageDashboard)(e,"home"),r=F(e,"options.isLoading"),o={canManageHomeDashboard:a,selectedTypeOption:F(e,"options.type"),isSegmentsEnabled:n,isOptionsLoading:r,hasFormItems:(F(e,"items")||new g.a.List).size>0,hasLoadingFormItems:(F(e,"items")||new g.a.List).filter(function(e){return e.get&&e.get("isLoading")}).size>0};return t.type&&t.variant&&(o.initialValues=function(e,t){if(!e.type||!e.variant)return{};var n={items:e.items||new g.a.List,pushToAllHomeDashboards:!1};"links"===e.type&&(n.items=n.items.map(function(e){return e.set("text",e.get("text")||e.get("title"))}));var a=Object(E.a)(e.type),r=Object(E.a)(e.type).getIn(["variants",e.variant]),o=r?r.get("transformForConfigurationView"):null,i=r.get("defaultTitle",null)||a.get("title",null);if(n.title=e.title||i||"",!e.title&&"content"===e.type&&"latest_popular"===e.variant){var l=F(t,"options.type"),s=l&&"all"!==l?Object(v.a)("common.".concat(l,"_plural")):Object(v.a)("common.content");n.title="event"===l?Object(v.a)("dashboard.tile.content.latest_popular.events_title"):s}return n.options=r.get("options",new g.a.Map).map(function(n){var a=n.get("default");return"function"==typeof a?a(e,t)||null:a||null}).toObject(),g.a.Iterable.isIterable(e.options)&&e.options.forEach(function(e,t){n.options[t]=e}),"function"==typeof o&&(n.options=o(n.options)),n}(t,e)),o.optionsTouched=e.getIn(["form",z,"fields","options"],new g.a.Map).map(function(e){return e.get("touched")||!1}),o})(Object(S.reduxForm)({form:z,enableReinitialize:!0,keepDirtyOnReinitialize:!0})(B)),H=n(87);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=function(e){function t(){var e,n,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return a=this,r=(e=V(t)).call.apply(e,[this].concat(i)),n=!r||"object"!==U(r)&&"function"!=typeof r?K(a):r,J(K(K(n)),"onSave",function(e){return n.props.onEditTile(e).then(function(){"function"==typeof n.props.close&&n.props.close()})}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&G(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){return r.a.createElement(W,{tileId:this.props.tileId,dashboardId:this.props.dashboardId,isSite:this.props.isSite,isDefault:this.props.isDefault,type:this.props.type,variant:this.props.variant,options:this.props.options,items:this.props.focusTile.get("items"),title:this.props.title,description:this.props.description,onChangeVariant:this.props.onChangeVariant,onAddItem:this.props.onAddItem,onRemoveItem:this.props.onRemoveItem,onMoveItem:this.props.onMoveItem,onEditItem:this.props.onEditItem,onSave:this.onSave},r.a.createElement("a",{href:"",className:"Strip-cancel",onClick:this.props.close},Object(v.a)("button_label.cancel")))}}])&&q(n.prototype,a),o&&q(n,o),t}();J(Y,"propTypes",{tileId:i.a.string.isRequired,dashboardId:i.a.string,isSite:i.a.bool,isDefault:i.a.bool,type:i.a.string,variant:i.a.string,title:i.a.string,description:i.a.string,options:u.a.map,items:u.a.list,onAddItem:i.a.func.isRequired,onRemoveItem:i.a.func.isRequired,onMoveItem:i.a.func.isRequired});var X={onOpen:function(e){Object(y.b)(p.DASHBOARD_EDIT_MODAL_OPEN,e.isSite?"Site":"Home"),Object(O.b)().dispatch(Object(f.f)(e.dashboardId,e.tileId))},onAfterClose:function(e){Object(y.b)(p.DASHBOARD_EDIT_MODAL_CLOSE,e.isSite?"Site":"Home"),Object(O.b)().dispatch(Object(f.o)())}},$=Object(H.a)(function(e){var t=e.type&&Object(E.a)(e.type)||new g.a.Map,n=t.getIn(["variants",e.variant])||new g.a.Map,a=n.get("name"),r=n.get("editName")||a,o=t.get("variants").size>1?r:t.get("editName")||t.get("title");return{name:w.J,id:e.tileId,title:Object(v.a)("modal.edit_tile.title",{tileName:o}),classes:["Modal--small"]}},X)(Object(l.connect)(function(e){return{isAppManager:e.getIn(["currentUser","permissions","isAppManager"],!1),focusTile:e.getIn(["dashboard","focusTile"],new g.a.Map)}},function(e,t){var n=t.dashboardId;return{onAddItem:function(n){return Object(y.b)(p.DASHBOARD_EDIT_MODAL_ITEM_ADD,t.isSite?"Site":"Home"),e(Object(f.a)(n))},onRemoveItem:function(n){return Object(y.b)(p.DASHBOARD_EDIT_MODAL_ITEM_REMOVE,t.isSite?"Site":"Home"),e(Object(f.m)(n))},onMoveItem:function(n,a){return Object(y.b)(p.DASHBOARD_EDIT_MODAL_ITEM_MOVE,t.isSite?"Site":"Home"),e(Object(f.j)(n,a))},onEditItem:function(n,a){return Object(y.b)(p.DASHBOARD_EDIT_MODAL_ITEM_EDIT,t.isSite?"Site":"Home"),e(Object(f.d)(n,a))},onEditTile:function(a){return Object(y.b)(p.DASHBOARD_EDIT_MODAL_SAVE,t.isSite?"Site":"Home"),e(Object(f.e)(n,t.tileId,a))}}})(Y)),Z=n(458);function Q(e){var t=e.isSite,n=e.isDefault,a=e.name;return r.a.createElement("p",null,t||n?Object(v.a)("modal.confirm.warning.remove_tile_from_dashboard.this",{name:a}):Object(v.a)("modal.confirm.warning.remove_tile_from_dashboard.yours",{name:a}))}Q.propTypes={dashboardId:i.a.string,isSite:i.a.bool,isDefault:i.a.bool,tileId:i.a.string.isRequired,name:i.a.string},Q.defaultProps={isSite:!1,isDefault:!1};var ee=Object(l.connect)(null,function(e,t){var n=t.dashboardId,a=t.tileId;return{removeTile:function(){Object(y.b)(p.DASHBOARD_REMOVE_TILE),e(Object(f.n)(n,a))}}})(Object(Z.a)(function(e){return{name:w.K,id:e.tileId,title:Object(v.a)("modal.confirm.title.remove_tile_from_dashboard"),buttonText:Object(v.a)("button_label.remove"),onConfirm:e.removeTile}})(Q));function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ae(e,t){return!t||"object"!==te(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oe(e,t){return(oe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ae(this,re(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oe(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.dashboardId,n=e.isSite,a=e.isDefault,o=e.tiles;return r.a.createElement("div",null,o.map(function(e){return r.a.createElement($,{dashboardId:t,isSite:n,isDefault:a,tileId:e.get("id"),type:e.get("type"),variant:e.get("variant"),title:e.get("title"),description:e.get("description"),options:e.get("options"),items:e.get("items"),key:"edit-".concat(e.get("id"))})}).toArray(),o.map(function(e){return r.a.createElement(ee,{dashboardId:t,tileId:e.get("id"),name:e.get("title"),key:"remove-".concat(e.get("id"))})}).toArray())}}])&&ne(n.prototype,a),o&&ne(n,o),t}();ie(le,"propTypes",{dashboardId:i.a.string,isSite:i.a.bool,isDefault:i.a.bool,tiles:u.a.iterable}),ie(le,"defaultProps",{isSite:!1,isDefault:!1});var se=n(62);function ce(e){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var de=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=pe(t).call(this,e))||"object"!==ce(r)&&"function"!=typeof r?fe(a):r).state={offset:0},n.checkOffset=n.checkOffset.bind(fe(fe(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.checkOffset(),document.addEventListener("DOMContentLoaded",this.checkOffset),document.addEventListener("load",this.checkOffset),window.addEventListener("scroll",this.checkOffset),window.addEventListener("resize",this.checkOffset)}},{key:"componentDidUpdate",value:function(){this.checkOffset()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("DOMContentLoaded",this.checkOffset),document.removeEventListener("load",this.checkOffset),window.removeEventListener("scroll",this.checkOffset),window.removeEventListener("resize",this.checkOffset)}},{key:"checkOffset",value:function(){var e,t,n=document.getElementById("site-footer");if(n&&0!==n.clientHeight)if((window.scrollY||document.documentElement.scrollTop)+window.innerHeight>=(e=document.body,t=document.documentElement,Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight))-n.clientHeight){var a=n.clientHeight+32;a!==this.state.offset&&this.setState({offset:a})}else 0!==this.state.offset&&this.setState({offset:0});else setTimeout(this.checkOffset,10)}},{key:"render",value:function(){var e=this.props.children,t=this.state.offset>0?{position:"absolute",bottom:this.state.offset}:{};return r.a.createElement("div",{className:"PageOptionsMenu theme--bg",style:t},e)}}])&&ue(n.prototype,a),o&&ue(n,o),t}(),be=n(259),ye=n(15);function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var we=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=ve(t).call(this,e))||"object"!==he(r)&&"function"!=typeof r?Oe(a):r).state={offset:0},n.onClick=n.onClick.bind(Oe(Oe(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(t,r.a.Component),n=t,(a=[{key:"onClick",value:function(e){e.preventDefault(),this.props.onClick()}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.title,a=e.linkTo,o=e.children,i="PageOptionsMenu-link PageOptionsMenu-link--".concat(t);return a?r.a.createElement(be.a,{to:a,className:i,title:n},r.a.createElement(ye.a,{isLegacy:!0,name:t}),o):r.a.createElement("a",{href:"",className:i,title:n,onClick:this.onClick},r.a.createElement(ye.a,{isLegacy:!0,name:t}),o)}}])&&ge(n.prototype,a),o&&ge(n,o),t}();we.propTypes={icon:i.a.string.isRequired,title:i.a.string,onClick:i.a.func,linkTo:i.a.string},we.defaultProps={onClick:function(){}};var Se=we,je=n(142),_e=n(292),Ce=n(100),Pe=n(678),Ne=n(1820),Ie=n(198);function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function De(e){var t=e.siteId,n=e.contentTypes,a=e.onTypeClick,o=e.isSocialTilesEnabled,i=e.isSocialCampaignsEnabled,l=Object(Ie.b)(n.map(function(e){return Object(v.a)("common.".concat(e).concat("blog_post"===e?"":"_plural"))})),s=[];return o?i?(s.push(["campaigns","dashboard.tile.campaigns.title","like"]),s.push(["facebook","dashboard.tile.social_media_and_rss.title","rss"])):(s.push(["facebook","dashboard.tile.social_media.title","like"]),s.push(["rss","dashboard.tile.rss.title","rss"])):(i&&s.push(["campaigns","dashboard.tile.campaigns.title","like"]),s.push(["rss","dashboard.tile.rss.title","rss"])),t||s.push(["salesforce_apps","dashboard.tile.salesforce_apps.title","salesforce"]),r.a.createElement("div",null,r.a.createElement("p",{className:"u-marg-b--medium"},Object(v.a)("add_tile.description.landing")),n.size>0&&r.a.createElement("button",{className:"ContentButton u-marg-b--medium",onClick:a("content"),type:"button"},r.a.createElement("div",{className:"ContentButton-iconContainer"},r.a.createElement("svg",{width:"236",height:"71",viewBox:"0 0 236 71"},r.a.createElement("g",null,r.a.createElement("path",{d:"M110.814 28.579a3 3 0 1 1-.21-5.997 3 3 0 0 1 .21 5.997m-.28-7.995c-2.756.096-4.918 2.417-4.822 5.171s2.415 4.919 5.172 4.822 4.918-2.417 4.822-5.171-2.415-4.919-5.171-4.822"}),r.a.createElement("path",{d:"M120.338 43.427l-8.452-7.881a3.97 3.97 0 0 0-2.867-1.07 3.97 3.97 0 0 0-2.786 1.267l-2.095 2.246-10.52-9.81a3.97 3.97 0 0 0-2.868-1.069 3.97 3.97 0 0 0-2.785 1.266l-7.882 8.452-.6-17.161c-.038-1.1.83-2.03 1.93-2.069l35.978-1.256c1.1-.039 2.03.83 2.068 1.929l.879 25.156zm-1.83 4.895L82.529 49.58c-1.099.038-2.03-.83-2.068-1.93l-.28-7.995 9.246-9.914a1.995 1.995 0 0 1 1.393-.631 1.995 1.995 0 0 1 1.434.532l11.555 10.775c.15.141.249.316.347.487l3.54-3.796a1.995 1.995 0 0 1 1.392-.631 1.995 1.995 0 0 1 1.434.532l9.915 9.246c.038 1.099-.83 2.03-1.93 2.068zm-1.187-33.98L81.343 15.6a4.005 4.005 0 0 0-3.858 4.137l.977 27.983a4.004 4.004 0 0 0 4.137 3.858l35.978-1.256a4.004 4.004 0 0 0 3.858-4.137l-.977-27.983a4.005 4.005 0 0 0-4.137-3.858z"})),r.a.createElement("g",{transform:"rotate(-11 111.77 -624.28)"},r.a.createElement("path",{d:"M36.627 15.168a4.002 4.002 0 0 1 5.658 0 4.005 4.005 0 0 1 0 5.658l-5.658-5.658zM22.485 40.624l-5.656-5.656 18.384-18.384 5.656 5.656-18.384 18.384zM14.5 43.452a.504.504 0 0 1-.354-.146.508.508 0 0 1-.146-.352l1.416-6.572 5.656 5.656-6.572 1.414zm29.2-29.698a6.01 6.01 0 0 0-8.486 0L33.8 15.168 14 34.968l-.416.416-.124.576-1.416 6.572-.044.208v.214c0 .666.26 1.294.732 1.766a2.493 2.493 0 0 0 1.768.734l.212-.002.208-.044 6.572-1.414.576-.124.418-.418 19.8-19.798L43.7 22.24a6.01 6.01 0 0 0 0-8.486z"})),r.a.createElement("g",null,r.a.createElement("path",{d:"M217.37 54.326a2.006 2.006 0 0 1-2.166 1.818l-25.901-2.266a2.006 2.006 0 0 1-1.818-2.167l2.963-33.87a2.006 2.006 0 0 1 2.167-1.818l25.9 2.266a2.006 2.006 0 0 1 1.819 2.166l-2.964 33.871zm2.167-1.818l2.789-31.878a4.004 4.004 0 0 0-3.636-4.334l-25.901-2.266a4.004 4.004 0 0 0-4.334 3.636l-2.963 33.871a4.004 4.004 0 0 0 3.636 4.333l25.901 2.266a4.004 4.004 0 0 0 4.334-3.636l.174-1.992z"}),r.a.createElement("path",{d:"M210.746 49.731l-15.94-1.394c-.547-.048-.956-.536-.909-1.084s.536-.957 1.084-.909l15.939 1.395c.548.048.957.535.909 1.083s-.535.957-1.083.91m.523-5.978l-15.94-1.395c-.547-.047-.957-.535-.909-1.083s.536-.957 1.084-.909l15.939 1.395c.548.047.957.535.909 1.083s-.536.957-1.083.909m.522-5.977l-15.939-1.395c-.548-.048-.957-.535-.909-1.083s.536-.957 1.084-.91l15.939 1.395c.548.048.957.536.909 1.084s-.536.957-1.084.909m.523-5.977l-15.939-1.395c-.548-.048-.957-.535-.909-1.083s.536-.957 1.084-.91l15.939 1.395c.548.048.957.536.909 1.084s-.536.957-1.084.909m-9.439-6.85l-5.977-.522c-.548-.048-.957-.535-.909-1.083s.536-.957 1.084-.91l5.977.523c.548.048.957.536.909 1.084s-.536.957-1.084.909"})),r.a.createElement("g",null,r.a.createElement("path",{d:"M50.414 22.314l-37.63 5.288-.557-3.96a2.006 2.006 0 0 1 1.702-2.26l3.961-.556.418 2.97c.076.545.584.928 1.129.852s.928-.585.851-1.13l-.417-2.97 21.785-3.062.418 2.97c.077.545.585.928 1.13.851s.927-.584.85-1.129l-.417-2.97 3.961-.557a2.006 2.006 0 0 1 2.259 1.702l.557 3.96zM54.31 50.04a2.006 2.006 0 0 1-1.702 2.26L18.94 57.031a2.006 2.006 0 0 1-2.259-1.702l-3.618-25.747 37.63-5.289 3.618 25.747zM47.32 14.67l-3.961.557-.418-2.971c-.076-.545-.585-.928-1.13-.851s-.927.585-.85 1.13l.417 2.97-21.786 3.062-.417-2.97c-.077-.546-.585-.929-1.13-.852s-.927.585-.85 1.13l.417 2.97-3.961.557a4.004 4.004 0 0 0-3.405 4.518L14.7 55.608a4.004 4.004 0 0 0 4.518 3.405l33.669-4.732a4.004 4.004 0 0 0 3.404-4.518l-4.454-31.689a4.004 4.004 0 0 0-4.517-3.404z"}),r.a.createElement("path",{d:"M20.829 34.55a1 1 0 1 0-.279-1.98 1 1 0 0 0 .279 1.98m5.941-.835a1 1 0 1 0-.278-1.98 1 1 0 0 0 .278 1.98m5.942-.835a1 1 0 1 0-.278-1.98 1 1 0 0 0 .278 1.98m5.942-.835a1 1 0 1 0-.279-1.98 1 1 0 0 0 .279 1.98m5.941-.835a1 1 0 1 0-.278-1.98 1 1 0 0 0 .278 1.98m-22.931 9.282a1 1 0 1 0-.279-1.98 1 1 0 0 0 .279 1.98m5.941-.835a1 1 0 1 0-.278-1.98 1 1 0 0 0 .278 1.98m5.942-.835a1 1 0 1 0-.278-1.98 1 1 0 0 0 .278 1.98m5.942-.835a1 1 0 1 0-.279-1.98 1 1 0 0 0 .279 1.98m5.941-.835a1 1 0 1 0-.278-1.98 1 1 0 0 0 .278 1.98M22.5 46.434a1 1 0 1 0-.279-1.981 1 1 0 0 0 .279 1.98m5.941-.834a1 1 0 1 0-.278-1.981 1 1 0 0 0 .278 1.98m5.942-.835a1 1 0 1 0-.278-1.98 1 1 0 0 0 .278 1.98m5.942-.835a1 1 0 1 0-.279-1.98 1 1 0 0 0 .279 1.98m5.941-.835a1 1 0 1 0-.278-1.98 1 1 0 0 0 .278 1.98m-22.931 9.282a1 1 0 1 0-.279-1.98 1 1 0 0 0 .279 1.98m5.941-.835a1 1 0 1 0-.278-1.98 1 1 0 0 0 .278 1.98m5.942-.835a1 1 0 1 0-.278-1.98 1 1 0 0 0 .278 1.98m5.942-.835a1 1 0 1 0-.279-1.98 1 1 0 0 0 .279 1.98m5.941-.835a1 1 0 1 0-.278-1.98 1 1 0 0 0 .278 1.98"})))),n.size>1&&r.a.createElement("p",{className:"type--secondary"},Object(v.a)("modal.add_tile.add_content_types",{contentTypes:l}))),t&&r.a.createElement("div",{className:"u-marg-b--medium"},r.a.createElement("h2",{className:"u-marg-b--small type--500 type--h6"},Object(v.a)("dashboard.tile_group.site")),r.a.createElement(Ne.a,{itemCount:"3"},r.a.createElement(Pe.a,{onClick:a("site_info"),index:"0",label:Object(v.a)("dashboard.tile.site_info.title"),icon:"info"}),r.a.createElement(Pe.a,{onClick:a("site_about"),index:n.includes("page")?"1":"2",label:Object(v.a)("dashboard.tile.site_about.title"),icon:"about"}),n.includes("page")&&r.a.createElement(Pe.a,{onClick:a("page_categories"),index:"2",label:Object(v.a)("dashboard.tile.page_categories.title"),icon:"tag"}))),r.a.createElement("div",{className:"u-marg-b--medium"},r.a.createElement("h2",{className:"u-marg-b--small type--500 type--h6"},Object(v.a)("dashboard.tile_group.organization")),r.a.createElement(Ne.a,null,r.a.createElement(Pe.a,{onClick:a("sites"),label:Object(v.a)("dashboard.tile.sites_and_categories.title"),icon:"sites"}),r.a.createElement(Pe.a,{onClick:a("people"),label:Object(v.a)("dashboard.tile.people.title"),icon:"user"}),r.a.createElement(Pe.a,{onClick:a("files"),label:Object(v.a)("dashboard.tile.files.title"),icon:"file"}))),r.a.createElement("div",{className:"u-marg-b--medium"},r.a.createElement("h2",{className:"u-marg-b--small type--500 type--h6"},Object(v.a)("dashboard.tile_group.rich_text_links")),r.a.createElement(Ne.a,null,r.a.createElement(Pe.a,{onClick:a("html"),label:Object(v.a)("dashboard.tile.text_html.title"),icon:"text"}),r.a.createElement(Pe.a,{onClick:a("media"),label:Object(v.a)("dashboard.tile.media.title"),icon:"albums"}),r.a.createElement(Pe.a,{onClick:a("countdown"),label:Object(v.a)("dashboard.tile.countdown_clock.title"),icon:"clock"}))),r.a.createElement("div",{className:"u-marg-b--medium"},r.a.createElement("h2",{className:"u-marg-b--small type--500 type--h6"},Object(v.a)("dashboard.tile_group.external")),r.a.createElement(Ne.a,{itemCount:"3"},s.map(function(e,t){var n=ke(e,3),o=n[0],i=n[1],l=n[2];return r.a.createElement(Pe.a,{onClick:a(o),index:t,label:Object(v.a)(i),icon:l})}))))}De.propTypes={siteId:i.a.bool,onTypeClick:i.a.func.isRequired,contentTypes:i.a.instanceOf(g.a.List),isSocialTilesEnabled:i.a.bool,isSocialCampaignsEnabled:i.a.bool},De.defaultProps={siteId:null};var Te=Object(l.connect)(function(e,t){return{isSocialCampaignsEnabled:Object(_.s)(e,je.a),isSocialTilesEnabled:Object(_.q)(e,"isSocialTilesEnabled"),contentTypes:new g.a.List(["page","event","album","blog_post"]).filter(function(n){return!(!Object(_e.b)(e,n)||t.siteId&&!Object(Ce.l)(e,t.siteId,n))})}})(De);function Me(e){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function xe(e){return(xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t){return(Le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ze=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=xe(t).call(this,e))||"object"!==Me(r)&&"function"!=typeof r?Re(a):r).onTileTypeClick=n.onTileTypeClick.bind(Re(Re(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Le(e,t)}(t,r.a.Component),n=t,(a=[{key:"onTileTypeClick",value:function(e){var t=this;return function(){e&&"function"==typeof t.props.onSelectTileType&&t.props.onSelectTileType(e)}}},{key:"render",value:function(){var e=this.props,t=e.dashboardId,n=e.isSite;return r.a.createElement("div",{className:"Modal-content Modal-content--forms Modal-content--lightBorders"},r.a.createElement(Te,{siteId:n?t:null,onTypeClick:this.onTileTypeClick}))}}])&&Ae(n.prototype,a),o&&Ae(n,o),t}();ze.propTypes={dashboardId:i.a.string,isSite:i.a.bool,onSelectTileType:i.a.func},ze.defaultProps={isSite:!1};var Fe=ze;function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function He(e){return(He=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ve=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=He(t).call(this,e))||"object"!==Be(r)&&"function"!=typeof r?qe(a):r).onStandardBackClick=n.onStandardBackClick.bind(qe(qe(n))),n.onChangeTypeAndVariant=n.onChangeTypeAndVariant.bind(qe(qe(n))),n.onSave=n.onSave.bind(qe(qe(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(t,r.a.Component),n=t,(a=[{key:"onStandardBackClick",value:function(e){e&&e.preventDefault(),this.props.onReset(),Object(y.b)(p.DASHBOARD_ADD_MODAL_STANDARD_BACK,this.props.isSite?"Site":"Home")}},{key:"onChangeTypeAndVariant",value:function(e,t){e!==this.props.type&&this.props.onChangeType(e),this.props.onChangeVariant(t)}},{key:"onSave",value:function(e,t){var n=this;return this.props.onAddTile(e,t).then(function(){t.addAnother?n.props.onReset():"function"==typeof n.props.close&&n.props.close()})}},{key:"render",value:function(){return this.props.type?r.a.createElement(W,{dashboardId:this.props.dashboardId,isManagerControlled:this.props.isManagerControlled,isSite:this.props.isSite,isDefault:this.props.isDefault,type:this.props.type,variant:this.props.variant,options:this.props.options,items:this.props.items,onChangeTypeAndVariant:this.onChangeTypeAndVariant,onAddItem:this.props.onAddItem,onRemoveItem:this.props.onRemoveItem,onMoveItem:this.props.onMoveItem,onEditItem:this.props.onEditItem,onSave:this.onSave,onBackClick:this.onStandardBackClick}):r.a.createElement(Fe,{dashboardId:this.props.dashboardId,isSite:this.props.isSite,onSelectTileType:this.props.onChangeType})}}])&&We(n.prototype,a),o&&We(n,o),t}();Ve.propTypes={dashboardId:i.a.string,isSite:i.a.bool,isDefault:i.a.bool,isManagerControlled:i.a.bool,type:i.a.string,variant:i.a.string,options:i.a.instanceOf(g.a.Map),items:i.a.instanceOf(g.a.List),onChangeType:i.a.func.isRequired,onChangeVariant:i.a.func.isRequired,onAddItem:i.a.func.isRequired,onRemoveItem:i.a.func.isRequired,onMoveItem:i.a.func.isRequired,onReset:i.a.func.isRequired},Ve.defaultProps={isSite:!1,isDefault:!1};var Ge={onOpen:function(e){Object(y.b)(p.DASHBOARD_ADD_MODAL_OPEN,e.isSite?"Site":"Home");var t=document.querySelector(".carousel"),n=document.getElementById("site-header");if(t&&n){var a=t.offsetTop+t.clientHeight;window.pageYOffset+n.clientHeight<a&&window.scrollTo(0,a-n.clientHeight)}},onAfterClose:function(e){Object(y.b)(p.DASHBOARD_ADD_MODAL_CLOSE,e.isSite?"Site":"Home"),Object(O.b)().dispatch(Object(f.o)())}},Ke=Object(H.a)(function(e){var t=e.type?Object(E.a)(e.type):null,n=t?t.get("title"):null;return{name:w.I,id:e.dashboardId,title:n?Object(v.a)("modal.add_tile.title_with_type",{typeName:n}):Object(v.a)("modal.add_tile.title"),classes:["Modal--small"]}},Ge)(Object(l.connect)(null,function(e,t){var n=t.dashboardId;return{onChangeType:function(a){return Object(y.b)(p.DASHBOARD_ADD_MODAL_STANDARD_SET_TYPE,a),e(Object(f.s)(t.isSite?n:null,a))},onChangeVariant:function(t){return Object(y.b)(p.DASHBOARD_ADD_MODAL_STANDARD_SET_VARIANT,t),e(Object(f.t)(t))},onAddItem:function(n){return Object(y.b)(p.DASHBOARD_ADD_MODAL_STANDARD_ITEM_ADD,t.isSite?"Site":"Home"),e(Object(f.a)(n))},onRemoveItem:function(n){return Object(y.b)(p.DASHBOARD_ADD_MODAL_STANDARD_ITEM_REMOVE,t.isSite?"Site":"Home"),e(Object(f.m)(n))},onMoveItem:function(n,a){return Object(y.b)(p.DASHBOARD_ADD_MODAL_STANDARD_ITEM_MOVE,t.isSite?"Site":"Home"),e(Object(f.j)(n,a))},onEditItem:function(n,a){return Object(y.b)(p.DASHBOARD_ADD_MODAL_STANDARD_ITEM_EDIT,t.isSite?"Site":"Home"),e(Object(f.d)(n,a))},onAddTile:function(a,r){return Object(y.b)(p.DASHBOARD_ADD_MODAL_STANDARD_ADD,t.isSite?"Site":"Home",r.addAnother?1:0),e(Object(f.b)(n,a))},onReset:function(){return e(Object(f.o)())}}})(Ve)),Je=n(10),Ye=n.n(Je);function Xe(){return(Xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $e(e){var t=e.onBlur,n=e.onChange,a=e.checked;return r.a.createElement(e.component,Xe({},e,{input:{onBlur:t,onChange:n,checked:a}}))}$e.propTypes={onBlur:i.a.func,onChange:i.a.func,checked:i.a.bool},$e.defaultProps={onBlur:function(){},onChange:function(){},checked:void 0};var Ze=$e;function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function et(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var rt=[{id:"d",hasFeed:!1,showWithoutCarousel:!0,markup:[r.a.createElement("div",{className:"row",key:"carousel-d"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"row collapse"},r.a.createElement("div",{className:"small-8 column comp-carousel-image"}),r.a.createElement("div",{className:"small-4 column comp-carousel-excerpt"}))))),r.a.createElement("div",{className:"row comp-columns",key:"dashboard-d"},r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})))]},{id:"f",hasFeed:!1,showWithoutCarousel:!1,markup:[r.a.createElement("div",{className:"row comp-columns",key:"dashboard-f"},r.a.createElement("div",{className:"small-8 column"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"comp-carousel-image"}),r.a.createElement("div",{className:"comp-carousel-excerpt"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"small-6 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-6 column"},r.a.createElement("div",{className:"comp-column comp-single"})))),r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})))]},{id:"k",hasFeed:!1,showWithoutCarousel:!1,markup:[r.a.createElement("div",{className:"row comp-columns",key:"dashboard-k"},r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-8 column"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"comp-carousel-image"}),r.a.createElement("div",{className:"comp-carousel-excerpt"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"small-6 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-6 column"},r.a.createElement("div",{className:"comp-column comp-single"})))))]},{id:"j",hasFeed:!1,showWithoutCarousel:!1,markup:[r.a.createElement("div",{className:"row comp-columns",key:"dashboard-j"},r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"comp-carousel-image"}),r.a.createElement("div",{className:"comp-carousel-excerpt"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"small-12 column"},r.a.createElement("div",{className:"comp-column comp-single"})))),r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})))]},{id:"l",hasFeed:!1,showWithoutCarousel:!1,markup:[r.a.createElement("div",{className:"row comp-columns",key:"dashboard-l"},r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"comp-carousel-image"}),r.a.createElement("div",{className:"comp-carousel-excerpt"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"small-12 column"},r.a.createElement("div",{className:"comp-column comp-single"})))))]},{id:"b",hasFeed:!1,showWithoutCarousel:!0,markup:[r.a.createElement("div",{className:"row",key:"carousel-b"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"row collapse"},r.a.createElement("div",{className:"small-8 column comp-carousel-image"}),r.a.createElement("div",{className:"small-4 column comp-carousel-excerpt"}))))),r.a.createElement("div",{className:"row comp-columns",key:"dashboard-b"},r.a.createElement("div",{className:"small-6 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-6 column"},r.a.createElement("div",{className:"comp-column comp-single"})))]},{id:"i",hasFeed:!1,showWithoutCarousel:!1,markup:[r.a.createElement("div",{className:"row comp-columns",key:"dashboard-i"},r.a.createElement("div",{className:"small-6 column"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"comp-carousel-image"}),r.a.createElement("div",{className:"comp-carousel-excerpt"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"small-12 column"},r.a.createElement("div",{className:"comp-column comp-single"})))),r.a.createElement("div",{className:"small-6 column"},r.a.createElement("div",{className:"comp-column comp-single"})))]},{id:"m",hasFeed:!1,showWithoutCarousel:!1,markup:[r.a.createElement("div",{className:"row comp-columns",key:"dashboard-m"},r.a.createElement("div",{className:"small-6 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-6 column"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"comp-carousel-image"}),r.a.createElement("div",{className:"comp-carousel-excerpt"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"small-12 column"},r.a.createElement("div",{className:"comp-column comp-single"})))))]},{id:"c",hasFeed:!1,showWithoutCarousel:!0,markup:[r.a.createElement("div",{className:"row",key:"carousel-c"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"row collapse"},r.a.createElement("div",{className:"small-8 column comp-carousel-image"}),r.a.createElement("div",{className:"small-4 column comp-carousel-excerpt"}))))),r.a.createElement("div",{className:"row comp-columns",key:"dashboard-c"},r.a.createElement("div",{className:"small-8 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})))]},{id:"h",hasFeed:!1,showWithoutCarousel:!1,markup:[r.a.createElement("div",{className:"row comp-columns",key:"dashboard-h"},r.a.createElement("div",{className:"small-8 column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"row collapse"},r.a.createElement("div",{className:"small-8 column comp-carousel-image"},r.a.createElement("div",{className:"small-4 column comp-carousel-excerpt"})))),r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})))]},{id:"n",hasFeed:!1,showWithoutCarousel:!0,markup:[r.a.createElement("div",{className:"row comp-columns",key:"dashboard-n"},r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-8 column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"row collapse"},r.a.createElement("div",{className:"small-8 column comp-carousel-image"},r.a.createElement("div",{className:"small-4 column comp-carousel-excerpt"})))),r.a.createElement("div",{className:"comp-column comp-single"})))]},{id:"a",hasFeed:!1,showWithoutCarousel:!0,markup:[r.a.createElement("div",{className:"row",key:"carousel-a"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"row collapse"},r.a.createElement("div",{className:"small-8 column comp-carousel-image"}),r.a.createElement("div",{className:"small-4 column comp-carousel-excerpt"}))))),r.a.createElement("div",{className:"row comp-columns",key:"dashboard-a"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-column comp-single"})))]},{id:"e",hasFeed:!0,showWithoutCarousel:!0,markup:[r.a.createElement("div",{className:"row",key:"carousel-e"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"row collapse"},r.a.createElement("div",{className:"small-8 column comp-carousel-image"}),r.a.createElement("div",{className:"small-4 column comp-carousel-excerpt"}))))),r.a.createElement("div",{className:"row comp-columns",key:"dashboard-e"},r.a.createElement("div",{className:"small-8 column"},r.a.createElement("div",{className:"comp-column comp-single"},r.a.createElement("span",null,Object(v.a)("common.feed")))),r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})))]},{id:"o",hasFeed:!0,showWithoutCarousel:!0,markup:[r.a.createElement("div",{className:"row",key:"carousel-o"},r.a.createElement("div",{className:"column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"row collapse"},r.a.createElement("div",{className:"small-8 column comp-carousel-image"}),r.a.createElement("div",{className:"small-4 column comp-carousel-excerpt"}))))),r.a.createElement("div",{className:"row comp-columns",key:"dashboard-o"},r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-8 column"},r.a.createElement("div",{className:"comp-column comp-single"},r.a.createElement("span",null,Object(v.a)("common.feed")))))]},{id:"g",hasFeed:!0,showWithoutCarousel:!1,markup:[r.a.createElement("div",{className:"row comp-columns",key:"dashboard-g"},r.a.createElement("div",{className:"small-8 column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"row collapse"},r.a.createElement("div",{className:"small-8 column comp-carousel-image"},r.a.createElement("div",{className:"small-4 column comp-carousel-excerpt"})))),r.a.createElement("div",{className:"comp-column comp-single"},r.a.createElement("span",null,Object(v.a)("common.feed")))),r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})))]},{id:"p",hasFeed:!0,showWithoutCarousel:!1,markup:[r.a.createElement("div",{className:"row comp-columns",key:"dashboard-p"},r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-8 column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"row collapse"},r.a.createElement("div",{className:"small-8 column comp-carousel-image"},r.a.createElement("div",{className:"small-4 column comp-carousel-excerpt"})))),r.a.createElement("div",{className:"comp-column comp-single"},r.a.createElement("span",null,Object(v.a)("common.feed")))))]},{id:"q",hasFeed:!0,showWithoutCarousel:!1,markup:[r.a.createElement("div",{className:"row comp-columns",key:"dashboard-q"},r.a.createElement("div",{className:"small-8 column"},r.a.createElement("div",{className:"comp-column comp-single"},r.a.createElement("span",null,Object(v.a)("common.feed")))),r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"row collapse"},r.a.createElement("div",{className:"small-8 column comp-carousel-image"},r.a.createElement("div",{className:"small-4 column comp-carousel-excerpt"})))),r.a.createElement("div",{className:"comp-column comp-single"})))]},{id:"r",hasFeed:!0,showWithoutCarousel:!1,markup:[r.a.createElement("div",{className:"row comp-columns",key:"dashboard-r"},r.a.createElement("div",{className:"small-4 column"},r.a.createElement("div",{className:"comp-carousel"},r.a.createElement("div",{className:"row collapse"},r.a.createElement("div",{className:"small-8 column comp-carousel-image"},r.a.createElement("div",{className:"small-4 column comp-carousel-excerpt"})))),r.a.createElement("div",{className:"comp-column comp-single"})),r.a.createElement("div",{className:"small-8 column"},r.a.createElement("div",{className:"comp-column comp-single"},r.a.createElement("span",null,Object(v.a)("common.feed")))))]}],ot=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=tt(t).call(this,e))||"object"!==Qe(r)&&"function"!=typeof r?at(a):r).state={showOnlyFeed:!1},n.onRadioChange=n.onRadioChange.bind(at(at(n))),n.getLayouts=n.getLayouts.bind(at(at(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentWillMount",value:function(){var e=this,t=rt.filter(function(t){return t.id===e.props.selected})[0]||{},n=this.props.isFeedEnabled;t.hasFeed&&n&&this.setState({showOnlyFeed:!0})}},{key:"onRadioChange",value:function(e){this.props.setLayout(e.target.value),"function"==typeof this.props.onSelect&&this.props.onSelect()}},{key:"getLayouts",value:function(){var e=this,t=this.props.isCarouselEnabled;return rt.filter(function(e){var n=e.showWithoutCarousel;return t||n}).filter(function(t){return t.hasFeed===e.state.showOnlyFeed})}},{key:"renderLayout",value:function(e){var t=e.markup,n=e.id,a="dashboard-layout-".concat(n);return r.a.createElement("li",{key:n,className:"u-grid-item small-3"},r.a.createElement("div",{className:"comp layout-".concat(n)},r.a.createElement("div",{className:"custom-input"},r.a.createElement("input",{type:"radio",name:"dashboard-layout",id:a,value:n,className:"radio-custom",checked:n===this.props.selected,onChange:this.onRadioChange}),r.a.createElement("label",{htmlFor:a,className:"radio-custom-label theme--color"},t))))}},{key:"renderComposition",value:function(){var e=this;return r.a.createElement("ul",{className:"u-grid u-grid--large"},this.getLayouts().map(function(t){return e.renderLayout(t)}))}},{key:"render",value:function(){var e=this,t=Ye()({"has-noCarousel":!this.props.isCarouselEnabled});return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"Modal-content Modal-content--forms"},r.a.createElement("div",{className:"u-cf"},this.props.children,this.props.isFeedEnabled&&r.a.createElement("div",{className:"u-marg-b--medium u-inlineBlock"},r.a.createElement(Ze,{component:k.a,id:"feedEnabled",name:"feedEnabled",label:Object(v.a)("dashboard.manage.show_feed_on_dashboard"),showError:!1,checked:this.state.showOnlyFeed,onChange:function(t){e.setState({showOnlyFeed:!e.state.showOnlyFeed})},onBlur:function(){}}))),r.a.createElement("div",{className:"u-marg-b--medium"},this.renderComposition())))}}])&&et(n.prototype,a),o&&et(n,o),t}();ot.propTypes={dashboardId:i.a.string,isSite:i.a.bool,isDefault:i.a.bool,selected:i.a.string,isManagerControlled:i.a.bool,onSelect:i.a.func,isContentDisabled:i.a.bool,setLayout:i.a.func.isRequired,isCarouselEnabled:i.a.bool,children:i.a.node},ot.defaultProps={isSite:!1,isDefault:!1,isCarouselEnabled:!0};var it=Object(l.connect)(function(e){return{isFeedEnabled:Object(_.q)(e,"FEED_ENABLED")}},function(e,t){var n=t.dashboardId;return{setLayout:function(t){Object(y.b)(p.DASHBOARD_MANAGE_MODAL_SET_LAYOUT,t),e(Object(f.u)(n,t))}}})(ot),lt=n(565),st=n(317),ct=n(330),ut=n(273),pt=n(49),mt=n(1230),ft=n(710),dt=n(178),bt=n(210),yt=n(252),ht=n(143),gt=n(442),vt=n(212);function Et(e){var t=e.isUploading,n=e.url,o=e.title,i=e.media,l=e.type,s=e.meta,c=e.status,u=e.onRemove,p=e.connectDragWrapper,m=e.connectDragHandle,f=e.connectDropTarget,d=e.isDragging,b=!!c&&r.a.createElement(a.Fragment,null,"- ",r.a.createElement("span",{className:"ListingItem-typeMustRead type--primary"},Object(v.a)("status.".concat(c))));return r.a.createElement(yt.a,{isDragging:d,connectDropTarget:t?null:f,connectDragWrapper:t?null:p,isDisabled:t},r.a.createElement(ht.a,{hasSmallPadding:!0},r.a.createElement(gt.a,{type:l,meta:s,title:o,url:n,media:i,stamps:b})),r.a.createElement(ht.a,{width:"120px"},r.a.createElement(a.Fragment,null,r.a.createElement(vt.a,{onClick:u,title:Object(v.a)("carousel.remove_item.label")}),m(r.a.createElement("span",{className:"DragHandle DragHandle--clearOffset",title:Object(v.a)("common.dragdrop")})))))}Et.displayName="ManageCarouselItem",Et.propTypes={id:i.a.string.isRequired,index:i.a.number.isRequired,isUploading:i.a.bool,url:i.a.string.isRequired,title:i.a.string.isRequired,media:i.a.element,type:i.a.string.isRequired,meta:i.a.element,status:i.a.oneOfType([i.a.object,i.a.string]),onRemove:i.a.func.isRequired,onMove:i.a.func.isRequired,isDragging:i.a.bool,connectDropTarget:i.a.func,connectDragPreview:i.a.func,connectDragSource:i.a.func},Et.defaultProps={isUploading:!1,isDragging:!1,connectDropTarget:function(e){return e},connectDragPreview:function(e){return e},connectDragSource:function(e){return e}};var Ot=Object(bt.a)(dt.c,{moveProperty:"index"})(Et);function wt(){return(wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function St(e){var t=e.content,n=e.showSite,a=r.a.createElement(ft.a,{content:t}),o=r.a.createElement(mt.a,{publishAt:t.get("publishAt"),createdAt:t.get("createdAt"),modifiedAt:t.get("modifiedAt"),site:t.get("site"),authoredBy:t.get("authoredBy"),showSite:n}),i=t.get("status");return r.a.createElement(Ot,wt({},e,{title:t.get("title"),url:t.get("url"),media:a,type:Object(v.a)("common.".concat(t.get("type"))),status:"unpublished"===i?i:null,meta:o}))}St.propTypes={id:i.a.string.isRequired,content:i.a.instanceOf(g.a.Map).isRequired,showSite:i.a.bool,index:i.a.number,onRemove:i.a.func.isRequired,onMove:i.a.func},St.defaultProps={showSite:!0};var jt=St,_t=n(711),Ct=n(218),Pt=n(63);function Nt(){return(Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function It(e){var t=e.embed,n="webpage";"video"!==t.get("type")&&"photo"!==t.get("type")||(n=t.get("type"));var a=r.a.createElement(Ct.a,{img:t.get("thumbnail_url")||"photo"===n&&t.get("url"),url:t.get("url"),icon:"external",isSquare:!0}),o=r.a.createElement(_t.a,{url:t.get("url")},Object(Pt.m)(t.get("provider_url")));return r.a.createElement(Ot,Nt({},e,{title:t.get("title")||"photo"===n&&t.get("provider_name"),url:t.get("url"),media:a,type:Object(v.a)(n),meta:o}))}It.propTypes={id:i.a.string.isRequired,embed:i.a.instanceOf(g.a.Map).isRequired,index:i.a.number,onRemove:i.a.func.isRequired,onMove:i.a.func};var kt=It;function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Tt(e){var t=e.campaign,n=t.get("oembed"),a=r.a.createElement(Ct.a,{img:n.get("thumbnail_url"),url:n.get("url"),icon:"external",isSquare:!0}),o=r.a.createElement(_t.a,{url:n.get("url")},Object(Pt.m)(n.get("provider_url"))),i=t.get("isActive")?null:Object(v.a)("common.expired");return r.a.createElement(Ot,Dt({},e,{title:n.get("title"),url:n.get("url"),media:a,type:Object(v.a)("common.social_campaign"),status:i,meta:o}))}Tt.propTypes={id:i.a.string.isRequired,campaign:i.a.instanceOf(g.a.Map).isRequired,index:i.a.number,onRemove:i.a.func.isRequired,onMove:i.a.func};var Mt=Tt;function At(){return(At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function xt(e){var t=e.items,n=e.showSite,a=e.onRemoveItem,o=e.onMoveItem,i=e.onDropItem;return 0===t.size?r.a.createElement(pt.a,{hasNoBorder:!0,message:Object(v.a)("dashboard.manage.carousel.no_items.".concat(n?"home":"site"))}):r.a.createElement(ut.a,{hasNoLastBorder:!0},t.map(function(e,t){var l={index:t,id:e.get("carouselItemId"),isUploading:e.get("isUploading"),content:e.get("item"),onMove:o,onDrop:i,onRemove:function(){return a(e.get("carouselItemId"))},key:e.get("carouselItemId")};return"content"===e.get("itemType")?r.a.createElement(jt,At({},l,{showSite:n,content:e.get("item")})):"campaign"===e.get("itemType")?r.a.createElement(Mt,At({},l,{campaign:e.get("item")})):r.a.createElement(kt,At({},l,{embed:e.get("item")}))}))}xt.propTypes={items:i.a.instanceOf(g.a.List).isRequired,onRemoveItem:i.a.func,onMoveItem:i.a.func,onDropItem:i.a.func,showSite:i.a.bool},xt.defaultProps={showSite:!0};var Lt=xt,Rt=n(126),zt=n(1875),Ft=n(348);function Bt(){return(Bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Wt(e){return r.a.createElement(Ft.a,e,r.a.createElement(zt.a,Bt({selected:e.input.value},e.input,e,{onChange:function(t,n){e.input.onChange(e.isValueModel?g.a.fromJS(n):t)},ref:e.selectorRef||null})))}Wt.propTypes={input:i.a.object.isRequired,isValueModel:i.a.bool,selectorRef:i.a.func},Wt.defaultProps={isValueModel:!1,selectorRef:function(){}};var Ht=Wt;function Ut(e){return(Ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gt(e,t){return(Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yt=function(e){function t(){var e,n,a,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,l=new Array(i),s=0;s<i;s++)l[s]=arguments[s];return a=this,o=(e=Vt(t)).call.apply(e,[this].concat(l)),n=!o||"object"!==Ut(o)&&"function"!=typeof o?Kt(a):o,Jt(Kt(Kt(n)),"contentSelector",r.a.createRef()),Jt(Kt(Kt(n)),"onSubmit",function(e){if(e.get("content")){var t=e.getIn(["content","campaignId"])?"addCampaign":"addContent";return n.props[t](e.get("content")).then(function(){n.props.reset(),n.contentSelector&&n.contentSelector.current&&(n.contentSelector.current.exclude(e.getIn(["content","id"])||e.getIn(["content","campaignId"])),n.contentSelector.current.selectize.blur())})}return e.get("url")?n.props.addExternal(e.get("url")).then(n.props.reset):null}),Jt(Kt(Kt(n)),"onUrlKeydown",function(e){e.which===Rt.f&&n.triggerSubmit()}),Jt(Kt(Kt(n)),"triggerSubmit",function(){setTimeout(n.props.handleSubmit(n.onSubmit))}),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.siteId,n=e.items,a=e.isEmbedlyEnabled,o=e.isSocialCampaignsEnabled,i=e.handleSubmit,l=e.submitting,s=n.filter(function(e){return"content"===e.get("itemType")||"campaign"===e.get("itemType")}).map(function(e){return e.get("item")}),c=r.a.createElement(S.Field,{component:Ht,name:"content",siteId:t,placeholder:Object(v.a)("carousel.add_item.".concat(o?"content_campaigns":"content",".placeholder")),exclude:s,onChange:this.triggerSubmit,isDisabled:l,hasCampaigns:o,selectorRef:this.contentSelector,isValueModel:!0});return r.a.createElement("form",{onSubmit:i(this.onSubmit)},a?r.a.createElement("div",{className:"row row--autoWidth join"},r.a.createElement("div",{className:"column small-6"},c),r.a.createElement("div",{className:"column small-6"},r.a.createElement(S.Field,{component:I.a,name:"url",label:Object(v.a)("carousel.add_item.external.label"),icon:"link",validate:[D.i,D.j],onPaste:this.triggerSubmit,onKeyDown:this.onUrlKeydown,isDisabled:l}))):c)}}])&&qt(n.prototype,a),o&&qt(n,o),t}();Yt.propTypes={siteId:i.a.string,items:i.a.instanceOf(g.a.List).isRequired,addContent:i.a.func.isRequired,addCampaign:i.a.func.isRequired,addExternal:i.a.func.isRequired,isEmbedlyEnabled:i.a.bool,isSocialCampaignsEnabled:i.a.bool},Yt.defaultProps={isEmbedlyEnabled:!1,isSocialCampaignsEnabled:!1};var Xt=Object(S.reduxForm)({form:"CAROUSEL_ADD_ITEM"})(Yt),$t=n(562);function Zt(e){var t=e.submit,n=e.handleSubmit,a=e.onSubmit,o=[{value:"standard",label:Object(v.a)("common.standard")},{value:"showcase",label:Object(v.a)("common.showcase")}];return r.a.createElement("form",{onSubmit:n(a)},r.a.createElement("h3",{className:"type--h6 type--500 u-marg-b--small"},Object(v.a)("carousel.set_layout.label")),r.a.createElement("div",{className:"u-marg-b--medium"},r.a.createElement(S.Field,{component:$t.a,name:"layout",validate:[D.n],onChange:function(){return setTimeout(t)},options:o,isStacked:!0,isLight:!0})))}Zt.propTypes={siteId:i.a.string,layout:i.a.string.isRequired,onSubmit:i.a.func.isRequired};var Qt=Object(l.connect)(function(e,t){return{initialValues:{layout:t.layout}}},function(e,t){return{onSubmit:function(n){var a=n.get("layout");return Object(y.b)(p.CAROUSEL_SET_LAYOUT,a),e(Object(lt.j)(t.siteId,a))}}})(Object(S.reduxForm)({form:"CAROUSEL_LAYOUT"})(Zt));function en(e){var t=e.siteId,n=e.items,a=e.layout,o=e.isEmbedlyEnabled,i=e.isSocialCampaignsEnabled,l=e.addContent,s=e.addCampaign,c=e.addExternal,u=e.remove,p=e.move,m=e.save;return r.a.createElement(ct.a,null,r.a.createElement("div",{className:"u-marg-b--xlarge"},r.a.createElement(Xt,{siteId:t,items:n,addContent:l,addCampaign:s,addExternal:c,isEmbedlyEnabled:o,isSocialCampaignsEnabled:i})),r.a.createElement("div",{className:n.size>0?"u-marg-b--medium":"u-marg-b--large"},r.a.createElement("div",{className:"AddSelection-list u-hideIfEmpty"},r.a.createElement(Lt,{items:n,onRemoveItem:u,onMoveItem:p,onDropItem:m,showSite:!t}))),r.a.createElement(Qt,{siteId:t,layout:a}))}en.propTypes={siteId:i.a.string};var tn=Object(l.connect)(function(e,t){return{items:Object(st.f)(e,t.siteId)||new g.a.List,layout:Object(st.g)(e,t.siteId),isEmbedlyEnabled:Object(_.B)(e,"embedly"),isSocialCampaignsEnabled:Object(_.s)(e,je.a)}},function(e,t){return{addCampaign:function(n){return e(Object(lt.b)(t.siteId,"campaign",n))},addContent:function(n){return e(Object(lt.b)(t.siteId,"content",n))},addExternal:function(n){return e(Object(lt.a)(t.siteId,n))},remove:function(n){return e(Object(lt.h)(t.siteId,n))},move:function(n,a){return e(Object(lt.e)(t.siteId,n,a))},save:function(){return e(Object(lt.i)(t.siteId))}}})(en),nn=n(352),an=n(408),rn=n(88),on=n(77),ln=n(221),sn=n(713),cn=n(589),un=n(201),pn=n(240),mn=n(1873),fn=n(1821),dn=n(1324),bn=n(440);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function gn(e){return(gn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vn(e,t){return(vn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function En(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var On=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=gn(t).call(this,e))||"object"!==yn(r)&&"function"!=typeof r?En(a):r).handleRemove=n.handleRemove.bind(En(En(n))),n.handleUpload=n.handleUpload.bind(En(En(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}(t,r.a.PureComponent),n=t,(a=[{key:"handleRemove",value:function(){this.props.setSearchBanner(null,null)}},{key:"handleUpload",value:function(e){this.props.upload(e)}},{key:"render",value:function(){var e=this.props.file,t=r.a.createElement(dn.a,{isExpanded:!0,isFake:!0},r.a.createElement("input",{className:"GlobalSearch-input",type:"text"})),n=r.a.createElement(un.a,{size:"small",isStatic:!0},r.a.createElement(pn.a,{icon:"delete",onClick:this.handleRemove})),a=null;return e&&(a=e.get("uploading")?r.a.createElement(fn.a,{img:e.get("thumbnailImgLocal"),searchComponent:t,isDisabled:!0},r.a.createElement("div",{className:"SearchBanner-progressContainer"},r.a.createElement(bn.a,{value:e.get("percentage")}))):r.a.createElement(mn.a,{file:e,searchComponent:t},n)),r.a.createElement("form",null,r.a.createElement("div",{className:"u-marg-b--medium"},r.a.createElement(cn.a,null,r.a.createElement("p",null,Object(v.a)("search_banner.upload.label")),r.a.createElement("p",null,Object(v.a)("search_banner.upload.maximum_sizes",{size:Object(an.a)(3145728)}),". ",Object(v.a)("search_banner.upload.supported_formats"),": ",r.a.createElement("strong",null,".mp4, .jpg, .png, .gif")))),a||r.a.createElement(sn.a,{fileType:"multimedia",size:"large",onUpload:this.handleUpload,maximumUploadFilesize:3145728,icon:"dropzone-files",directionsText:Object(v.a)("search_banner.dropzone_label")}))}}])&&hn(n.prototype,a),o&&hn(n,o),t}();On.propTypes={file:rn.a.file},On.defaultProps={};var wn=Object(l.connect)(function(e){return{file:Object(nn.d)(e,"home")}},function(e){return{setSearchBanner:function(t,n){return e(Object(f.v)(t,n))},upload:function(t){e(Object(on.j)(t,ln.b,function(t){e(Object(f.w)(t))})).then(function(t){t.jqXhr.then(function(t){e(Object(f.v)(t))})})}}})(On),Sn=n(102);function jn(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _n(e){var t=e.dashboardId,n=e.isSite,a=e.isDefault,o=e.layout,i=e.isManagerControlled,l=e.close,s=e.tab,c=e.openResetConfirmModal,u=e.isFeedEnabled,p=e.isCarouselEnabled,m=e.canManageCarousel,f=e.isManager;return"carousel"===s&&m?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Modal-content Modal-content--forms"},r.a.createElement(tn,{siteId:n?t:null})),r.a.createElement("div",{className:"Strip Strip--modal"},r.a.createElement(N.a,{label:Object(v.a)("button_label.done"),onClick:l,appearance:"brand"}))):"searchBanner"===s&&f?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"Modal-content"},r.a.createElement(wn,null)),r.a.createElement("div",{className:"Strip Strip--modal"},r.a.createElement(N.a,{label:Object(v.a)("button_label.done"),type:"button",onClick:l,appearance:"brand"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(it,{dashboardId:t,isSite:n,isDefault:a,selected:o,isManagerControlled:i,onSelect:l,isCarouselEnabled:p,isFeedEnabled:u},!n&&!a&&!i&&r.a.createElement("div",{className:"u-floatRight u-marg-b--large"},r.a.createElement(Sn.a,{hasLegacyIcon:!0,icon:"replay",onClick:c,color:"brand",fontStyle:"b3",label:Object(v.a)("dashboard.manage_modal.reset_home_layout")}))),r.a.createElement("div",{className:"Strip Strip--modal"},r.a.createElement(N.a,{label:Object(v.a)("button_label.done"),type:"button",onClick:l,appearance:"brand"})))}_n.propTypes={dashbordId:i.a.string,isSite:i.a.bool,isDefault:i.a.bool,layout:i.a.string,isManagerControlled:i.a.bool,canManageCarousel:i.a.bool,openResetConfirmModal:i.a.func,isCarouselEnabled:i.a.bool,isHomeBannerEnabled:i.a.bool},_n.defaultProps={isSite:!1,isDefault:!1,isCarouselEnabled:!1,isHomeBannerEnabled:!1};var Cn={onOpen:function(e){Object(y.b)(p.DASHBOARD_MANAGE_MODAL_OPEN,e.isSite?"Site":"Home")},onAfterClose:function(e){Object(y.b)(p.DASHBOARD_MANAGE_MODAL_CLOSE,e.isSite?"Site":"Home")}},Pn=Object(H.a)(function(e){var t="home-default"===e.dashboardId,n=!e.isManagingSegment||e.isManagerControlled?[{id:"dashboard",label:Object(v.a)("common.dashboard")}]:[],a=e.canManageCarousel&&!t&&e.isCarouselEnabled?[].concat(n,[{id:"carousel",label:Object(v.a)("dashboard.manage_modal.tab_labels.carousel")}]):n,r=e.isSite||t||!e.isManager||!e.isHomeBannerEnabled?a:[].concat(jn(a),[{id:"searchBanner",label:Object(v.a)("dashboard.manage_modal.tab_labels.search_banner")}]);return{name:w.F,classes:["Modal--medium"],id:e.dashboardId,title:e.canManageCarousel&&e.isCarouselEnabled?Object(v.a)("".concat(e.isSite?"manage_dashboard.site_and_carousel":"feature.home")):Object(v.a)("".concat(e.isSite?"manage_dashboard.site":"feature.home")),tabs:r}},Cn)(_n),Nn=n(295);function In(e){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Dn(e,t){return!t||"object"!==In(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Mn(e,t){return(Mn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var An=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dn(this,Tn(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mn(e,t)}(t,r.a.Component),n=t,(a=[{key:"shouldComponentUpdate",value:function(e){return this.props.dashboardId!==e.dashboardId||this.props.isSite!==e.isSite||this.props.isDefault!==e.isDefault||this.props.layout!==e.layout||this.props.isManagerControlled!==e.isManagerControlled||this.props.isManagingSegment!==e.isManagingSegment||this.props.canManageCarousel!==e.canManageCarousel||!g.a.is(this.props.focusTile,e.focusTile)||!g.a.is(this.props.tiles,e.tiles)}},{key:"render",value:function(){var e=this.props,t=e.canManageCarousel,n=e.openAddTileModal,a=e.openManageModal,o=e.isManagerControlled,i=e.isManagingSegment,l=e.isCarouselEnabled,s=e.isHomeBannerEnabled,c=e.isDefault;return r.a.createElement(de,null,(!i||o||c)&&r.a.createElement(Se,{icon:"plus",title:Object(v.a)("dashboard.tile.add_tile.prompt_label"),onClick:n},r.a.createElement(Ke,{dashboardId:this.props.dashboardId,isSite:this.props.isSite,isDefault:this.props.isDefault,isManagerControlled:o,type:this.props.focusTile.get("type",null),variant:this.props.focusTile.get("variant",null),title:this.props.focusTile.get("title",null),options:this.props.focusTile.get("options",new g.a.Map),items:this.props.focusTile.get("items",new g.a.List)})),r.a.createElement(Se,{icon:"settings",title:t?Object(v.a)("dashboard.manage_with_carousel.title"):Object(v.a)("dashboard.manage.title"),onClick:function(){return a(l)}},r.a.createElement(Pn,{dashboardId:this.props.dashboardId,isSite:this.props.isSite,isDefault:this.props.isDefault,layout:this.props.layout,canManageCarousel:t,isManagerControlled:o,isDefaultConfigured:this.props.isDefaultConfigured,openResetConfirmModal:this.props.openResetConfirmModal,isCarouselEnabled:l,isHomeBannerEnabled:s,isManagingSegment:i,isManager:this.props.isManager})),r.a.createElement(Nn.a,{name:w.H,id:this.props.dashboardId,title:Object(v.a)("dashboard.reset.title"),buttonText:Object(v.a)("button_label.confirm"),onConfirm:this.props.resetToDefault},r.a.createElement("p",null,Object(v.a)("dashboard.reset.warning")),r.a.createElement("strong",{className:"type--500"},Object(v.a)("common.cannot_be_undone"))))}}])&&kn(n.prototype,a),o&&kn(n,o),t}();An.propTypes={dashboardId:i.a.string,isSite:i.a.bool,isDefault:i.a.bool,layout:i.a.string,isManagerControlled:i.a.bool,isManagingSegment:i.a.bool,isDefaultConfigured:i.a.bool,canManageCarousel:i.a.bool,focusTile:i.a.instanceOf(g.a.Map),tiles:i.a.instanceOf(g.a.Iterable),isCarouselEnabled:i.a.bool,isHomeBannerEnabled:i.a.bool,openAddTileModal:i.a.func.isRequired,openManageModal:i.a.func.isRequired,openResetConfirmModal:i.a.func.isRequired},An.defaultProps={isSite:!1,isDefault:!1,isManagingSegment:!1,isCarouselEnabled:!1,isHomeBannerEnabled:!1};var xn=Object(l.connect)(function(e,t){var n=t.isSite?_.E:_.A,a=Object(j.canCurrentUserManageDashboard)(e,t.dashboardId);return{isCarouselEnabled:n(e),isHomeBannerEnabled:Object(_.z)(e),isManager:a}},function(e,t){return{openAddTileModal:function(){return e(Object(se.c)(w.I,t.dashboardId))},openManageModal:function(n){var a;return a=!t.isManagingSegment||t.isManagerControlled||t.isDefault?"dashboard":t.isSite&&!t.canManageCarousel?null:t.canManageCarousel&&n?"carousel":"searchBanner",e(Object(se.c)(w.F,t.dashboardId,a))},openResetConfirmModal:function(){return e(Object(se.c)(w.H,t.dashboardId))},resetToDefault:function(){return e(Object(f.p)(t.dashboardId)).then(function(){return e(Object(f.g)(t.dashboardId))})}}})(An),Ln=n(247),Rn=n(1842);function zn(e){var t=e.id,n=e.isDefault,a=e.maxItemsVisible;return e.isCarouselEnabled?n?r.a.createElement("div",{className:"u-marg-b--xlarge"},r.a.createElement("div",{className:"Carousel-placeholderItem"},r.a.createElement("div",{className:"u-posAbsoluteCenter u-textCenter type--secondary"},r.a.createElement("span",{className:"type--b1 type--500"},Object(v.a)("home_default.carousel_placeholder"))))):r.a.createElement(Rn.a,{siteId:"home"===t?null:t,maxItemsVisible:a}):null}zn.propTypes={id:i.a.string,isDefault:i.a.bool,maxItemsVisible:i.a.number},zn.defaultProps={isDefault:!1,maxItemsVisible:3};var Fn=Object(l.connect)(function(e,t){return{isCarouselEnabled:("home"===t.id||t.isDefault?_.A:_.E)(e)}})(zn),Bn=n(591),Wn=n(1802);function Hn(e){return(Hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qn(e,t){return!t||"object"!==Hn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vn(e){return(Vn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e,t){return(Gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Kn,Jn,Yn,Xn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),qn(this,Vn(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gn(e,t)}(t,r.a.PureComponent),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.openAddTileModal;return e.canManage?r.a.createElement("aside",null,r.a.createElement(Wn.a,{label:Object(v.a)("dashboard.tile.add_tile.prompt_label"),icon:"plus",onClick:t,size:"large",appearance:"normal"})):null}}])&&Un(n.prototype,a),o&&Un(n,o),t}();Kn=Xn,Jn="propTypes",Yn={openAddTileModal:i.a.func,canManage:i.a.bool},Jn in Kn?Object.defineProperty(Kn,Jn,{value:Yn,enumerable:!0,configurable:!0,writable:!0}):Kn[Jn]=Yn;var $n=Object(l.connect)(null,function(e,t){return{openAddTileModal:function(){return e(Object(se.c)(w.I,t.dashboardId))}}})(Xn);function Zn(e){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ea(e,t){return!t||"object"!==Zn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ta(e){return(ta=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function na(e,t){return(na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var aa=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=ea(this,ta(t).call(this,e))).state={error:null,info:null},n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&na(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidCatch",value:function(e,t){this.setState({error:e,info:t})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.renderOnError,a=this.state,o=a.error,i=a.info;if(o){var l={error:o,info:i};return n?"function"==typeof n?n(l):r.a.createElement(n,l):null}return t}}])&&Qn(n.prototype,a),o&&Qn(n,o),t}();aa.propTypes={children:i.a.node.isRequired,renderOnError:i.a.oneOfType([i.a.element,i.a.func])};var ra=aa,oa=n(1867),ia=n(1852);function la(e){var t=e.isSortable?oa.a:oa.b;return r.a.createElement(ra,{renderOnError:function(){return r.a.createElement(ia.a,e)}},r.a.createElement(t,e))}la.propTypes={isSortable:i.a.bool},la.defaultProps={isSortable:!1};var sa=la;function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function pa(e,t){return!t||"object"!==ca(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ma(e){return(ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function da(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ba=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pa(this,ma(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(t,r.a.Component),n=t,(a=[{key:"shouldComponentUpdate",value:function(e){return!g.a.is(this.props.tiles,e.tiles)||this.props.dashboardId!==e.dashboardId||this.props.isSite!==e.isSite||this.props.popularSiteId!==e.popularSiteId||this.props.isDefault!==e.isDefault||this.props.classes.join(",")!==e.classes.join(",")||this.props.isSortable!==e.isSortable||this.props.canManage!==e.canManage||this.props.onMove!==e.onMove||this.props.onDrop!==e.onDrop}},{key:"render",value:function(){var e=this,t=this.props,n=t.columnWidth,a=t.showPrompt,o=t.canManage,i=t.popularSiteId,l=this.props.tiles.map(function(t){return r.a.createElement(sa,{isSortable:e.props.isSortable,dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,onMove:e.props.onMove,onDrop:e.props.onDrop,id:t.get("id"),type:t.get("type"),variant:t.get("variant"),order:t.get("order"),column:e.props.column,loading:t.get("loading"),loaded:t.get("loaded"),title:t.get("title"),description:t.get("description"),options:t.get("options"),items:t.get("items"),isFullyLoaded:t.get("isFullyLoaded"),isLoadedSuccessfully:t.get("isLoadedSuccessfully"),isNewlyPushed:t.get("isNewlyPushed"),requestedRssLoad:t.get("requestedRssLoad"),canManage:e.props.canManage,columnWidth:n,key:t.get("id")})}).toArray();a&&l.push(r.a.createElement($n,{key:"add_tile",dashboardId:this.props.dashboardId,canManage:this.props.canManage})),this.props.isSortable&&l.push(r.a.createElement(sa,{isSortable:this.props.isSortable,dashboardId:this.props.dashboardId,onMove:this.props.onMove,onDrop:this.props.onDrop,id:"faux-".concat(this.props.column),order:0,column:this.props.column,type:"faux_drop",title:Object(v.a)("dashboard.tile.faux.title"),isColumnEmpty:0===l.length,key:"faux_drop",canManage:o,showPrompt:a}));var s=["column","tile-column"].concat(this.props.classes||[]),c="home"===this.props.dashboardId,u=c||this.props.dashboardId===i,p="1"===this.props.column;return r.a.createElement("div",{className:s.join(" ")},p&&u&&l.length>0&&r.a.createElement(Bn.a,{name:c?"tile":"siteTile",position:{top:0,right:15}}),l)}}])&&ua(n.prototype,a),o&&ua(n,o),t}();da(ba,"propTypes",{tiles:u.a.iterable.isRequired,column:i.a.string,dashboardId:i.a.string,isSite:i.a.bool,isDefault:i.a.bool,classes:i.a.arrayOf(i.a.string),isSortable:i.a.bool,canManage:i.a.bool,onMove:i.a.func,onDrop:i.a.func,columnWidth:i.a.oneOf(["narrow","medium","large"]),showPrompt:i.a.bool,popularSiteId:i.a.string}),da(ba,"defaultProps",{isSite:!1,isDefault:!1,isSortable:!1,canManage:!1,classes:[],columnWidth:"medium",showPrompt:!1});var ya=Object(l.connect)(function(e){return{popularSiteId:Object(_.q)(e,"popularSiteId")}})(ba),ha={dashboardId:i.a.string,isSite:i.a.bool,isDefault:i.a.bool,isSortable:i.a.bool,canManage:i.a.bool,onMove:i.a.func,onDrop:i.a.func,tiles:u.a.map};function ga(e){return(ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ea(e,t){return!t||"object"!==ga(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oa(e){return(Oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wa(e,t){return(wa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Sa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ea(this,Oa(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wa(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props.showManageSegmentsPlaceholder;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault}))),t?r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}):r.a.createElement("div",{className:"row tile-position"},Ln.a.map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,key:t,columnWidth:"large",showPrompt:e.props.tiles.size?n===Ln.a.length-1:0===n})})))}}])&&va(n.prototype,a),o&&va(n,o),t}();function ja(e){return(ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ca(e,t){return!t||"object"!==ja(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pa(e){return(Pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e,t){return(Na=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Sa,"propTypes",ha);var Ia=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ca(this,Pa(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Na(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props.showManageSegmentsPlaceholder;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault}))),t?r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}):r.a.createElement("div",{className:"row tile-position"},Ln.b.map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["medium-6"],key:t,showPrompt:e.props.tiles.size?n===Ln.b.length-1:0===n})})))}}])&&_a(n.prototype,a),o&&_a(n,o),t}();function ka(e){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Da(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ta(e,t){return!t||"object"!==ka(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ma(e){return(Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Aa(e,t){return(Aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ia,"propTypes",ha);var xa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ta(this,Ma(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Aa(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props.showManageSegmentsPlaceholder;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault}))),t?r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}):r.a.createElement("div",{className:"row tile-position"},Ln.c.map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["medium-6 large-".concat("1"===t?"7":"5")],columnWidth:"1"!==t?"narrow":"medium",key:t,showPrompt:e.props.tiles.size?n===Ln.c.length-1:0===n})})))}}])&&Da(n.prototype,a),o&&Da(n,o),t}();function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function za(e,t){return!t||"object"!==La(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fa(e){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ba(e,t){return(Ba=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(xa,"propTypes",ha);var Wa=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),za(this,Fa(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ba(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props.showManageSegmentsPlaceholder;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault}))),t?r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}):r.a.createElement("div",{className:"row tile-position"},Ln.d.map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["large-4"],columnWidth:"narrow",key:t,showPrompt:e.props.tiles.size?n===Ln.d.length-1:0===n})})))}}])&&Ra(n.prototype,a),o&&Ra(n,o),t}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Wa,"propTypes",ha);var Ha=n(1799);function Ua(e){return(Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Va(e,t){return!t||"object"!==Ua(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ga(e){return(Ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ka(e,t){return(Ka=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ja=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Va(this,Ga(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ka(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props.showManageSegmentsPlaceholder;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault}))),r.a.createElement("div",{className:"row tile-position"},r.a.createElement("div",{className:"column medium-7"},r.a.createElement(Ha.a,{dashboardId:this.props.dashboardId,isSite:this.props.isSite,isDefault:this.props.isDefault})),t?r.a.createElement("div",{className:"column medium-5"},r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")})):Ln.e.map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["medium-5"],columnWidth:"narrow",key:t,showPrompt:e.props.tiles.size?n===Ln.e.length-1:0===n})})))}}])&&qa(n.prototype,a),o&&qa(n,o),t}();function Ya(e){return(Ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xa(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $a(e,t){return!t||"object"!==Ya(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Za(e){return(Za=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qa(e,t){return(Qa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ja,"propTypes",ha);var er=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$a(this,Za(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qa(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this;return this.props.showManageSegmentsPlaceholder?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault})),r.a.createElement("div",{className:"column"},r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}))):r.a.createElement("div",{className:"row tile-position"},r.a.createElement("div",{className:"column large-8"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault,maxItemsVisible:2}),r.a.createElement("div",{className:"row"},Ln.f.slice(0,2).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["large-6"],columnWidth:"narrow",key:t,showPrompt:!e.props.tiles.size&&0===n})}))),Ln.f.slice(2).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,columnWidth:"narrow",classes:["large-4"],key:t,showPrompt:e.props.tiles.size&&n===Ln.f.length-3})}))}}])&&Xa(n.prototype,a),o&&Xa(n,o),t}();function tr(e){return(tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ar(e,t){return!t||"object"!==tr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function rr(e){return(rr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function or(e,t){return(or=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(er,"propTypes",ha);var ir=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ar(this,rr(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&or(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props.showManageSegmentsPlaceholder;return r.a.createElement("div",{className:"row tile-position"},r.a.createElement("div",{className:"column large-7"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault,maxItemsVisible:2}),r.a.createElement(Ha.a,{dashboardId:this.props.dashboardId,isSite:this.props.isSite,isDefault:this.props.isDefault})),t?r.a.createElement("div",{className:"column large-5"},r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")})):Ln.g.map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["large-5"],columnWidth:"narrow",key:t,showPrompt:e.props.tiles.size?n===Ln.g.length-1:0===n})}))}}])&&nr(n.prototype,a),o&&nr(n,o),t}();function lr(e){return(lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function cr(e,t){return!t||"object"!==lr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ur(e){return(ur=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pr(e,t){return(pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ir,"propTypes",ha);var mr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cr(this,ur(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pr(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this;return this.props.showManageSegmentsPlaceholder?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault})),r.a.createElement("div",{className:"column"},r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}))):r.a.createElement("div",{className:"row tile-position"},r.a.createElement("div",{className:"column large-8"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault,maxItemsVisible:2}),r.a.createElement("div",{className:"row"},Ln.h.slice(0,1).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,key:t,showPrompt:!e.props.tiles.size&&0===n})}))),Ln.h.slice(1).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["large-4"],key:t,showPrompt:e.props.tiles.size&&n===Ln.h.length-2})}))}}])&&sr(n.prototype,a),o&&sr(n,o),t}();function fr(e){return(fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function br(e,t){return!t||"object"!==fr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function yr(e){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function hr(e,t){return(hr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(mr,"propTypes",ha);var gr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),br(this,yr(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&hr(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this;return this.props.showManageSegmentsPlaceholder?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault})),r.a.createElement("div",{className:"column"},r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}))):r.a.createElement("div",{className:"row tile-position"},r.a.createElement("div",{className:"column large-6"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault,maxItemsVisible:2}),r.a.createElement("div",{className:"row"},Ln.i.slice(0,1).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,key:t,showPrompt:!e.props.tiles.size&&0===n})}))),Ln.i.slice(1).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["large-6"],key:t,showPrompt:e.props.tiles.size&&n===Ln.i.length-2})}))}}])&&dr(n.prototype,a),o&&dr(n,o),t}();function vr(e){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Or(e,t){return!t||"object"!==vr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Sr(e,t){return(Sr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(gr,"propTypes",ha);var jr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Or(this,wr(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sr(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this;return this.props.showManageSegmentsPlaceholder?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault})),r.a.createElement("div",{className:"column"},r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}))):r.a.createElement("div",{className:"row tile-position"},r.a.createElement("div",{className:"column large-4"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault,maxItemsVisible:1}),r.a.createElement("div",{className:"row"},Ln.j.slice(0,1).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,columnWidth:"narrow",key:t,showPrompt:!e.props.tiles.size&&0===n})}))),Ln.j.slice(1).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["large-4"],columnWidth:"narrow",key:t,showPrompt:e.props.tiles.size&&n===Ln.j.length-2})}))}}])&&Er(n.prototype,a),o&&Er(n,o),t}();function _r(e){return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Pr(e,t){return!t||"object"!==_r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Nr(e){return(Nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ir(e,t){return(Ir=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(jr,"propTypes",ha);var kr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Pr(this,Nr(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ir(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this;return this.props.showManageSegmentsPlaceholder?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault})),r.a.createElement("div",{className:"column"},r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}))):r.a.createElement("div",{className:"row tile-position"},Ln.k.slice(0,1).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["large-4"],columnWidth:"narrow",key:t,showPrompt:!e.props.tiles.size&&0===n})}),r.a.createElement("div",{className:"column large-8"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault,maxItemsVisible:2}),r.a.createElement("div",{className:"row"},Ln.k.slice(1).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["large-6"],columnWidth:"narrow",key:t,showPrompt:e.props.tiles.size&&n===Ln.k.length-2})}))))}}])&&Cr(n.prototype,a),o&&Cr(n,o),t}();function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Mr(e,t){return!t||"object"!==Dr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ar(e){return(Ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xr(e,t){return(xr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(kr,"propTypes",ha);var Lr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Mr(this,Ar(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xr(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this;return this.props.showManageSegmentsPlaceholder?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault})),r.a.createElement("div",{className:"column"},r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}))):r.a.createElement("div",{className:"row tile-position"},Ln.l.slice(0,2).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["large-4"],columnWidth:"narrow",key:t,showPrompt:!e.props.tiles.size&&0===n})}),r.a.createElement("div",{className:"column large-4"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault,maxItemsVisible:1}),r.a.createElement("div",{className:"row"},Ln.l.slice(2).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,columnWidth:"narrow",key:t,showPrompt:e.props.tiles.size&&n===Ln.l.length-3})}))))}}])&&Tr(n.prototype,a),o&&Tr(n,o),t}();function Rr(e){return(Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Fr(e,t){return!t||"object"!==Rr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Br(e){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wr(e,t){return(Wr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Lr,"propTypes",ha);var Hr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Fr(this,Br(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wr(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this;return this.props.showManageSegmentsPlaceholder?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault})),r.a.createElement("div",{className:"column"},r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}))):r.a.createElement("div",{className:"row tile-position"},Ln.m.slice(0,1).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["large-6"],key:t,showPrompt:!e.props.tiles.size&&0===n})}),r.a.createElement("div",{className:"column large-6"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault,maxItemsVisible:2}),r.a.createElement("div",{className:"row"},Ln.m.slice(1).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,key:t,showPrompt:e.props.tiles.size&&n===Ln.m.length-2})}))))}}])&&zr(n.prototype,a),o&&zr(n,o),t}();function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Vr(e,t){return!t||"object"!==Ur(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Gr(e){return(Gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kr(e,t){return(Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Hr,"propTypes",ha);var Jr=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vr(this,Gr(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this;return this.props.showManageSegmentsPlaceholder?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault})),r.a.createElement("div",{className:"column"},r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}))):r.a.createElement("div",{className:"row tile-position"},Ln.n.slice(0,1).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["large-4"],columnWidth:"narrow",key:t,showPrompt:!e.props.tiles.size&&0===n})}),r.a.createElement("div",{className:"column large-8"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault,maxItemsVisible:2}),r.a.createElement("div",{className:"row"},Ln.n.slice(1).map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,key:t,showPrompt:e.props.tiles.size&&n===Ln.n.length-2})}))))}}])&&qr(n.prototype,a),o&&qr(n,o),t}();function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function $r(e,t){return!t||"object"!==Yr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zr(e){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qr(e,t){return(Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Jr,"propTypes",ha);var eo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),$r(this,Zr(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qr(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props.showManageSegmentsPlaceholder;return r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault}))),r.a.createElement("div",{className:"row tile-position"},t?r.a.createElement("div",{className:"column medium-5"},r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")})):Ln.o.map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["medium-5"],columnWidth:"narrow",key:t,showPrompt:e.props.tiles.size?n===Ln.o.length-1:0===n})}),r.a.createElement("div",{className:"column medium-7"},r.a.createElement(Ha.a,{dashboardId:this.props.dashboardId,isSite:this.props.isSite,isDefault:this.props.isDefault}))))}}])&&Xr(n.prototype,a),o&&Xr(n,o),t}();function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function no(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ao(e,t){return!t||"object"!==to(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ro(e){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function oo(e,t){return(oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(eo,"propTypes",ha);var io=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ao(this,ro(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&oo(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props.showManageSegmentsPlaceholder;return r.a.createElement("div",{className:"row tile-position"},t?r.a.createElement("div",{className:"column large-5"},r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")})):Ln.p.map(function(t,n){return r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,classes:["large-5"],columnWidth:"narrow",key:t,showPrompt:e.props.tiles.size?n===Ln.p.length-1:0===n})}),r.a.createElement("div",{className:"column large-7"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault,maxItemsVisible:2}),r.a.createElement(Ha.a,{dashboardId:this.props.dashboardId,isSite:this.props.isSite,isDefault:this.props.isDefault})))}}])&&no(n.prototype,a),o&&no(n,o),t}();function lo(e){return(lo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function so(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function co(e,t){return!t||"object"!==lo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function uo(e){return(uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function po(e,t){return(po=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(io,"propTypes",ha);var mo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),co(this,uo(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&po(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props.showManageSegmentsPlaceholder;return r.a.createElement("div",{className:"row tile-position"},r.a.createElement("div",{className:"column large-7"},r.a.createElement(Ha.a,{dashboardId:this.props.dashboardId,isSite:this.props.isSite,isDefault:this.props.isDefault})),r.a.createElement("div",{className:"column large-5"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault,maxItemsVisible:1}),t?r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}):Ln.q.map(function(t,n){return r.a.createElement("div",{className:"row",key:t},r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,columnWidth:"narrow",showPrompt:e.props.tiles.size?n===Ln.q.length-1:0===n}))})))}}])&&so(n.prototype,a),o&&so(n,o),t}();function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function yo(e,t){return!t||"object"!==fo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ho(e){return(ho=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function go(e,t){return(go=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(mo,"propTypes",ha);var vo=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yo(this,ho(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&go(e,t)}(t,s["b"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props.showManageSegmentsPlaceholder;return r.a.createElement("div",{className:"row tile-position"},r.a.createElement("div",{className:"column large-5"},r.a.createElement(Fn,{id:this.props.dashboardId,isDefault:this.props.isDefault,maxItemsVisible:1}),t?r.a.createElement(pt.a,{message:Object(v.a)("home_default.user_controlled_placeholder")}):Ln.r.map(function(t,n){return r.a.createElement("div",{className:"row",key:t},r.a.createElement(ya,{dashboardId:e.props.dashboardId,isSite:e.props.isSite,isDefault:e.props.isDefault,column:t,tiles:e.props.tiles.get(t,new g.a.List),isSortable:e.props.isSortable,canManage:e.props.canManage,onMove:e.props.onMove,onDrop:e.props.onDrop,columnWidth:"narrow",showPrompt:e.props.tiles.size?n===Ln.r.length-1:0===n}))})),r.a.createElement("div",{className:"column large-7"},r.a.createElement(Ha.a,{dashboardId:this.props.dashboardId,isSite:this.props.isSite,isDefault:this.props.isDefault})))}}])&&bo(n.prototype,a),o&&bo(n,o),t}();function Eo(e,t,n,a,r,o,i){try{var l=e[o](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(a,r)}function Oo(e){return(Oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wo(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function So(e,t){return!t||"object"!==Oo(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function jo(e){return(jo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _o(e,t){return(_o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Co(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(vo,"propTypes",ha);var Po={a:Sa,b:Ia,c:xa,d:Wa,e:Ja,f:er,g:ir,h:mr,i:gr,j:jr,k:kr,l:Lr,m:Hr,n:Jr,o:eo,p:io,q:mo,r:vo},No=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),So(this,jo(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_o(e,t)}(t,s["b"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.load()}},{key:"componentDidUpdate",value:function(e){this.props.segmentId!==e.segmentId&&this.props.load()}},{key:"render",value:function(){var e=this.props,t=e.isManagingSegment,n=e.isManagerControlled,a=e.dashboardId,o=e.isSite,i=e.isDefault,l=e.canManage,s=e.tiles;if(this.props.loading)return r.a.createElement("div",{className:"u-posRelative u-pad-tb--xxxlarge"},r.a.createElement(d.a,null));if(!this.props.layout)return null;var c=this.props.layout.toLowerCase(),u=Po[c],p="home-default"===a,m=l||p?r.a.createElement(xn,{dashboardId:a,isSite:o,isDefault:i,layout:c,isManagerControlled:n,isDefaultConfigured:this.props.isDefaultConfigured,canManageCarousel:this.props.canManageCarousel,focusTile:this.props.focusTile,tiles:s,isManagingSegment:t}):null,f=t&&!n&&!p;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"tiles layout-".concat(c," u-posRelative")},this.props.canManage&&r.a.createElement(le,{dashboardId:a,isSite:o,isDefault:i,tiles:s.flatten(1)}),r.a.createElement(u,{dashboardId:a,isSite:o,isDefault:i,tiles:s,canManage:l,isSortable:l,onMove:this.props.moveTile,onDrop:this.props.saveTilesPosition,showManageSegmentsPlaceholder:f})),m)}}])&&wo(n.prototype,a),o&&wo(n,o),t}();Co(No,"propTypes",{dashboardId:i.a.string,isSite:i.a.bool,isDefault:i.a.bool,layout:i.a.string,canManage:i.a.bool,canManageCarousel:i.a.bool,isManagerControlled:i.a.bool,isDefaultConfigured:i.a.bool,loading:i.a.bool,tiles:u.a.map,focusTile:u.a.map,onLoad:i.a.func}),Co(No,"defaultProps",{isSite:!1,isDefault:!1,canManage:!1,canManageCarousel:!1,isManagerControlled:!1,isDefaultConfigured:!1});t.a=Object(b.a)()(Object(l.connect)(function(e){var t=Object(m.b)(e);return{segmentId:t,isManagingSegment:!!t}},function(e,t){return{load:(n=regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(Object(f.g)(t.dashboardId||null));case 2:"function"==typeof t.onLoad&&t.onLoad(e);case 3:case"end":return n.stop()}},n,this)}),a=function(){var e=this,t=arguments;return new Promise(function(a,r){var o=n.apply(e,t);function i(e){Eo(o,a,r,i,l,"next",e)}function l(e){Eo(o,a,r,i,l,"throw",e)}i(void 0)})},function(){return a.apply(this,arguments)}),moveTile:function(n,a){return e(Object(f.k)(t.dashboardId||null,n,a))},saveTilesPosition:function(){return Object(y.b)(p.DASHBOARD_TILE_MOVE,t.isSite?"Site":"Home"),e(Object(f.r)(t.dashboardId||null))}};var n,a})(No))},1867:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(450),s=n(2),c=n.n(s),u=n(61),p=n(178),m=n(42),f=n(10),d=n.n(f),b=n(1272),y={pageDots:!1,setGallerySize:!0,wrapAround:!1,cellAlign:"left",contain:!0,groupCells:!0};function h(e){var t=e.children,n=e.isFlush,a=e.columnWidth,o=r.a.Children.toArray(t).map(function(e){return r.a.createElement("div",{className:"TileSlider-item",key:e.key},e)});if(0===o.length)return null;var i=o.length<3?o:r.a.createElement(b.a,{options:y},o),l=d()({TileSlider:!0,"TileSlider--flush":n,"TileSlider--flushNarrow":"narrow"===a,"TileSlider--2":2===o.length,"TileSlider--3plus":o.length>2});return r.a.createElement("div",{className:l},i)}h.propTypes={children:i.a.node,isFlush:i.a.bool},h.defaultProps={isFlush:!1};var g=h,v=n(1816),E=n(49),O=n(13),w=n(217),S=n(136),j=n(1786),_=n(589),C=n(177),P=n(4);function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var x=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=T(t).call(this,e))||"object"!==I(r)&&"function"!=typeof r?A(a):r).state={currentTab:e[e.itemKey].size>0?e[e.itemKey].first().get("section"):null},n.setTab=n.setTab.bind(A(A(n))),n.handleTabClick=n.handleTabClick.bind(A(A(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentWillReceiveProps",value:function(e){var t=this.state.currentTab,n=e[e.itemKey].size>0&&e[e.itemKey].first().get("section"),a=e[e.itemKey].filter(function(e){return e.get("section")===t});t&&0!==a.size||!n||this.setTab(n)}},{key:"setTab",value:function(e){this.state.currentTab!==e&&this.setState({currentTab:e})}},{key:"handleTabClick",value:function(e){var t=this;return function(){return t.setTab(e)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemKey,a=t.children,o=t.isUserVariable,i=t.dashboardId,l=t.isManagingSegment,s=this.state.currentTab,u=this.props[n],p=u.filter(function(e){return e.get("section")===s}).first();return r.a.createElement(j.a,k({},this.props,{isUserVariable:!1}),u.size>0&&r.a.createElement("div",{className:"Tile-tabs"},r.a.createElement(w.a,null,u.map(function(t){return r.a.createElement(S.a,{key:t.get("section"),label:Object(P.a)("common.".concat(t.get("section"))),onClick:e.handleTabClick(t.get("section")),isCurrent:s===t.get("section")})})),("home-default"===i||l)&&o&&r.a.createElement("div",{className:"u-pad--small"},r.a.createElement(_.a,{isSmall:!0},r.a.createElement("span",{className:"type--500"},Object(P.a)("home_default.tile_content_different_for_each_user"))))),a(p&&p.get("listOfItems")||new c.a.List,s))}}])&&D(n.prototype,a),o&&D(n,o),t}();x.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){N(e,t,n[t])})}return e}({},j.a.propTypes,{itemKey:i.a.string.isRequired,children:i.a.func.isRequired}),x.defaultProps={itemKey:"items"};var L=Object(O.connect)(function(e){return{isManagingSegment:!!Object(C.b)(e)}})(x),R=n(48);function z(){return(z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var F=function(e){var t=e.variant;return r.a.createElement(L,z({},e,{hasPadding:!1,isUserVariable:"custom"!==t}),function(e){return 0===e.size?r.a.createElement(E.a,null):r.a.createElement(g,null,e.map(function(t){return r.a.createElement("div",{key:t.get("id")},r.a.createElement(v.a,{content:t.update(function(e){return e.merge({isPublished:e.get("isPublished")||"published"===(e.get("status")||"").toLowerCase(),mediaCount:e.get("imageCount")+e.get("videoCount")})}),isPortrait:e.size>1,isLarge:e.size<2,albumUrl:t.get("url")}),r.a.createElement("div",{className:"TileSlider-details"},r.a.createElement("h3",{className:"type--b4 u-textTruncate"},r.a.createElement("a",{href:t.get("url"),className:"type--title",onClick:function(){return Object(R.b)(m.DASHBOARD_TILE_CLICK,"album")}},t.get("title")))))}))})},B=n(1812),W=n(15),H=n(218),U=n(1817),q=n(63);function V(e){var t=e.title,n=e.description,a=e.url,o=e.img,i=e.isInNarrowColumn,l=e.isFirst,s=e.onShareClick,c=a?Object(q.b)(a):null,u=d()({"u-pad--small":!l}),p=d()({"u-displayFlex":!0,"u-flexColumn":!0,"TileList-body":!0,"u-pad--small":l,"u-marg-t--small":l}),m=d()({"u-cf":!0,"ImageOptions-trigger":!0,"TileList-link":!0,"TileList-link--showcase":!l,"TileList-link--narrow":i}),f=d()({"u-floatLeft":!l,"u-posRelative":!0,"u-marg-r--small":!l}),b=d()({"u-marg-t--small":l,"u-marg-t--auto":!l}),y=d()({"type--title":!0,"u-marg-t--xsmall":!0,"u-marg-b--xsmall":!0,"type--h5":l,"type--h6":!l}),h=d()({"u-displayBlock":!0,"u-cursorPointer":!0,"u-neg-r--1":!o&&l,"u-neg-l--1":!o&&l,"u-neg-t--1":!o&&l});return r.a.createElement("li",{className:u},r.a.createElement("div",{className:m},r.a.createElement("div",{className:f},r.a.createElement("div",{className:"ImageOptions ImageOptions--small u-sm-hide"},r.a.createElement("a",{href:c,className:"u-cursorPointer ImageOptions-button ImageOptions-button--externalLink"},r.a.createElement(W.a,{name:"external",sourceSize:16}))),r.a.createElement("a",{onClick:s,className:h},r.a.createElement(H.a,{img:o,icon:"albums",aspectRatio:"landscape"}))),r.a.createElement("div",{className:p},r.a.createElement("h3",{className:y},r.a.createElement("a",{className:"type--title u-cursorPointer",onClick:s},t)),n&&l&&!i&&r.a.createElement("p",{className:"type--secondary"},n),r.a.createElement("div",{className:b},r.a.createElement(U.a,e)))))}V.propTypes={title:i.a.string.isRequired,description:i.a.string,img:i.a.string,isInNarrowColumn:i.a.bool,isFirst:i.a.bool,onShareClick:i.a.func},V.defaultProps={isInNarrowColumn:!1,isFirst:!1};var G=V;function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function J(e,t,n){var a=(e||new c.a.List).map(function(e,a){return r.a.createElement(B.a,{campaign:e,key:e.get("campaignId")},function(e){return r.a.createElement(G,K({},e,{isFirst:0===a&&t,isInNarrowColumn:n}))})});return a.size>0?r.a.createElement("ul",{className:"u-borderList"},a):r.a.createElement(E.a,null)}var Y=function(e){var t=e.columnWidth,n=e.variant,a="narrow"===t,o="showcase"===e.options.get("layout");return"custom"===n?r.a.createElement(j.a,K({},e,{hasPadding:!1}),J(e.items,o,a)):r.a.createElement(L,K({},e,{hasPadding:!1,isUserVariable:!0}),function(e){return J(e,o,a)})},X=(n(12),n(456)),$=n(169),Z=n(457),Q=n(1233),ee=n(1236),te=n(102),ne=n(710),ae=n(208),re=n(1230);function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(){return(ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function le(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return"showcase"===e.options.get("layout")&&"narrow"===!e.columnWidth?3:4}function me(e){return new c.a.Map(e.items.map(function(t){return[t.get("section")||"default",pe(e)]}))}var fe={large:{default:"64px",isShowcase:"224px",isFirstFeatured:"1086px"},medium:{default:"64px",isShowcase:"224px",isFirstFeatured:"620px"},narrow:{default:"64px",isShowcase:"64px",isFirstFeatured:"433px"}},de=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=se(t).call(this,e))||"object"!==oe(r)&&"function"!=typeof r?ue(a):r).state={limits:e.isFullyLoaded?me(e):null},n.setContent=n.setContent.bind(ue(ue(n))),n.paginate=n.paginate.bind(ue(ue(n))),n.renderItem=n.renderItem.bind(ue(ue(n))),n.renderPaginatedList=n.renderPaginatedList.bind(ue(ue(n))),n}var n,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,r.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.setContent(this.props)}},{key:"componentWillReceiveProps",value:function(e){c.a.is(this.props.items,e.items)||this.setContent(e),(this.props.isFullyLoaded||!e.isFullyLoaded)&&c.a.is(this.props.options,e.options)&&c.a.is(this.props.items,e.items)||this.setState({limits:me(e)})}},{key:"setContent",value:function(e){var t="custom"===e.variant||"from_category"===e.variant?e.items:e.items.map(function(e){return e.get("listOfItems")}).flatten(1);t&&t.size>0&&this.props.setContent(t.map(function(e){return e.toJS()}))}},{key:"paginate",value:function(e){var t=this;return function(){return t.setState({limits:t.state.limits.updateIn([e],function(e){return e+pe(t.props)})})}}},{key:"renderItem",value:function(e,t,n){var a=this.props,o=a.isSite,i=a.columnWidth,l=a.options,s=a.viewport,c="narrow"===i,u="showcase"===l.get("layout"),p=u&&!c&&"tablet-portrait"!==s,f=n.map(function(e){return e.get("type")}).toSet().size>1,b="event"===e.get("type")&&r.a.createElement(Q.a,{hasLegacyIcon:!0,showTimeZone:!1,startsAt:e.get("startsAt"),endsAt:e.get("endsAt"),isMultiDay:e.get("isMultiDay"),isAllDay:e.get("isAllDay"),showDateForSingleDay:!1}),y=u&&0===t,h=d()({ListingItem:!0,"ListingItem--standardTile":!p,"ListingItem--featuredTile":p,"ListingItem--horizontalTile":y}),g=d()({"type--h5":p,"type--h6":!p,"u-marg-b--xsmall":p}),v=fe[i].default;return u&&(v=fe[i].isShowcase),y&&(v=fe[i].isFirstFeatured),r.a.createElement("li",{className:h,key:e.get("id")},r.a.createElement("div",{className:"ListingItem-thumb"},r.a.createElement(ne.a,{content:e,isShowcase:p||y,isLandscape:y,imageSize:v,hasSiteImageFallback:!0})),r.a.createElement("div",{className:"ListingItem-inner"},r.a.createElement("div",{className:"ListingItem-type u-hideIfEmpty"},f&&r.a.createElement("span",{className:"ListingItem-typeName"},Object(P.a)("common.".concat(e.get("type").toLowerCase()))),r.a.createElement(ee.a,{isMustRead:e.get("isMustRead"),hasRead:e.get("hasRead")})),r.a.createElement("h2",{className:g},r.a.createElement("a",{className:"type--title",href:e.get("url"),onClick:function(){return Object(R.b)(m.DASHBOARD_TILE_CLICK,"content")}},e.get("title"))),u&&!c&&"event"!==e.get("type")&&(e.get("excerpt")||e.get("summary"))&&r.a.createElement("p",{className:"ListingItem-description type--b2"},r.a.createElement(ae.a,{length:90},e.get("summary")||e.get("excerpt"))),b||r.a.createElement("div",{className:"ListingItem-metaContainer"},r.a.createElement(re.a,{createdAt:e.get("createdAt"),publishAt:e.get("publishAt"),modifiedAt:e.get("modifiedAt"),site:e.get("site"),authoredBy:e.get("authoredBy"),showSite:!o&&!l.get("siteId")})),e.getIn(["rsvp","attendingCount"])>0&&r.a.createElement(te.a,{icon:"user",sourceSize:"16"},r.a.createElement("span",{className:"type--tertiary"},Object(P.a)("event.attending",{count:e.getIn(["rsvp","attendingCount"])}),e.getIn(["rsvp","capacityCount"])&&" (".concat(Object(P.a)("event.capacity_count",{count:e.getIn(["rsvp","capacityCount"])}),")")))))}},{key:"renderPaginatedList",value:function(e,t,n){var o=this;return r.a.createElement(a.Fragment,null,r.a.createElement("ul",{className:"Tile-contentList"},e.take(n.get(t)).map(function(t,n){return o.renderItem(t,n,e)})),e.size>n.get(t)&&r.a.createElement("button",{className:"type--fauxLink LoadMore-button",type:"button",onClick:this.paginate(t)},Object(P.a)("common.show_more")))}},{key:"render",value:function(){var e=this,t=this.props,n=t.variant,a=t.content,o=this.state.limits;return"custom"===n?r.a.createElement(j.a,ie({},this.props,{hasPadding:!1}),0===a.size?r.a.createElement(E.a,null):r.a.createElement("ul",{className:"Tile-contentList"},a.map(function(t,n){return e.renderItem(t,n,a)}))):"from_category"===n?r.a.createElement(j.a,ie({},this.props,{hasPadding:!1,isUserVariable:!0}),0===a.size?r.a.createElement(E.a,null):this.renderPaginatedList(a,"default",o)):r.a.createElement(L,ie({},this.props,{itemKey:"content",hasPadding:!1,isUserVariable:!0}),function(t,n){return 0===t.size?r.a.createElement(E.a,null):e.renderPaginatedList(t,n,o)})}}])&&le(n.prototype,o),i&&le(n,i),t}();de.propTypes={variant:i.a.string,content:i.a.object,options:i.a.object,isSite:i.a.bool,isInNarrowColumn:i.a.bool,columnWidth:i.a.oneOf(["narrow","medium","large"]),viewport:i.a.string},de.defaultProps={columnWidth:"medium"};var be=Object(O.connect)(function(e,t){return{viewport:Object($.a)(e),content:"custom"===t.variant||"from_category"===t.variant?Object(Z.f)(e,t.items.map(function(e){return e.get("id")})):t.items.map(function(t){return t.set("listOfItems",Object(Z.f)(e,t.get("listOfItems").map(function(e){return e.get("id")})))})}},{setContent:X.C})(de),ye=n(24),he=n(675),ge=n.n(he),ve=54,Ee=2*Math.PI*ve;function Oe(e){var t=e.percentage,n=e.children,a=ge()(t,0,100)/100,o=Ee*(1-a);return r.a.createElement("div",{className:"Gauge"},r.a.createElement("div",{className:"Gauge-inner"},r.a.createElement("div",{className:"Gauge-text u-posAbsoluteCenter type--helvetica"},n),r.a.createElement("svg",{className:"u-posFit",viewBox:"0 0 120 120"},r.a.createElement("circle",{className:"Gauge-meter",cx:"60",cy:"60",r:ve}),r.a.createElement("circle",{className:"Gauge-value",cx:"60",cy:"60",r:ve,strokeDashoffset:o,strokeDasharray:Ee,transform:"rotate(-90 60 60)"}))))}Oe.propTypes={percentage:i.a.number},Oe.defaultProps={percentage:0};var we=Oe;function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{a||null==l.return||l.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function _e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ce(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ie=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ce(this,Pe(t).call(this,e))).interval=null,n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(t,r.a.PureComponent),n=t,(a=[{key:"componentWillMount",value:function(){var e=this;this.interval=setInterval(function(){return e.forceUpdate()},1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.endsAt,a=Object(ye.f)(),o=Object(ye.f)(n),i=a.isAfter(o),l=o.diff(a,"seconds"),s=[[Object(P.a)("datetime.day_plural"),365,Math.floor(l/86400)],[Object(P.a)("datetime.hour_plural"),24,Math.floor(l%86400/3600)],[Object(P.a)("datetime.minute_plural"),60,Math.floor(l%86400%3600/60)],[Object(P.a)("datetime.second_plural"),60,Math.floor(l%86400%3600%60%60)]];return t(i,r.a.createElement("div",null,s.map(function(e){var t=je(e,3),n=t[0],a=t[1],o=t[2];return r.a.createElement(we,{key:n,percentage:100-o/a*100},r.a.createElement("span",{className:"Gauge-number"},o),r.a.createElement("span",{className:"Gauge-property"},n))})))}}])&&_e(n.prototype,a),o&&_e(n,o),t}();Ie.propTypes={endsAt:i.a.string,children:i.a.func},Ie.defaultProps={endsAt:null};var ke=Ie;function De(){return(De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Te=function(e){var t=e.options;return t.get("stopAt")?r.a.createElement(ke,{endsAt:t.get("stopAt")},function(n,a){return r.a.createElement(j.a,De({},e,{hasPadding:!1,classes:n&&["tile-countdown"]||[]}),r.a.createElement("div",{className:"u-marg--small"},n?r.a.createElement("p",{className:"u-textCenter no-results"},t.get("endMessage",Object(P.a)("dashboard.tile.countdown_clock.countdown_complete_default"))):a))}):r.a.createElement(j.a,e,r.a.createElement(E.a,{message:Object(P.a)("dashboard.tile.countdown_clock.no_clock")}))},Me=n(19),Ae=n(11),xe=n(38),Le=n(442),Re=n(1823),ze=n(1278),Fe=n(408);function Be(){return(Be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var We=Object(O.connect)(function(e,t){return{currentUser:Object(Me.getCurrentUser)(e),isBoxEnabled:Object(Ae.B)(e,"BOX"),isGDriveEnabled:Object(Ae.B)(e,"GDRIVE"),isDropboxEnabled:Object(Ae.B)(e,"DROPBOX"),isOneDriveEnabled:Object(Ae.B)(e,"ONEDRIVE"),isSharePointEnabled:Object(Ae.B)(e,"SHAREPOINT"),connectLink:Object(Ae.l)(e,{box:"CONNECT_BOX_ACCOUNT",gdrive:"CONNECT_GDRIVE_ACCOUNT",dropbox:"CONNECT_DROPBOX_ACCOUNT",onedrive:"CONNECT_ONEDRIVE_ACCOUNT",sharepoint:"CONNECT_SHAREPOINT_ACCOUNT"}[t.variant])}})(function(e){var t=null;return"box"===e.variant&&!e.isBoxEnabled||"gdrive"===e.variant&&!e.isGDriveEnabled||"dropbox"===e.variant&&!e.isDropboxEnabled||"onedrive"===e.variant&&!e.isOneDriveEnabled||"sharepoint"===e.variant&&!e.isSharePointEnabled?t=r.a.createElement(E.a,null,r.a.createElement("p",null,Object(P.a)("dashboard.tile.files.not_available_warning",{provider:Object(P.a)("file.provider.".concat(e.variant))}))):("box"===e.variant&&!e.currentUser.get("hasConnectedBoxAccount")||"gdrive"===e.variant&&!e.currentUser.get("hasConnectedGoogleDriveAccount")||"dropbox"===e.variant&&!e.currentUser.get("hasConnectedDropboxAccount")||"onedrive"===e.variant&&!e.currentUser.get("hasConnectedOneDriveAccount")||"sharepoint"===e.variant&&!e.currentUser.get("hasConnectedSharePointAccount"))&&(t=r.a.createElement(E.a,null,r.a.createElement("p",{className:"u-marg-b--medium"},Object(P.a)("dashboard.tile.files.connect_warning",{provider:Object(P.a)("file.provider.".concat(e.variant))})),r.a.createElement(xe.a,{label:Object(P.a)("common.connect"),onClick:function(){window.location=e.connectLink},appearance:"brand"}))),r.a.createElement(j.a,Be({},e,{hasPadding:!1}),t||r.a.createElement("ul",{className:"TileList"},e.items.map(function(e){var t=r.a.createElement(Re.a,{isDir:e.get("isDir"),url:e.get("url"),extension:e.get("extension")||e.get("fileExtension")||e.get("type"),img:e.get("thumbnailImg")||e.get("thumbnail"),imageSize:"48px"}),n=e.get("size")&&r.a.createElement("span",{className:"type--tertiary"},Object(Fe.a)(e.get("size")));return r.a.createElement("li",{key:e.get("id"),className:"TileList-item"},r.a.createElement(Le.a,{url:e.get("url"),media:t,title:e.get("title"),meta:n,isSingleLineTitle:!1}),r.a.createElement("div",{className:"TileList-item-download"},r.a.createElement(ze.a,{file:e,className:"Tooltip Tooltip--topCenter"},r.a.createElement(W.a,{name:"download"}))))})))});function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t){return(Ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Ke=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=qe(t).call(this,e))||"object"!==He(r)&&"function"!=typeof r?Ge(a):r).wrapper=null,n.initWrapper=n.initWrapper.bind(Ge(Ge(n))),n.initFrame=n.initFrame.bind(Ge(Ge(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ve(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidUpdate",value:function(){this.props.isDragging||this.initFrame()}},{key:"initWrapper",value:function(e){this.wrapper=e,this.initFrame()}},{key:"initFrame",value:function(){var e=this.props,t=e.options,n=e.type,a=e.userNickname,r=t.get("code"),o=parseInt(t.get("height"),10);if(!this.wrapper||!r||!o)return!1;var i=document.createElement("iframe");for(i.height=o+("facebook"===n?20:0),i.style.width="100%",i.src="about:blank",i.className+="Tile-iframe",i.scrolling="facebook"===n?"no":"yes";this.wrapper.hasChildNodes();)this.wrapper.removeChild(this.wrapper.lastChild);return this.wrapper.appendChild(i),!!i.contentWindow&&(i.contentWindow.document.open("text/html","replace"),i.contentWindow.document.write("\n\t\t\t<!DOCTYPE html>\n\t\t\t<html>\n\t\t\t\t<head>\n\t\t\t\t\t<title>Dashboard Tile</title>\n\t\t\t\t\t".concat("facebook"===n?"":"\n\t\t\t\t\t\t<style>\n\t\t\t\t\t\t\thtml, body {\n\t\t\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\t\t\tpadding: 0;\n\t\t\t\t\t\t\t\tmargin: 0;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</style>\n\t\t\t\t\t","\n\t\t\t\t</head>\n\t\t\t\t<body>\n\t\t\t\t\t").concat(r.replace(/\{\{userNickname\}\}/g,a),"\n\t\t\t\t</body>\n\t\t\t</html>\n\t\t")),i.contentWindow.document.close(),i)}},{key:"render",value:function(){return r.a.createElement(j.a,this.props,this.props.options.has("code")&&this.props.options.has("height")?r.a.createElement("div",{ref:this.initWrapper}):r.a.createElement(E.a,null))}}])&&Ue(n.prototype,a),o&&Ue(n,o),t}();var Je=Object(O.connect)(function(e){return{userNickname:e.getIn(["currentUser","nickname"])}})(Ke);var Ye=function(e){var t=e.options.get("html")||e.options.get("text");return r.a.createElement(j.a,e,t?r.a.createElement("div",{className:"Content Content--small u-marg-b--medium",dangerouslySetInnerHTML:{__html:t}}):r.a.createElement(E.a,null))},Xe=n(53),$e=n.n(Xe),Ze=n(711),Qe=n(260),et=n(115),tt=n(1851);function nt(e){var t=e.onClose,n=e.html;return r.a.createElement(tt.a,{onClose:t,isVideo:!0},r.a.createElement("div",{className:"Gallery-slide"},r.a.createElement("div",{className:"Gallery-loader"},r.a.createElement(et.a,null)),r.a.createElement("div",{className:"Gallery-iframeContainer Gallery-fauxIframe"},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}}))))}nt.propTypes={html:i.a.string.isRequired,onClose:i.a.func.isRequired};var at=nt;function rt(e){var t=e.imageMarkup,n=e.oembedHtml,a=e.size,o=e.layout,i=d()({"u-marg-r--small":"small"===a&&"showcase"===o}),l=d()({PlayButton:!0,"u-zIndex--1":!0,"PlayButton--small":"small"===a});return r.a.createElement(Qe.a,null,function(e,a){var o=e.activate,s=e.deactivate;return r.a.createElement("div",{className:i},r.a.createElement("button",{type:"button",className:"TileList-link--showcase-video u-displayBlock small-12 u-posRelative PlayButton-trigger",onClick:o},r.a.createElement("div",{className:l},r.a.createElement(W.a,{isLegacy:!0,name:"play"})),t),a&&r.a.createElement(at,{html:n,onClose:s}))})}rt.propTypes={size:i.a.string,layout:i.a.string,imageMarkup:i.a.node.isRequired,oembedHtml:i.a.node.isRequired},rt.defaultProps={size:"small",layout:null};var ot=rt;function it(){return(it=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function lt(e){var t=e.items,n=e.options,a=e.columnWidth,o=n.get("layout")||"standard",i="narrow"===a,l="standard"===o,c="grid"===o,u="showcase"===o,p=(n.get("links")||t||new s.List).map(function(e,t){var n=Object(q.b)(e.get("url")),a=Object(q.d)(e.get("url")),o=!Object(q.h)(n),s=e.getIn(["imageFile","fileUrl"])||e.getIn(["oembed","thumbnail_url"]),p="video"===e.getIn(["oembed","type"]),m=85;(c||i)&&(m=60);var f=d()({"TileList-item":!0,"TileList-item--hasIcon":o}),b=d()({"type--500":!0,"type--h6":!0,"u-textTruncate":l}),y=r.a.createElement("div",{className:"TileList-link-text"},r.a.createElement("h3",{className:b},l?e.get("text")||e.get("title")||e.get("url"):r.a.createElement(ae.a,{length:m},e.get("text")||e.get("title")||e.get("url"))),a&&o&&r.a.createElement("div",{className:"u-marg-t--xsmall"},r.a.createElement(Ze.a,null,a)));if(c){var h=d()({"u-grid-item":!0,"medium-6":!0,"large-4":!i,"large-6":i}),g=r.a.createElement("div",{className:"u-borderRadius--2 u-marg-b--small"},r.a.createElement(H.a,{img:s,url:p?null:n,icon:"albums",aspectRatio:"landscape"}));return r.a.createElement("li",{className:h,key:e.get("id")},p?r.a.createElement(ot,{oembedHtml:e.getIn(["oembed","html"]),imageMarkup:g}):g,r.a.createElement("a",{className:"TileList-link",href:n},y))}if(u){var v=0===t,E=d()({"u-pad--small":!v}),O=d()("TileList-link","u-cf",{"TileList-link--showcase":!v,"TileList-link--narrow":i}),w=d()({"u-marg-r--small":!v}),S=r.a.createElement("div",{className:!p&&w},r.a.createElement(H.a,{img:s,icon:"albums",aspectRatio:"landscape"}));return r.a.createElement("li",{className:E,key:e.get("id")},p?r.a.createElement("div",{className:O},r.a.createElement(ot,{oembedHtml:e.getIn(["oembed","html"]),size:v?"large":"small",layout:"showcase",imageMarkup:S}),r.a.createElement("a",{href:n,className:"TileList-link"},0===t?r.a.createElement("div",{className:"u-pad--medium"},y):y)):r.a.createElement("a",{className:O,href:n},S,0===t?r.a.createElement("div",{className:"u-pad--medium"},y):y))}return r.a.createElement("li",{className:f,key:e.get("id")},r.a.createElement("a",{className:"TileList-link",href:n},y))}).toJS(),m=d()({TileList:l,"u-pad--small":c}),f=d()({"u-grid":c,"u-borderList":u});return r.a.createElement(j.a,it({},e,{hasPadding:!1}),r.a.createElement("div",{className:m},p.length>0?r.a.createElement("ul",{className:f},p):r.a.createElement(E.a,null)))}lt.propTypes={items:$e.a.list.isRequired,options:$e.a.map.isRequired},lt.defaultProps={};var st=lt;function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ut=function(e){var t=e.options,n=t.get("url"),a=n&&Object(q.b)(n),o=r.a.createElement("div",{className:"u-pad--small"},r.a.createElement("img",{src:t.getIn(["imageFile","fileUrl"]),alt:""})),i=d()({"type--secondary":!0,"u-breakWord":!0,"u-marg-b--medium":a});return r.a.createElement(j.a,ct({},e,{hasPadding:!1,hideTitle:!0}),a?r.a.createElement("a",{className:"u-posRelative z-index--1",href:a},o):o,t.get("showInfo")&&r.a.createElement("div",{className:"u-pad--medium u-neg-t--small u-hideIfEmpty"},t.get("title")&&r.a.createElement("h3",{className:"type--primary type--h5 type--500 u-marg-b--xsmall"},a?r.a.createElement("a",{href:a,className:"u-textInheritColor"},t.get("title")):t.get("title")),t.get("description")&&r.a.createElement("p",{className:i},t.get("description")),a&&r.a.createElement(Ze.a,{url:a},Object(q.m)(Object(q.d)(n)))))},pt=n(255);function mt(){return(mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var ft=function(e){var t=e.options,n=t.get("oembed")||new c.a.Map,o=t.get("title"),i=t.get("description");return r.a.createElement(j.a,mt({},e,{hasPadding:!1,hideTitle:!0}),r.a.createElement(Qe.a,null,function(e,t){var o=e.activate,i=e.deactivate;return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"u-pad--small"},r.a.createElement("div",{className:"u-size--169"},r.a.createElement("button",{className:"u-posFit PlayButton-trigger",onClick:o},r.a.createElement("img",{src:pt.b,style:{backgroundImage:"url(".concat(n.get("thumbnail_url"),")")},className:"theme--bg u-imageCover",alt:""}),r.a.createElement("div",{className:"PlayButton"},r.a.createElement(W.a,{isLegacy:!0,name:"play"}))))),t&&r.a.createElement(at,{html:n.get("html"),onClose:i}))}),t.get("showInfo")&&r.a.createElement("div",{className:"u-pad--medium u-neg-t--small u-hideIfEmpty"},o&&r.a.createElement("h3",{className:"type--primary type--h5 type--500 u-marg-b--xsmall"},r.a.createElement("a",{href:Object(q.b)(t.get("url")),className:"type--primary"},o)),i&&r.a.createElement("p",{className:"u-marg-b--medium type--secondary u-breakWord"},i),t.get("url")&&r.a.createElement(Ze.a,{url:Object(q.b)(t.get("url"))},Object(q.m)(Object(q.d)(t.get("url"))))))};function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function yt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ht(e,t){return!t||"object"!==dt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vt(e,t){return(vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Et=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ht(this,gt(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vt(e,t)}(t,r.a.Component),n=t,(a=[{key:"render",value:function(){var e=(this.props.items||new c.a.List).map(function(e){return r.a.createElement("li",{className:"TileList-item",key:e.get("id")},r.a.createElement("h2",{className:"type--title type--h6"},r.a.createElement("a",{href:e.get("url")},e.get("name"))),r.a.createElement("p",null,Object(P.a)("page_categories.page_count",{count:e.get("pageCount")})))}).toJS();return r.a.createElement(j.a,bt({},this.props,{hasPadding:!1}),e.length>0?r.a.createElement("ul",{className:"TileList"},e):r.a.createElement(E.a,null))}}])&&yt(n.prototype,a),o&&yt(n,o),t}(),Ot=n(135),wt=n(1234),St=n(1251),jt=n(1794),_t=n(566),Ct=n(62),Pt=n(35),Nt=n(79),It=n(426);function kt(){return(kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Dt(e){var t=e.listing;return r.a.createElement(wt.a,kt({},e,{isLoading:t.get("loading"),showPopovers:!0}))}Dt.propTypes={listingId:i.a.string.isRequired,filter:i.a.string,sort:i.a.string,siteId:i.a.string};var Tt=Object(It.a)(Nt.c.users,function(e){return{filter:e.filter||null,sortBy:e.sort||null,siteId:e.siteId||null}},null,function(e){return e.listingId})(Object(O.connect)(function(e,t){return{users:t.listing.get("results",new c.a.List).map(function(t){return e.getIn(["users",t,"result"])})}})(Dt)),Mt=n(87);function At(e){var t=e.listingId,n=e.filter,a=e.sort,o=e.siteId,i=e.showCelebrationStamps,l=e.showHireDate;return r.a.createElement("div",{className:"Modal-content"},r.a.createElement(Tt,{listingId:t,filter:n,sort:a,siteId:o,showCelebrationStamps:i,showHireDate:l,showContact:!0}))}At.propTypes={listingId:i.a.string.isRequired,filter:i.a.string,sort:i.a.string,siteId:i.a.string,showCelebrationStamps:i.a.bool,showHireDate:i.a.bool},At.defaultProps={showCelebrationStamps:!1,showHireDate:!1};var xt=Object(Mt.a)(function(e){return{name:e.name,id:e.id,title:e.title,classes:["Modal--medium"]}})(At);function Lt(){return(Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Rt=Object(O.connect)(null,function(e,t){return{openAllHiresModal:function(){return e(Object(Ct.c)(Pt.G,t.id))}}})(function(e){var t=e.id,n=e.items,a=e.openAllHiresModal,o=e.columnWidth,i=e.isSite,l=e.dashboardId;return r.a.createElement(j.a,Lt({},e,{hasPadding:!1}),0===n.size?r.a.createElement(E.a,null):r.a.createElement("div",{className:"u-overflowHidden"},r.a.createElement(xt,{name:Pt.G,id:t,sort:"hire_date",siteId:i&&l||null,title:Object(P.a)("dashboard.tile.people.all_hires.title"),listingId:"dashboard-new_hires-".concat(t),showHireDate:!0}),r.a.createElement(g,{isFlush:!0,isInNarrowColumn:"narrow"===o},r.a.createElement("div",{className:"UserCard UserCard--featured u-posFit theme--bg"},r.a.createElement("div",{className:"UserCard-featuredCount"},n.size),r.a.createElement("div",{className:"UserCard-featuredText type--b2"},Object(P.a)("new_hire",{count:n.size}),r.a.createElement("br",null),Object(P.a)("dashboard.tile.people.new_hires.intro"))),n.map(function(e){return r.a.createElement(St.a,{showFavorite:!1,user:e,showContact:!1,key:e.get("id"),showHireDate:!0},e.get("canFollow")&&r.a.createElement(_t.a,{sfUserId:e.get("sfUserId"),isFollowing:e.get("isFollowing")}))}),r.a.createElement("div",{className:"UserCard u-posFit"},r.a.createElement("button",{type:"button",className:"u-posFit u-pos-top type--fauxLink",onClick:a},r.a.createElement("span",{className:"u-posAbsoluteCenter UserCard-text type--b1"},Object(P.a)("common.see_all")))))))});function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var Ft=Object(O.connect)(null,function(e,t){return{openCelebrationsModal:function(){return e(Object(Ct.c)(Pt.D,t.id))}}})(function(e){var t=e.id,n=e.items,a=e.openCelebrationsModal,o="narrow"===e.columnWidth,i=n.reduce(function(e,t){var n=new c.a.List,a=t.get("birthday")?Object(ye.e)(t.get("birthday")):null,r=t.get("hireDate")?Object(ye.e)(t.get("hireDate").replace(/^([0-9]{4})-/,"")):null;return a&&Object(ye.b)(a,3,30)&&(n=n.push(t.merge({key:"".concat(t.get("id"),"-bday"),hireDate:null,workAnniversary:null,sortDate:a.unix()}))),r&&Object(ye.b)(r,3,30)&&(n=n.push(t.merge({key:"".concat(t.get("id"),"-work"),birthday:null,sortDate:r.unix()}))),e.concat(n)},new c.a.List).sortBy(function(e){return e.get("sortDate")});return r.a.createElement(j.a,zt({},e,{hasPadding:!1}),0===n.size?r.a.createElement(E.a,null):r.a.createElement("div",{className:"u-overflowHidden"},r.a.createElement(xt,{name:Pt.D,id:t,filter:"celebrations",sort:"celebration",title:Object(P.a)("celebration_plural"),listingId:"dashboard-celebrations-".concat(t),showCelebrationStamps:!0}),r.a.createElement(g,{isFlush:!0,isInNarrowColumn:o},r.a.createElement("div",{className:"UserCard UserCard--featured u-posFit theme--bg"},r.a.createElement("div",{className:"UserCard-featuredCount"},i.size),r.a.createElement("div",{className:"UserCard-featuredText type--b2"},Object(P.a)("celebration",{count:n.size}))),i.map(function(e){return r.a.createElement(St.a,{showFavorite:!1,user:e,showContact:!1,showCelebrationStamps:!0,key:e.get("key")})}),r.a.createElement("div",{className:"UserCard u-posFit"},r.a.createElement("button",{type:"button",className:"u-posFit u-pos-top type--fauxLink",onClick:a},r.a.createElement("span",{className:"u-posAbsoluteCenter type--b1"},Object(P.a)("common.see_all")))))))});function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(){return(Wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ht(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t){return(qt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Gt=function(e){function t(){var e,n,a,o,i,l,s;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,u=new Array(c),p=0;p<c;p++)u[p]=arguments[p];return a=this,o=(e=Ut(t)).call.apply(e,[this].concat(u)),n=!o||"object"!==Bt(o)&&"function"!=typeof o?Vt(a):o,i=Vt(Vt(n)),s=function(){var e=n.props,t=e.variant,a=e.items,o=e.options,i=e.columnWidth,l=o.get("layout");return"avatars"===l?r.a.createElement(jt.a,{users:a,isLoading:!1,perRow:"narrow"===i?5:7,isHoneycomb:!0}):"grid"===l?0===a.size?r.a.createElement(E.a,null):r.a.createElement("div",{className:"u-borderGrid u-borderGrid--".concat("narrow"===i?"2":"3")},a.map(function(e){return r.a.createElement("div",{className:"u-borderGrid-item"},r.a.createElement(St.a,{isRelative:!0,user:e,key:e.get("id")},e.get("canFollow")&&r.a.createElement(_t.a,{sfUserId:e.get("sfUserId"),isFollowing:e.get("isFollowing")})))})):r.a.createElement(wt.a,{users:a,isLoading:!1,canPaginate:!1,showContact:!1,showCelebrationStamps:"celebrations"===t,showPopovers:!0,isCompact:!0})},(l="renderList")in i?Object.defineProperty(i,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[l]=s,n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qt(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.setUsers(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=this.props.items;e.items.some(function(e){return!t.find(function(t){return t.get("id")===e.get("id")})})&&this.setUsers(e)}},{key:"setUsers",value:function(e){this.props.setUsers(e.items)}},{key:"render",value:function(){var e=this.props,t=e.variant,n=e.options;return"new_hires"===t?r.a.createElement(Rt,this.props):"celebrations"===t?r.a.createElement(Ft,Wt({},this.props,{isUserVariable:!0})):r.a.createElement(j.a,Wt({},this.props,{hasPadding:"grid"!==n.get("layout")}),this.renderList())}}])&&Ht(n.prototype,a),o&&Ht(n,o),t}();var Kt=Object(O.connect)(null,function(e){return{setUsers:function(t){return!!(t&&t.size>0)&&e(Object(Ot.g)(t.map(function(e){return e.toJS()})))}}})(Gt),Jt=n(709),Yt=n(1241);function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(){return($t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Zt(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Qt(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function en(e){return(en=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tn(e,t){return(tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var nn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Qt(this,en(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.loadRss()}},{key:"componentDidUpdate",value:function(){this.loadRss()}},{key:"loadRss",value:function(){this.props.isFullyLoaded&&!this.props.requestedRssLoad&&this.props.loadRss()}},{key:"render",value:function(){var e=(this.props.items||new s.List).map(function(e,t){return r.a.createElement("li",{className:"TileList-item TileList-item--hasIcon",key:t},r.a.createElement("a",{className:"TileList-link",href:e.get("url")},r.a.createElement("h3",{className:"type--title type--h6"},e.get("title")),r.a.createElement("div",{className:"TileList-url type--b3 type--tertiary"},r.a.createElement(Yt.a,{input:e.get("postedAt")})),r.a.createElement("div",{className:"TileList-iconContainer"},r.a.createElement(W.a,{name:"external",sourceSize:16}))))}).toJS();return r.a.createElement(j.a,$t({},this.props,{hasPadding:!1}),e.length>0?r.a.createElement("ul",{className:"TileList"},e):r.a.createElement(E.a,null))}}])&&Zt(n.prototype,a),o&&Zt(n,o),t}();var an=Object(O.connect)(null,function(e,t){return{loadRss:function(){return e(Object(Jt.h)(t.dashboardId,t.id))}}})(nn);function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var on=function(e){var t=(e.items||new s.List).map(function(e,t){return r.a.createElement("li",{key:t},r.a.createElement("div",{className:"TileApp-item"},r.a.createElement("a",{className:"TileApp-link",href:e.get("url"),title:e.get("label")},r.a.createElement("img",{className:"TileApp-image",src:e.get("iconImg")}))))}).toJS();return r.a.createElement(j.a,rn({},e,{isUserVariable:!0}),t.length>0?r.a.createElement("ul",{className:"small-block-grid-3 medium-block-grid-4"},t):r.a.createElement(E.a,null))},ln=n(100),sn=n(67),cn=n(205),un=n(123),pn=n(209),mn=n(742);function fn(e){var t=e.sites,n=e.isLoading,a=e.columnWidth;if(n)return r.a.createElement(cn.a,null);if(0===t.size)return r.a.createElement(E.a,null);var o=d()({"u-grid-item":!0,"small-12":!0,"medium-6":!0,"large-4":"narrow"!==a,"large-6":"narrow"===a});return r.a.createElement("div",{className:"u-pad--small u-pad-b--xsmall"},r.a.createElement("ul",{className:"u-grid u-grid--small"},t.map(function(e){return r.a.createElement("li",{className:o,key:e.get("id")},r.a.createElement("div",{className:"SiteGridItem SiteGridItem--small ImageOptions-trigger"},r.a.createElement("div",{className:"SiteGridItem-emblemContainer"},r.a.createElement(pn.a,{isLarge:!0,url:e.get("url"),img:e.get("img")})),r.a.createElement("div",{className:"SiteGridItem-info"},r.a.createElement("h2",{className:"SiteGridItem-heading type--h6"},r.a.createElement("a",{href:e.get("url"),className:"type--title"},r.a.createElement(un.a,{name:e.get("name"),access:e.get("access"),iconSourceSize:"20"}))),r.a.createElement(mn.a,{site:e,showCategory:!0,showMemberCount:!0}))))}).toArray()))}fn.propTypes={sites:i.a.instanceOf(c.a.List).isRequired,isLoading:i.a.bool},fn.defaultProps={isLoading:!1};var dn=fn,bn=n(739);function yn(e){return(yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(){return(hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function gn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function vn(e,t){return!t||"object"!==yn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function En(e){return(En=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function On(e,t){return(On=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var wn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),vn(this,En(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&On(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.setSites(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setSites(e)}},{key:"setSites",value:function(e){this.props.setSites(e.items)}},{key:"render",value:function(){var e=this.props,t=e.sites,n=e.options;return r.a.createElement(j.a,hn({},this.props,{hasPadding:!1}),"grid"===n.get("layout")?r.a.createElement(dn,{sites:t}):r.a.createElement(bn.a,{sites:t}))}}])&&gn(n.prototype,a),o&&gn(n,o),t}();var Sn=Object(O.connect)(function(e,t){return{sites:Object(ln.j)(e,t.items.map(function(e){return e.get("id")}))}},function(e){return{setSites:function(t){return!!(t&&t.size>0)&&e(Object(sn.set)(t.map(function(e){return e.toJS()})))}}})(wn),jn=n(1879),_n=n(1276);function Cn(e){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Nn(e,t){return!t||"object"!==Cn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kn(e,t){return(kn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Dn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Nn(this,In(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&kn(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidMount",value:function(){this.setUsers(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.setUsers(e)}},{key:"setUsers",value:function(e){this.props.setUsers(e.items)}},{key:"render",value:function(){var e=this.props,t=e.dashboardId,n=e.items,a=e.options,o=e.columnWidth,i=e.openSiteMembersModal;return r.a.createElement(j.a,this.props,r.a.createElement(_n.a,{siteId:t}),r.a.createElement(jt.a,{users:n,total:n.size+(a.get("totalNotShown")||0),onExpand:i,perRow:"narrow"===o?5:7,rows:2,isHoneycomb:!0}))}}])&&Pn(n.prototype,a),o&&Pn(n,o),t}();var Tn=Object(O.connect)(null,function(e,t){return{setUsers:function(t){return!!(t&&t.size>0)&&e(Object(Ot.g)(t.map(function(e){return e.toJS()})))},openSiteMembersModal:function(){return e(Object(Ct.c)(Pt.tb,t.dashboardId))}}})(Dn),Mn=n(1270);var An=function(e){return r.a.createElement(j.a,e,e.options.get("text")?r.a.createElement("div",{className:"u-marg-b--medium"},r.a.createElement(Mn.a,{input:e.options.get("text")})):r.a.createElement(E.a,null))};function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zn(e,t){return(zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Bn=function(e){function t(e){var n,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,(n=!(r=Rn(t).call(this,e))||"object"!==xn(r)&&"function"!=typeof r?Fn(a):r).wrapper=null,n.init=n.init.bind(Fn(Fn(n))),n}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zn(e,t)}(t,r.a.Component),n=t,(a=[{key:"componentDidUpdate",value:function(){this.init(this.wrapper)}},{key:"init",value:function(e){if(e){var t=document.createElement("script");t.src="//platform.twitter.com/widgets.js",t.async=!0,e.appendChild(t),this.wrapper=e}}},{key:"render",value:function(){var e=this.props.options.get("code");return r.a.createElement(j.a,this.props,e?r.a.createElement("div",{ref:this.init,dangerouslySetInnerHTML:{__html:e}}):r.a.createElement(E.a,null))}}])&&Ln(n.prototype,a),o&&Ln(n,o),t}();function Wn(e){var t=e.isColumnEmpty?{position:"absolute",top:0,right:0,bottom:0,left:0}:{height:"192px"};return e.connectDragWrapper(e.connectDropTarget(r.a.createElement("div",{className:e.isDragging?"drop-placeholder":null,style:t})))}Wn.propTypes={isColumnEmpty:i.a.bool};var Hn=Wn,Un=n(1852),qn=n(691);function Vn(e){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(){return(Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Kn(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Jn(e,t){return!t||"object"!==Vn(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xn(e,t){return(Xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return ea});var Zn=[{types:["blog_posts","content","events","activity","latest","pages","popular"],component:be},{types:["campaigns"],component:Y},{types:["page_categories"],component:Et},{types:["albums","album"],component:F},{types:["countdown"],component:Te},{types:["files"],component:We},{types:["facebook"],component:Je},{types:["html_safe","text","site_info","html"],component:Ye},{types:["links"],component:st},{types:["people"],component:Kt},{types:["rss"],component:an},{types:["salesforce_apps"],component:on},{types:["sites"],component:Sn},{types:["site_categories"],component:jn.a},{types:["followers"],component:Tn},{types:["site_about"],component:An},{types:["twitter"],component:Bn},{types:["media"],component:ut},{types:["faux_drop"],component:Hn}];var Qn=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Jn(this,Yn(t).apply(this,arguments))}var n,a,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xn(e,t)}(t,u["b"]),n=t,(a=[{key:"render",value:function(){var e=function(e){var t=(e.type||"").toLowerCase();if(!e.loading&&e.loaded&&!e.isLoadedSuccessfully&&"faux_drop"!==t)return Un.a;var n=Zn.filter(function(e){return-1!==e.types.indexOf(t)});if(0===n.length)return null;var a=(e.variant||"").toLowerCase();return"site_members"===a?Tn:"html_safe"===a?Ye:"iframe"===a?Je:"video"===a?ft:"content"===t&&"latest_popular"===a&&"album"===e.options.get("type")?F:n[0].component}(this.props);if(!e)throw new Error("Unknown tile: ".concat(this.props.type,":").concat(this.props.variant));var t=Object(qn.a)(),n=t?this.props.connectDragSource:function(e){return e},a=t?this.props.connectDragPreview:this.props.connectDragSource;return r.a.createElement(e,Gn({},this.props,{isDragging:this.props.isDragging,connectDropTarget:this.props.connectDropTarget,connectDragWrapper:a,connectDragHandle:n}))}}])&&Kn(n.prototype,a),o&&Kn(n,o),t}();$n(Qn,"propTypes",{dashboardId:i.a.string,isSite:i.a.bool,isDefault:i.a.bool,id:i.a.string.isRequired,type:i.a.string.isRequired,variant:i.a.string,order:i.a.number.isRequired,column:i.a.string.isRequired,loading:i.a.bool,loaded:i.a.bool,isFullyLoaded:i.a.bool,isLoadedSuccessfully:i.a.bool,title:i.a.string.isRequired,description:i.a.string,options:i.a.instanceOf(c.a.Map),items:i.a.instanceOf(c.a.List),onMove:i.a.func,onDrop:i.a.func,columnWidth:i.a.oneOf(["narrow","medium","large"]),isDragging:i.a.bool,connectDropTarget:i.a.func,connectDragPreview:i.a.func,connectDragSource:i.a.func}),$n(Qn,"defaultProps",{isSite:!1,isDefault:!1,columnWidth:"large",isDragging:!1,connectDropTarget:function(e){return e},connectDragPreview:function(e){return e},connectDragSource:function(e){return e}});t.b=Qn;var ea=Object(l.DropTarget)(p.f,{canDrop:function(){return!0},hover:function(e,t){var n=t.getItem();if(!t.isOver()&&e.id!==n.id){"function"==typeof e.onMove&&e.onMove(n.id,e.id);var a=t.getItem();a.order=e.order,a.column=e.column}}},function(e){return{connectDropTarget:e.dropTarget()}})(Object(l.DragSource)(p.f,{beginDrag:function(e){return{id:e.id,column:e.column,order:e.order}},endDrag:function(e,t){t.didDrop()&&"function"==typeof e.onDrop&&e.onDrop()},isDragging:function(e,t){return e.id===t.getItem().id}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}})(Qn))},1873:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(53),s=n.n(l),c=n(13),u=n(1821),p=n(206),m=n(201),f=n(1231),d=n(262),b=n(295),y=n(4),h=n(35);function g(e){var t=e.onRemove,n=r.a.createElement(b.a,{onConfirm:t,title:Object(y.a)("search_banner.remove.label"),text:Object(y.a)("search_banner.remove.warning"),buttonText:Object(y.a)("button_label.remove")});return r.a.createElement(m.a,{size:"small",hasLargeOffset:!0},r.a.createElement(f.a,{icon:"more",isImageOverlay:!0,hasArrow:!0,hasLegacyIcon:!1},r.a.createElement(p.a,{modal:h.F,id:"home"},function(e){return r.a.createElement(d.a,{label:Object(y.a)("search_banner.edit.label"),onSelect:e("searchBanner")})}),r.a.createElement(p.a,{modal:n},function(e){return r.a.createElement(d.a,{label:Object(y.a)("search_banner.remove.label"),onSelect:e})})))}g.propTypes={onRemove:i.a.func.isRequired},g.defaultProps={onRemove:function(){}};var v=g,E=n(1356),O=n(11);function w(e){var t=e.file,n=e.children,a=e.onRemove,o=e.searchComponent,i=e.canManage;if(!e.isHomeBannerEnabled)return null;var l=null,s=null;return t&&("MP4"===t.get("type","").toUpperCase()?l=t.get("fileUrl"):s=t.get("fileUrl")),r.a.createElement(u.a,{video:l,img:s,searchComponent:o||r.a.createElement(E.a,null)},n||i&&r.a.createElement(v,{onRemove:a}))}w.propTypes={file:s.a.map.isRequired,onRemove:i.a.func.isRequired,searchComponent:i.a.node,children:i.a.node,canManage:i.a.bool},w.defaultProps={canManage:!1};t.a=Object(c.connect)(function(e){return{isHomeBannerEnabled:Object(O.z)(e)}})(w)},1875:function(e,t,n){"use strict";(function(e){var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(2),s=n.n(l),c=n(15),u=n(63);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){f(e,t,n[t])})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=function(t){function n(e){var t,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=b(n).call(this,e))||"object"!==p(r)&&"function"!=typeof r?h(a):r).selectize=null,t.excluded={},t.setExcluded(e),t.setExcluded=t.setExcluded.bind(h(h(t))),t.initSelectize=t.initSelectize.bind(h(h(t))),t.onChange=t.onChange.bind(h(h(t))),t}var a,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(n,r.a.Component),a=n,(o=[{key:"componentWillReceiveProps",value:function(e){s.a.is(this.props.exclude,e.exclude)||this.setExcluded(e),this.selectize&&this.props.input&&e.input&&!s.a.is(this.props.input.value,e.input.value)&&(e.input.value?s.a.Map.isMap(e.input.value)?(this.selectize.addOption(e.input.value.toJS()),this.selectize.refreshOptions(!1),this.selectize.setValue(e.input.value.get("id"))):this.selectize.setValue(e.input.value):this.selectize.setValue(null))}},{key:"onChange",value:function(e){"function"==typeof this.props.onChange&&this.props.onChange(e||null,this.selectize.options[e]||null)}},{key:"setExcluded",value:function(e){s.a.Map.isMap(e.exclude)&&(this.excluded=e.exclude.toJS()),s.a.List.isList(e.exclude)&&(this.excluded=e.exclude.reduce(function(e,t){return e.set(t.get("id"),t.toJS())},new s.a.Map).toObject())}},{key:"initSelectize",value:function(t){if(!this.selectize){var n=this,a=this.props;window.$(t).selectize({loadingClass:"selectize-loading",valueField:"id",labelField:"title",searchField:["title"],closeAfterSelect:!0,placeholder:this.props.placeholder,plugins:{simpplr_loader:{},clear_button:{},maxwidth:{},no_results:{},classCopy:{}},load:function(t,r){var o;if(!t.length)return r();var i=this;e.Simpplr.Loader.show();var l={term:t,size:24},s=[e.Simpplr.Salesforce.Content.search(m({},l,{filter:"canAddToCarousel"}))];a.hasCampaigns&&s.push(e.Simpplr.Salesforce.Campaign.search(m({},l))),(o=window.$).when.apply(o,s).fail(r).then(function(e,t){var a=e.result.listOfItems||[],o=(t?a.concat(t.result.listOfItems):a).map(function(e){return!e.id&&e.campaignId&&(e.id=e.campaignId),!e.id&&e.contentId&&(e.id=e.contentId),!e.title&&e.oembed&&(e.title=e.oembed.title),!e.img&&e.oembed&&(e.img=e.oembed.thumbnail_url),e}).filter(function(e){return void 0===n.excluded[e.id]});i.$control_input.val()&&r(o)}).always(e.Simpplr.Loader.hide)},render:{option:function(t){return(a.resultTemplate||e.Simpplr.templates.content_selector_result)(Object.assign({},t,{type:(t.type||"").toLowerCase(),isCampaign:!!t.campaignId,externalUrl:t.oembed?Object(u.m)(t.oembed.provider_url):null,isLarge:!0}))}}}),this.selectize=t.selectize,this.selectize.on("change",this.onChange)}}},{key:"exclude",value:function(e){if(this.selectize){var t=this.selectize.options[e];t&&(this.excluded[e]=t,this.selectize.removeOption(e),this.selectize.refreshOptions(!1))}}},{key:"include",value:function(e){void 0!==this.excluded[e]&&(this.selectize.addOption(this.excluded[e]),this.selectize.refreshState(),delete this.excluded[e])}},{key:"clear",value:function(){this.selectize&&this.selectize.clear()}},{key:"render",value:function(){return r.a.createElement("div",{className:"Field Field--contentSelector ".concat(this.props.isDisabled?"disabled":"")},r.a.createElement("select",{className:"Field-select",ref:this.initSelectize,id:this.props.id,disabled:this.props.isDisabled||null}),r.a.createElement("div",{className:"Field-iconContainer Field-iconContainer--search"},r.a.createElement(c.a,{isLegacy:!0,name:"search"})))}}])&&d(a.prototype,o),i&&d(a,i),n}();g.propTypes={id:i.a.string,placeholder:i.a.string,siteId:i.a.string,type:i.a.string,status:i.a.string,filter:i.a.string,onChange:i.a.func,exclude:i.a.instanceOf(s.a.Iterable),isDisabled:i.a.bool,hasCampaigns:i.a.bool},g.defaultProps={isDisabled:!1,hasCampaigns:!1,onChange:function(){}},t.a=g}).call(this,n(16))},1876:function(e,t,n){"use strict";(function(e){var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(10),s=n.n(l),c=n(1272),u=n(776);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(t){function n(e){var t,a,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),a=this,(t=!(r=d(n).call(this,e))||"object"!==p(r)&&"function"!=typeof r?y(a):r).setFlickity=t.setFlickity.bind(y(y(t))),t}var a,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,r.a.Component),a=n,(o=[{key:"componentDidUpdate",value:function(e){e.layout!==this.props.layout&&this.flickity&&this.flickity.resize()}},{key:"setFlickity",value:function(e){var t=this.flickity;this.flickity=e&&e.getFlickity(),this.flickity?Object(u.c)(this.flickity):Object(u.e)(t)}},{key:"render",value:function(){var t=this.props,n=t.children,a=t.maxItemsVisible,o=t.layout,i=t.optionsMenu,l=r.a.Children.count(n);if(0===l)return null;var u=r.a.Children.map(n,function(e,t){var n,i=function(e,t,n){return"standard"===(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"showcase")?12:3===n&&t>1?2===t||0===e||e%3==0||t%3==2&&e===t-1?6:3:2===n&&t>=2?6:12}(t,l,a,o),c="standard"===o&&3===a,u=3===a&&3===i,p={showSummary:c,isWide:c||3===a&&1===l,isPortrait:u},f=s()((m(n={},"small-".concat(i),!0),m(n,"Carousel-slide",!0),m(n,"Carousel-slide--fullHeight",(e.props.item?"campaign"===e.props.item.get("itemType"):void 0)&&u),n));return r.a.createElement("div",{className:f},r.a.cloneElement(e,p))}),f="standard"===o&&l>1||l>a,d={pageDots:!1,setGallerySize:!0,wrapAround:!0,cellAlign:"left",groupCells:!0,contain:!0,adaptiveHeight:!0,autoPlay:"object"===p(e.Simpplr.Settings)?e.Simpplr.Settings.CAROUSEL_SPEED:1e4},b=s()({Carousel:!0,"Carousel--standard":"standard"===o});return r.a.createElement("div",{className:"ImageOptions-trigger u-posRelative"},i&&r.a.createElement("div",{className:"ImageOptions ImageOptions--small u-sm-hide"},i),r.a.createElement("div",{className:b},f?r.a.createElement(c.a,{options:d,ref:this.setFlickity},u):r.a.createElement("div",{className:"Carousel-fakeSlider"},u)))}}])&&f(a.prototype,o),i&&f(a,i),n}();h.propTypes={children:i.a.node,maxItemsVisible:i.a.number,layout:i.a.oneOf(["standard","showcase"]),optionsMenu:i.a.element},h.defaultProps={maxItemsVisible:1,layout:"showcase"},t.a=h}).call(this,n(16))},1879:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return y});var a=n(0),r=n.n(a),o=n(2),i=n.n(o),l=n(1786),s=n(49),c=n(4);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function m(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function f(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),f(this,d(n).apply(this,arguments))}var a,o,u;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,r.a.Component),a=n,(o=[{key:"render",value:function(){var t=(this.props.items||new i.a.List).map(function(t){return r.a.createElement("li",{className:"TileList-item",key:t.get("id")},r.a.createElement("h2",{className:"type--title type--h6"},r.a.createElement("a",{href:"".concat(e.Simpplr.Settings.APP_URL,"?u=/sites/category&category=").concat(t.get("id"))},t.get("name"))),r.a.createElement("p",null,Object(c.a)("site.count",{count:t.get("siteCount")})))}).toJS();return r.a.createElement(l.a,p({},this.props,{hasPadding:!1}),t.length>0?r.a.createElement("ul",{className:"TileList"},t):r.a.createElement(s.a,null))}}])&&m(a.prototype,o),u&&m(a,u),n}()}).call(this,n(16))},589:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(1),i=n.n(o),l=n(10),s=n.n(l);function c(e){var t,n,a,o=e.children,i=e.title,l=e.type,c=e.isSmall,u=e.size,p=e.hasContentStyles,m=s()((t={InfoBox:!0,"InfoBox--small":c,"InfoBox--large":"large"===u,"theme--before--bg":!l,"theme--after--border":!l},n="InfoBox--".concat(l),a=l,n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t)),f=s()({Content:p,"Content--small":p,"InfoBox-inner":!0,"InfoBox-inner--hasHeading":i});return r.a.createElement("div",{className:m},i&&r.a.createElement("h2",{className:"InfoBox-heading"},i),r.a.createElement("div",{className:f},o))}c.propTypes={title:i.a.string,type:i.a.oneOf(["positive","negative","warning"]),size:i.a.string,hasContentStyles:i.a.bool},c.defaultProps={size:null,hasContentStyles:!0},t.a=c},675:function(e,t,n){var a=n(783),r=n(332);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=r(n))==n?n:0),void 0!==t&&(t=(t=r(t))==t?t:0),a(r(e),t,n)}},783:function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}}}]);