(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{2598:function(e,t,r){"use strict";var n=r(16),a=r.n(n),i=r(65),o=r.n(i),c=r(0),l=r.n(c);t.a=function(e){return function(t){if(!t.location)return l.a.createElement(e,t);var r=t.location,n=r.search.substr(1);return r.query=o.a.parse(n),l.a.createElement(e,a()({},t,{location:r}))}}},2600:function(e,t,r){"use strict";var n=r(1),a=r.n(n),i=r(0),o=r.n(i),c=r(18),l=r(21);function s(e){var t=e.message;return o.a.createElement("div",{className:"ErrorPage ErrorPage--fixed"},o.a.createElement("div",{className:"ErrorPage-inner"},o.a.createElement("div",{className:"ErrorPage-iconContainer u-marg-b--medium"},o.a.createElement(l.a,{isLegacy:!0,name:"alert"})),o.a.createElement("h4",{className:"type--h1"},t)))}s.propTypes={message:a.a.string.isRequired};var u=s,d=r(167),p=r(3);function f(e){var t=e.children;return"mobile"===e.viewport?o.a.createElement("div",{className:"u-sm-show"},o.a.createElement(u,{message:Object(p.a)("common.page_not_available_on_mobile")})):t||null}f.propTypes={children:a.a.oneOfType([a.a.arrayOf(a.a.element),a.a.element])};t.a=Object(c.connect)((function(e){return{viewport:Object(d.a)(e)}}))(f)},2646:function(e,t,r){e.exports={orgChart:"OrgChart-module-orgChart___3Klga",grid:"OrgChart-module-grid___2DbZM",gridLeft:"OrgChart-module-gridLeft___1-olj",item:"OrgChart-module-item___NzXxA",slider:"OrgChart-module-slider___1pgge",isActive:"OrgChart-module-isActive___1IBcv",itemLinear:"OrgChart-module-itemLinear___1WJSG",itemButtonContainer:"OrgChart-module-itemButtonContainer___25BBh",isSelected:"OrgChart-module-isSelected___1i0EN",Button:"OrgChart-module-Button___1o9xF",itemIconContainer:"OrgChart-module-itemIconContainer___LzARD",itemCoverButton:"OrgChart-module-itemCoverButton___3c9QP",sliderItem:"OrgChart-module-sliderItem___3TOqV",spacer:"OrgChart-module-spacer___3Egh4",separator:"OrgChart-module-separator___26v5l",separatorLine:"OrgChart-module-separatorLine___1Gaxv",separatorValue:"OrgChart-module-separatorValue___n_7Oa",loadMore:"OrgChart-module-loadMore___303QQ",isLoading:"OrgChart-module-isLoading___3TRtF",isDisabled:"OrgChart-module-isDisabled___9w2Vl",loadMoreSvgContainer:"OrgChart-module-loadMoreSvgContainer___17UUf",loadMoreButton:"OrgChart-module-loadMoreButton___1--SP",Icon:"OrgChart-module-Icon___1f6y5",loadMorePlaceholder:"OrgChart-module-loadMorePlaceholder___Svc9n",countContainer:"OrgChart-module-countContainer___3kXi5",displayBlock:"OrgChart-module-displayBlock___1qYqz",sizeFull:"OrgChart-module-sizeFull___38XnK",gridOffset2:"OrgChart-module-gridOffset2___3U0dY",gridOffset4:"OrgChart-module-gridOffset4___3nuzC",gridLeftTablet:"OrgChart-module-gridLeftTablet___2w3cx",rowPlaceholder:"OrgChart-module-rowPlaceholder___2a0HF"}},2658:function(e,t,r){"use strict";var n=r(1),a=r.n(n),i=r(0),o=r.n(i),c=r(851),l=r(178);function s(e){var t=o.a.createElement(l.a,{isImage:!0,isRound:e.isUser}),r=o.a.createElement(l.a,{width:"50%"}),n=o.a.createElement(l.a,{count:e.count}),a=o.a.createElement(l.a,{width:"40px"});return o.a.createElement(c.a,{type:e.hasType?a:null,media:t,title:r,description:n,isTableStandard:e.isTableStandard})}s.propTypes={count:a.a.number,hasType:a.a.bool,isTableStandard:a.a.bool,isTableSmall:a.a.bool,isUser:a.a.bool},s.defaultProps={count:1,hasType:!1,isTableStandard:!1,isTableSmall:!1,isUser:!1},t.a=s},2867:function(e,t,r){"use strict";(function(e){r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return l})),r.d(t,"b",(function(){return s})),r.d(t,"a",(function(){return u})),r.d(t,"f",(function(){return d})),r.d(t,"e",(function(){return p}));var n=r(14),a=r(458),i=r(26);function o(t){return function(r){var o=t.peopleId;return r({type:a.c,payload:{peopleId:o}}),e.Simpplr.Loader.show(),e.Simpplr.Salesforce.User.getOrgChart(t).done((function(e){r(function(e,t){return{type:a.d,payload:{peopleId:e,result:t}}}(o,e.result))})).fail((function(e){var t=e.message;"404"!==t&&(t=Object(i.a)(e),r(Object(n.f)(t))),r(function(e,t){return{type:a.b,payload:{peopleId:e,error:t}}}(o,t))})).always(e.Simpplr.Loader.hide)}}function c(e){return o({peopleId:e,includeChildren:!0})}function l(e){return o({peopleId:e,includeGrandparent:!0,includeParent:!0})}function s(e){return o({peopleId:e,includeParent:!0,includeGrandparent:!0,includeChildren:!0})}function u(){return{type:a.a}}function d(e){return{type:a.f,payload:{tierDepth:e}}}function p(e){return{type:a.e,payload:{peopleId:e}}}}).call(this,r(27))},2868:function(e,t,r){"use strict";r.d(t,"d",(function(){return l})),r.d(t,"g",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"e",(function(){return d})),r.d(t,"i",(function(){return h})),r.d(t,"a",(function(){return g})),r.d(t,"h",(function(){return v})),r.d(t,"b",(function(){return y})),r.d(t,"f",(function(){return b}));var n=r(4),a=r.n(n),i=r(19),o=r(167);function c(e){return e&&e.getIn(["orgChart"])||new a.a.Map}var l=Object(i.a)([c],(function(e){return e})),s=Object(i.a)([c,function(e,t){return t}],(function(e,t){return e.get(t)||new a.a.Map})),u=Object(i.a)([l,s],(function(e,t){return e.get(t.get("parent"))})),d=Object(i.a)([l,function(e,t){return t}],(function(e,t){return e.valueSeq().filter((function(e){return e&&e.parent===t})).toList()}));function p(e){return e.sort((function(e,t){return e&&(e.getIn(["user","name"])||"").toUpperCase().localeCompare((t.getIn(["user","name"])||"").toUpperCase())}))}function f(e,t,r,n){var i=e.filter((function(e){return e&&e.get&&e.get("parent")===r}));return 0===i.size&&n&&(i=new a.a.List(Array(e.getIn([t,"childCount"])))),i.toList()}function m(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=n?t:e.getIn([t,"parent"])||null,o=f(e,t,i,n),c=p(o),l=c.findIndex((function(e){return e&&e.getIn(["user","peopleId"])===t}));return new a.a.Map({peopleId:t,parentId:i,users:c,activeUserIndex:l,isActiveUser:r})}var h=Object(i.a)([c],(function(e){return e.get("loading")})),g=Object(i.a)([c],(function(e){return e.get("tierDepth")}));function v(e,t){return e.findIndex((function(e){return e&&e.get("users").some((function(e){return e.getIn(["user","peopleId"])===t}))}))}var y=Object(i.a)([c],(function(e){return e.get("initialUser")}));var b=Object(i.a)([c,y,o.a,function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{peopleId:t,tierDepth:r,childFocus:n}}],(function(e,t,r,n){var i=n.peopleId,o=n.tierDepth,c=n.childFocus,l=new a.a.List,s=e.get(i)||new a.a.Map;if(!i||s.get("user",new a.a.Map).isEmpty())return l;if(l=l.push(m(e,i,!0)),s.get("childCount",0)>0){var u=m(e,i,!1,!0),d=u.get("users").findIndex((function(e){return!(!e||!e.user)&&e.user.get("peopleId")===c}));-1!==d&&(u=u.set("focusUserIndex",d)),l=l.push(u)}for(var p=e.getIn([s.get("parent"),"parent"]),f=l.size-1;f<o;f+=1){var h=l.getIn([0,"peopleId"]),g=e.getIn([h,"parent"],null);g&&(l=l.unshift(m(e,g))),!g&&p&&(l=l.unshift(null))}return function(e,t,r,n,a){return e.update(e.size-1,(function(e){var i=e.get("users");if(i.some((function(e){return!!e&&e.childCount>0})))return e;var o=i.find((function(e){return!(!e||!e.user)&&e.user.get("peopleId")===r}));if(o||(o=i.find((function(e){return!(!e||!e.user)&&e.user.get("peopleId")===a}))),o){var c="desktop"===n?5:3,l=Math.min(i.size,c),s=i.indexOf(o),u="mobile"===n?0:Math.floor(l/2.5);if(u===s)return e;i=(i=i.delete(s)).insert(u,o);var d=e.set("users",i);if(t===r)return d.set("activeUserIndex",u);var p=i.findIndex((function(e){return e&&e.user.get("peopleId")===t}));return d.set("activeUserIndex",p)}return e}))}(l,i,t,r,c)}))},4080:function(e,t,r){"use strict";r.r(t);var n=r(10),a=r.n(n),i=r(11),o=r.n(i),c=r(7),l=r.n(c),s=r(12),u=r.n(s),d=r(13),p=r.n(d),f=r(8),m=r.n(f),h=r(5),g=r.n(h),v=r(4),y=r.n(v),b=r(1),C=r.n(b),I=r(0),E=r.n(I),O=r(69),_=r.n(O),w=r(81),U=r(18),x=r(36),S=r(3),k=r(73),T=r(2598),A=r(2600),R=r(409),j=r(129),P=r(190),N=r(595);function D(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return L(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(c)throw i}}}}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var q=function(e){u()(r,e);var t=z(r);function r(){var e;a()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"state",{minHeight:void 0}),g()(l()(e),"ro",null),g()(l()(e),"setRef",(function(t){t&&(e.ro=new N.default((function(t){var r,n=D(t);try{var a=function(){var t=r.value.contentRect.height;e.setState((function(e){var r=e.minHeight;return{minHeight:t>(r||0)?t:r}}))};for(n.s();!(r=n.n()).done;)a()}catch(e){n.e(e)}finally{n.f()}})),e.ro.observe(t))})),e}return o()(r,[{key:"componentWillUnmount",value:function(){this.ro.disconnect()}},{key:"render",value:function(){var e=this.props.children,t=this.state.minHeight;return E.a.createElement("div",{ref:this.setRef,style:{minHeight:t}},e)}}]),r}(E.a.PureComponent),M=r(772),B=r(167),F=r(311),H=r(2646),G=r.n(H),V=r(2867),W=r(15),K=r.n(W);function J(e){var t=e.count,r=e.isActive;if(t<=0)return null;var n=K()({BubbleCount:!0,"theme--bg":r});return E.a.createElement("div",{className:n},E.a.createElement("div",{className:"BubbleCount-text type--500"},t))}J.propTypes={count:C.a.number,isActive:C.a.bool},J.defaultProps={isActive:!1,count:0};var Q=J,X=r(55),Y=r(21),Z=r(1025),$=r(1033);function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var te=function(e){u()(r,e);var t=ee(r);function r(){var e;a()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"handleClick",(function(){var t=e.props.user.get("peopleId");e.props.onClick(t)})),e}return o()(r,[{key:"render",value:function(){var e,t=this.props,r=t.user,n=t.childCount,a=t.isSelected,i=t.isActiveUser,o=t.viewport,c=t.onClick,l=K()((e={},g()(e,G.a.item,!0),g()(e,G.a.itemLinear,"mobile"===o),g()(e,G.a.isSelected,a),g()(e,G.a.isActive,i),e));return E.a.createElement("div",{className:l,"data-orgchart-card":r.get("peopleId")},n>0&&E.a.createElement("div",{className:G.a.countContainer,"aria-hidden":"true"},E.a.createElement(Q,{isActive:i,count:n})),"mobile"===o?E.a.createElement(E.a.Fragment,null,E.a.createElement($.a,{title:r.get("title"),department:r.get("department"),location:r.get("location"),name:r.get("name"),url:r.get("url"),img:r.get("img"),isCompact:!0}),E.a.createElement("div",{className:G.a.iconContainer},E.a.createElement("a",{href:r.get("url")},E.a.createElement(Y.a,{name:"view-profile"})))):E.a.createElement(Z.a,{user:r,truncateLines:!0,avatarAriaHidden:!0},E.a.createElement("div",{className:G.a.itemButtonContainer},E.a.createElement(X.a,{href:r.get("url"),label:Object(S.a)("orgchart.view_profile"),icon:!1}))),c&&E.a.createElement("span",{className:G.a.itemCoverButton,onClick:this.handleClick,role:"presentation"}))}}]),r}(w.b);function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}g()(te,"propTypes",{childCount:C.a.number,isActiveUser:C.a.bool,isSelected:C.a.bool,onClick:C.a.func.isRequired,user:_.a.record.isRequired,viewport:C.a.string.isRequired}),g()(te,"defaultProps",{childCount:0,isActiveUser:!1,isSelected:!1});var ne=function(e){u()(r,e);var t=re(r);function r(){var e;a()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"setActiveTier",(function(){e.props.activeTier.set(l()(e))})),e}return o()(r,[{key:"componentDidMount",value:function(){this.props.initialIndex>=0&&this.props.activeTier.set(this)}},{key:"render",value:function(){var e,t=this.props,r=t.users,n=t.onClick,a=t.initialIndex,i=t.isActiveUser,o=t.viewport,c=r.map((function(e,t){return E.a.createElement("div",{className:"u-grid-item small-12 medium-4 large-1-5",key:e?e.getIn(["user","peopleId"]):"tempKey".concat(t)},e&&E.a.createElement(te,{viewport:o,user:e.get("user"),childCount:e.get("childCount"),isSelected:a===t,isActiveUser:i&&a===t,onClick:n}))}));if(0===c.size)return null;var l=K()((e={},g()(e,G.a.grid,!0),g()(e,G.a.displayBlock,!0),g()(e,G.a.sizeFull,!0),g()(e,G.a.gridOffset2,2===c.size),g()(e,G.a.gridOffset4,4===c.size),g()(e,G.a.gridLeft,c.size>5),g()(e,G.a.gridleftTablet,c.size>3),e));return E.a.createElement("button",{type:"button",className:l,onClick:this.setActiveTier},E.a.createElement("ul",{className:"u-grid"},c))}}]),r}(w.b);ne.propTypes={users:C.a.instanceOf(y.a.List),onClick:C.a.func,initialIndex:C.a.number,isActiveUser:C.a.bool},ne.defaultProps={isActiveUser:!1,users:new y.a.List,initialIndex:0};var ae=ne,ie=r(217);function oe(e){var t,r=e.onClick,n=e.isLoading,a=e.isDisabled,i=K()((t={},g()(t,G.a.loadMore,!0),g()(t,G.a.isLoading,n),g()(t,G.a.isDisabled,a),t));return E.a.createElement("div",{className:i},E.a.createElement(ie.a,{title:Object(S.a)("orgchart.load_more")},E.a.createElement("button",{type:"button",className:G.a.loadMoreButton,onClick:r},E.a.createElement(Y.a,{name:"arrow-up",sourceSize:16}))),E.a.createElement("div",{className:G.a.loadMoreSvgContainer},E.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1",height:"45",viewBox:"0 0 1 45"},E.a.createElement("g",{fillRule:"evenodd"},E.a.createElement("rect",{width:"1",height:"3",rx:".5"}),E.a.createElement("rect",{width:"1",height:"3",y:"6",rx:".5"}),E.a.createElement("rect",{width:"1",height:"3",y:"12",rx:".5"}),E.a.createElement("rect",{width:"1",height:"3",y:"18",rx:".5"}),E.a.createElement("rect",{width:"1",height:"3",y:"24",rx:".5"}),E.a.createElement("rect",{width:"1",height:"3",y:"30",rx:".5"}),E.a.createElement("rect",{width:"1",height:"3",y:"36",rx:".5"}),E.a.createElement("rect",{width:"1",height:"3",y:"42",rx:".5"})))))}oe.propTypes={onClick:C.a.func,isLoading:C.a.bool,isDisabled:C.a.bool},oe.defaultProps={isLoading:!1,isDisabled:!1};var ce=oe;function le(e){var t=e.count;return E.a.createElement("div",{className:G.a.separator},E.a.createElement("div",{className:G.a.separatorLine}),E.a.createElement("div",{className:"".concat(G.a.separatorValue," type--500")},!1!==t&&Object(S.a)("orgchart.direct_reports",{count:t})))}le.propTypes={count:C.a.oneOfType([C.a.number,C.a.bool])},le.defaultProps={count:!1};var se=le,ue=r(2658),de=r(178);function pe(e){var t,r=e.viewport,n=K()((t={},g()(t,G.a.item,!0),g()(t,G.a.itemLinear,"mobile"===r),t));return E.a.createElement("div",{className:n},"mobile"===e.viewport?E.a.createElement(ue.a,{isUser:!0}):E.a.createElement("div",{className:"UserCard"},E.a.createElement("div",{className:"UserCard-avatarContainer"},E.a.createElement(de.a,{isRound:!0,isImage:!0})),E.a.createElement("div",{className:"u-marg-t--small u-hideIfEmpty"},E.a.createElement("h2",{className:"u-marg-b--xsmall type--h5"},E.a.createElement(de.a,null)),E.a.createElement("div",{className:"type--b4"},E.a.createElement(de.a,{width:"82%"}),E.a.createElement(de.a,{width:"60%"}),E.a.createElement(de.a,{width:"65%"})))))}pe.displayName="Skeleton/OrgChartItem";var fe=pe;function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var he=function(e){u()(r,e);var t=me(r);function r(){return a()(this,r),t.apply(this,arguments)}return o()(r,[{key:"render",value:function(){var e=this.props.viewport;return E.a.createElement("div",{className:G.a.grid},E.a.createElement("ul",{className:"u-grid"},E.a.createElement("div",{className:"u-grid-item small-12 medium-4 large-1-5"},E.a.createElement(fe,{viewport:e}))))}}]),r}(w.b);he.propTypes={users:C.a.instanceOf(y.a.List).isRequired,onClick:C.a.func.isRequired,initialIndex:C.a.number.isRequired,isActiveUser:C.a.bool},he.defaultProps={isActiveUser:!1};var ge=he,ve=r(480),ye=r.n(ve),be=r(1027),Ce=r(67),Ie=r(56),Ee=r(158);function Oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var _e=function(e){u()(r,e);var t=Oe(r);function r(){var e;a()(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e=t.call.apply(t,[this].concat(i)),g()(l()(e),"flickity",null),g()(l()(e),"setActiveTier",(function(){e.props.activeTier.set(l()(e))})),g()(l()(e),"onClick",(function(t){var r=e.props.users.findIndex((function(e){return e&&e.getIn(["user","peopleId"])===t}));e.selectIndex(r)})),g()(l()(e),"setFlickity",(function(t){e.flickity=t&&t.getFlickity()})),g()(l()(e),"handleChange",ye()((function(t){(e.props.isActiveUser||e.props.activeTier.is(l()(e)))&&e.selectIndex(t)}),200)),g()(l()(e),"selectIndex",(function(t){e.props.onSelect(e.props.users.getIn([t,"user","peopleId"]))})),g()(l()(e),"createItem",(function(e,t){return E.a.createElement("div",{className:"".concat(G.a.sliderItem," small-12"),key:e},t)})),e}return o()(r,[{key:"componentDidUpdate",value:function(e){if(e.initialIndex!==this.props.initialIndex){var t=this.props.users.size<=1;this.flickity.select(this.props.initialIndex,!1,t)}}},{key:"render",value:function(){var e=this,t=this.props,r=t.users,n=t.initialIndex,a=t.isActiveUser,i=t.viewport,o=r.map((function(t,r){return e.createItem(t?t.getIn(["user","peopleId"]):"tempKey".concat(r),t&&E.a.createElement(te,{viewport:i,user:t.get("user"),isActiveUser:a&&r===n,childCount:t.get("childCount"),onClick:e.onClick}))}));0===o.size&&(o=new y.a.List([this.createItem("placeholder-slider",E.a.createElement(fe,{viewport:i}))]));var c={pageDots:!1,setGallerySize:!0,wrapAround:!1,cellAlign:"center",contain:!1,on:{change:this.handleChange,select:this.handleSelect,settle:function(){return Object(k.b)(Ce.nb)}},initialIndex:n,draggable:o.size>1&&Object(Ee.k)()};return E.a.createElement("div",{className:"u-grid u-textCenter u-overflowHidden",onClick:this.setActiveTier},E.a.createElement("div",{className:"u-grid-item small-10 medium-4 large-1-5"},E.a.createElement("ul",{className:G.a.slider},E.a.createElement(be.a,{ref:this.setFlickity,isWideScreen:!1,options:c},o.toArray()))))}}]),r}(w.b);g()(_e,"propTypes",{initialIndex:C.a.number,isActiveUser:C.a.bool,onSelect:C.a.func.isRequired,users:_.a.listOf(Ie.a.orgChartUser)}),g()(_e,"defaultProps",{users:new y.a.List,initialIndex:0,isActiveUser:!1});var we=_e,Ue=r(2868);function xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m()(e);if(t){var a=m()(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return p()(this,r)}}var ke=function(e){u()(r,e);var t=Se(r);function r(e){var n;return a()(this,r),n=t.call(this,e),g()(l()(n),"activeTier",{current:null,set:function(e){n.activeTier.current=e},is:function(e){return n.activeTier.current===e}}),g()(l()(n),"hasDoneInitialScrollCheck",!1),g()(l()(n),"selector",E.a.createRef()),g()(l()(n),"scrollToCard",(function(e){var t=document.querySelector('[data-orgchart-card="'.concat(e,'"]'));t&&!Object(F.b)(t,{mustBeCompletelyVisible:!0})&&Object(F.e)(t)})),g()(l()(n),"onPeopleSearchSelect",(function(e){e&&e!==n.props.peopleId&&(n.hasDoneInitialScrollCheck=!1,n.replaceHistoryState(e),n.props.clearUsers(),n.props.setInitialUser(e),Object(k.b)(Ce.ob,e))})),g()(l()(n),"setTierFocus",(function(e){if(e&&e!==n.props.peopleId){var t=Object(Ue.h)(n.props.tiers,e),r=n.props.users.get(e);n.selector.current&&n.selector.current.clear();var a=r.get("childCount")>0?t+1:t;n.props.setTierDepth(a),n.replaceHistoryState(e)}})),g()(l()(n),"replaceHistoryState",(function(e){n.props.history.replace({pathname:"/orgchart/".concat(e)})})),g()(l()(n),"loadUpperTier",(function(){var e=n.props.tiers.getIn([0,"peopleId"]);n.props.getParentAndGrandparent(e),n.props.setTierDepth(n.props.tierDepth+1),Object(k.b)(Ce.mb)})),g()(l()(n),"renderTiers",(function(){var e=n.props,t=e.tiers,r=e.childCount,a=e.viewport;return t.map((function(e,i){var o=!(0===r||e&&e.get("parentId")),c="";c=e?e.getIn(["users",0,"user","peopleId"]):o?"loading":"topTier";var l=e&&e.get("users")||new y.a.List,s=l&&l.get(0),u=0===i&&l&&1===l.size&&s&&!s.parent;if(!l.size)return E.a.createElement("div",{className:G.a.rowPlaceholder,key:c},E.a.createElement(ce,{isLoading:!0,isDisabled:!1}),E.a.createElement(we,{users:new y.a.List,initialIndex:0,isActiveUser:!1,viewport:a,activeTier:n.activeTier}),E.a.createElement(se,{viewport:a}));if(!e)return null;var d=l.some((function(e){return e&&e.childCount>0}));if(l.some((function(e){return!e})))return E.a.createElement(ge,{viewport:a});if(!d)return E.a.createElement(ae,{key:"children-".concat(e.get("peopleId")),users:e.get("users")||new y.a.List,initialIndex:e.get("activeUserIndex"),isActiveUser:e.get("isActiveUser"),onClick:n.setTierFocus,viewport:a,activeTier:n.activeTier});var p=i===t.size-1&&e.get("users").some((function(e){return e.childCount>0}))&&e.get("users").some((function(e){return 0===e.childCount})),f=i===t.size-1&&-1===e.get("activeUserIndex")&&-1!==e.get("focusUserIndex")?e.get("focusUserIndex"):e.get("activeUserIndex");return E.a.createElement(I.Fragment,{key:c},0===i&&E.a.createElement(ce,{onClick:n.loadUpperTier,isLoading:o,isDisabled:u}),E.a.createElement(we,{users:e.get("users"),initialIndex:f,isActiveUser:e.get("isActiveUser"),onSelect:n.setTierFocus,viewport:a,activeTier:n.activeTier}),i<t.size-1&&E.a.createElement(se,{viewport:a,count:e.getIn(["users",e.get("activeUserIndex"),"childCount"])||null}),p&&E.a.createElement("div",{className:G.a.spacer}))}))})),e.clearUsers(),n}return o()(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.peopleId,r=e.loaded,n=e.loading;this.props.setInitialUser(t),r||n||this.props.getAll(t)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.childCount,r=e.error,n=e.loaded,a=e.loading,i=e.parentId,o=e.peopleId,c=e.tierDepth,l=e.tiers,s=Object(Ue.h)(l,o)===c;a||n||r||0===t&&s||(s&&t>0&&this.props.getChildren(o),(!i||!s&&t>0)&&this.props.getAll(o),i&&!s&&0===t&&this.props.getParentAndGrandparent(o))}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.loaded,r=e.initialUserPeopleId;!this.hasDoneInitialScrollCheck&&t&&(this.hasDoneInitialScrollCheck=!0,this.scrollToCard(r))}},{key:"componentWillUnmount",value:function(){this.props.clearUsers(),this.props.setInitialUser(null)}},{key:"render",value:function(){var e=this.props,t=e.loading,r=e.tiers,n=e.name;return e.error?E.a.createElement(R.a,null):E.a.createElement(E.a.Fragment,null,E.a.createElement(A.a,null),E.a.createElement("div",{className:"row"},E.a.createElement(P.a,{name:"OrgChart",text:Object(S.a)("page_title.orgchart",{name:n})}),E.a.createElement("div",{className:"column"},t&&0===r.size?E.a.createElement(j.a,null):E.a.createElement("div",{className:"Page"},E.a.createElement(q,null,E.a.createElement("header",{className:"Page-header"},E.a.createElement("div",{className:"Page-header-inner"},E.a.createElement("h1",{className:"Page-heading type--h4"},Object(S.a)("orgchart.heading")),E.a.createElement("div",{className:"Page-searchContainer u-sm-hide"},E.a.createElement(M.a,{isCompact:!0,ref:this.selector,placeholder:Object(S.a)("orgchart.search"),onChange:this.onPeopleSearchSelect})))),E.a.createElement("div",{className:G.a.orgChart},this.renderTiers()))))))}}]),r}(w.b);g()(ke,"propTypes",{childCount:C.a.number.isRequired,error:C.a.bool,loaded:C.a.bool,loading:C.a.bool,name:C.a.string,parentId:C.a.string,peopleId:C.a.string,tierDepth:C.a.number.isRequired,tiers:_.a.list.isRequired,users:_.a.map.isRequired,clearUsers:C.a.func.isRequired,getAll:C.a.func.isRequired,getChildren:C.a.func.isRequired,getParentAndGrandparent:C.a.func.isRequired,setTierDepth:C.a.func.isRequired}),g()(ke,"defaultProps",{error:!1,isAnimating:!1,loaded:!1,loading:!1,name:"",peopleId:null,parentId:null});t.default=Object(U.connect)((function(e,t){var r=t.match.params.peopleId,n=(t.location.query||{}).childFocus,a=Object(Ue.g)(e,r),i=Object(Ue.a)(e);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(r),!0).forEach((function(t){g()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({initialUserPeopleId:Object(Ue.b)(e),childCount:a.get("childCount")||0,error:a.get("error")||!1,loaded:a.get("loaded")||!1,loading:Object(Ue.i)(e),name:a.getIn(["user","name"]),parentId:a.get("parent")||null,peopleId:r,tierDepth:i,tiers:Object(Ue.f)(e,r,i,n),users:Object(Ue.d)(e),viewport:Object(B.a)(e)},t)}),{clearUsers:V.a,getAll:V.b,getChildren:V.c,getParentAndGrandparent:V.d,setTierDepth:V.f,setInitialUser:V.e})(Object(T.a)(Object(x.k)(ke)))}}]);