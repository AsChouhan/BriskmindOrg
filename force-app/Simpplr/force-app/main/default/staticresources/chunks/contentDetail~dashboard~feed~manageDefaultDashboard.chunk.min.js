(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1796:function(e,t,n){"use strict";var o=n(0),i=n.n(o),r=n(1),a=n.n(r),c=n(10),l=n.n(c),u=n(15),s=n(717);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var p=function(e){return i.a.createElement(s.a,d({},e,{type:"checkbox"}))};function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function m(e){var t=e.label,n=e.icon,o=e.hasBorder,r=e.isHorizontal,a=e.note,c=e.isDisabled,s=e.isVisuallyDisabled,d=e.hasLegacyIcon,m=e.hasLargeIcon,y=e.hasDarkIcon,b=e.id||e.input.id||e.input.name.replace(/([^a-zA-Z0-9]+)/g,"_"),h=l()({IconToggle:!0,"is-disabled":c&&s,"IconToggle--hasBorder":o,"IconToggle--horizontal":r,"IconToggle--hasNote":a,"IconToggle--large":m,"IconToggle--darkIcon":y});return i.a.createElement("div",{className:h},i.a.createElement(p,f({},e,{id:b,hasIcon:!0})),i.a.createElement("div",{className:"IconToggle-iconContainer IconToggle-iconContainer--".concat(n)},i.a.createElement(u.a,{isLegacy:d,name:n})),i.a.createElement("label",{htmlFor:b,className:"IconToggle-label"},t),a&&i.a.createElement("span",{className:"IconToggle-note"},a))}m.propTypes={isVisuallyDisabled:a.a.bool,hasLegacyIcon:a.a.bool,hasLargeIcon:a.a.bool},m.defaultProps={isVisuallyDisabled:!0,hasLegacyIcon:!0,hasLargeIcon:!1};t.a=m},1797:function(e,t,n){"use strict";(function(e){n.d(t,"d",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"a",function(){return y}),n.d(t,"b",function(){return b}),n.d(t,"f",function(){return h}),n.d(t,"c",function(){return v}),n.d(t,"i",function(){return I}),n.d(t,"h",function(){return A}),n.d(t,"g",function(){return L});var o=n(2),i=n.n(o),r=n(59),a=n(7),c=(n(1810),n(456)),l=n(18),u=n(95),s=n(144),d=n(4);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,i=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(o=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);o=!0);}catch(e){i=!0,r=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw r}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(e){return Array.isArray(e)||i.a.Iterable.isIterable(e)?{type:r.ALBUM_MEDIA_SET_MULTIPLE,payload:{albumMedia:e}}:function(e){return{type:r.ALBUM_MEDIA_SET,payload:{id:e.id,result:e}}}(e)}function m(e,t){return{type:r.ALBUM_MEDIA_SET_COVER,payload:{albumMediaId:e,otherMediaIds:t}}}function y(t,n,o,i){return function(d){var f=n.map(function(e){var n="_tempfile".concat(Object(u.a)());return d({type:r.ALBUM_MEDIA_IMAGE_UPLOAD_START,payload:{id:n,contentId:t}}),[n,e]});o(f);var m=f.map(function(n){var o=p(n,2),u=o[0],f=o[1];return new Promise(function(n,o){Object(s.h)(f,1600).then(function(p){d({type:r.ALBUM_MEDIA_IMAGE_SET_TEMP_THUMBNAIL,payload:{id:u,contentId:t,thumbnailImgLocal:p}});var m=Object(s.c)(f,p);e.Simpplr.Salesforce.Album.uploadPhoto(t,m).progress(function(e){d({type:r.ALBUM_MEDIA_IMAGE_UPLOAD_PROGRESS,payload:{id:u,percentage:e}})}).done(function(e){d({type:r.ALBUM_MEDIA_IMAGE_UPLOAD_SUCCESS,payload:{id:e.result.id,oldId:u,result:e.result}}),i(u,e.result.id),d(Object(c.i)(t)),n()}).fail(function(e){var n=Object(l.a)(e);d(Object(a.g)(n)),d({type:r.ALBUM_MEDIA_IMAGE_UPLOAD_FAIL,payload:{contentId:t,id:u,error:n}}),o()})})})});return Promise.all(m)}}function b(t,n,o,i){return function(s){var d="_tempfile".concat(Object(u.a)());s({type:r.ALBUM_MEDIA_VIDEO_UPLOAD_START,payload:{id:d,contentId:t}}),o([[d,n]]),e.Simpplr.Loader.show(),n.getThumb().then(function(e){s({type:r.ALBUM_MEDIA_IMAGE_SET_TEMP_THUMBNAIL,payload:{id:d,contentId:t,thumbnailImgLocal:e}})});var p={provider:n.provider,id:n.id,url:n.url,thumbnailImg:n.thumbnailImg||null,title:n.title||null};return e.Simpplr.Salesforce.Album.addVideo(t,p).done(function(e){s({type:r.ALBUM_MEDIA_VIDEO_UPLOAD_SUCCESS,payload:{id:e.result.id,oldId:d,result:e.result}}),i(d,e.result.id),s(Object(c.j)(t))}).fail(function(e){var n=Object(l.a)(e);s(Object(a.g)(n)),s({type:r.ALBUM_MEDIA_VIDEO_UPLOAD_FAIL,payload:{contentId:t,id:d,error:n}})}).always(e.Simpplr.Loader.hide)}}function h(e){var t={descriptions:e};return{type:r.ALBUM_MEDIA_SET_DESCRIPTIONS,payload:t}}function g(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(o){var i="ALBUM_MEDIA_".concat(n?"":"UN","LIKE");o({type:r["".concat(i,"_START")],id:t}),e.Simpplr.Loader.show(),e.Simpplr.Salesforce.Album.setMediaLiked(t,!!n).done(function(){o({type:r["".concat(i,"_SUCCESS")],id:t})}).fail(function(e){var n=Object(l.a)(e);o(Object(a.g)(n)),o({type:r["".concat(i,"_FAIL")],id:t,error:n})}).always(e.Simpplr.Loader.hide)}}function v(e){return g(e,!0)}function I(e){return g(e,!1)}function A(t,n){return function(o){var i={albumId:t,ids:n};return e.Simpplr.Loader.show(),o({type:r.ALBUM_MEDIA_SUBMIT_START,payload:i}),e.Simpplr.Salesforce.Album.submitMedia(t,n).done(function(){o({type:r.ALBUM_MEDIA_SUBMIT_SUCCESS,payload:i})}).fail(function(e){var i=Object(l.a)(e);o(Object(a.g)(i)),o({type:r.ALBUM_MEDIA_SUBMIT_FAIL,payload:{albumId:t,ids:n,error:i}})}).always(e.Simpplr.Loader.hide)}}function L(t,n){return function(t){return e.Simpplr.Loader.show(),e.Simpplr.Salesforce.Content.share(n.toJS()).fail(function(){t(Object(a.g)(Object(d.a)("common.error_message")))}).always(e.Simpplr.Loader.hide)}}}).call(this,n(16))},1803:function(e,t,n){"use strict";var o=n(0),i=n.n(o),r=n(1),a=n.n(r),c=n(13),l=n(2),u=n.n(l),s=n(1810);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),f(this,m(t).apply(this,arguments))}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentWillMount",value:function(){this.props.load(),this.props.isFullyLoaded&&this.props.onLoad(this.props.items)}},{key:"componentWillReceiveProps",value:function(e){!this.props.isFullyLoaded&&e.isFullyLoaded&&this.props.onLoad(e.items)}},{key:"componentDidUpdate",value:function(e){0===e.total&&this.props.total>0&&!this.props.isFullyLoaded&&this.props.load()}},{key:"render",value:function(){return this.props.children({items:this.props.items,allItems:this.props.allItems,total:this.props.total,isLoading:this.props.isLoading,isFullyLoaded:this.props.isFullyLoaded,isFullyRequested:this.props.isFullyRequested,isAnyLoaded:this.props.isAnyLoaded,loadNext:this.loadNext,loadPrev:this.loadPrev})}}])&&p(n.prototype,o),r&&p(n,r),t}();b.propTypes={albumId:a.a.string.isRequired,listingId:a.a.string,children:a.a.func.isRequired,isAddingToOpenAlbum:a.a.bool,onLoad:a.a.func},b.defaultProps={isAddingToOpenAlbum:!1,onLoad:function(){}},t.a=Object(c.connect)(function(e,t){var n=t.listingId||t.albumId,o=!1,i=!1,r=e.getIn(["albumListings",t.listingId,"total"])||t.total,a=e.getIn(["albumListings",n,"items"],new u.a.List),c=!0,l=a.map(function(t){return t.get("loading")&&(o=!0),t.get("loaded")&&(i=!0),t.get("loaded")||t.get("loading")||(c=!1),t.get("albumMediaId")?t.set("result",e.getIn(["albumMedia",t.get("albumMediaId"),"result"])):t}),s=l.filter(function(e){return!!e.get("result")});return{listingId:n,items:s,allItems:l,isLoading:o,isFullyLoaded:s.size===r,isFullyRequested:c,isAnyLoaded:i,total:r}},function(e,t){return{load:function(){return t.isAddingToOpenAlbum?e(Object(s.c)(t.listingId,t.albumId,!0)):t.total>0?e(Object(s.d)(t.listingId||t.albumId,t.albumId)):void 0}}})(b)},1810:function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"a",function(){return s}),n.d(t,"e",function(){return d}),n.d(t,"d",function(){return p});var o=n(147),i=n(1797),r=n(18),a=n(7);function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:o.e,payload:{listingId:e,albumId:t,isOpen:n}}}function l(e){return{type:o.d,payload:{listingId:e}}}function u(e,t){var n=Array.isArray(t)?t:[t];return{type:o.h,payload:{listingId:e,toRemove:n}}}function s(e,t){var n=Array.isArray(t)?t:[t];return{type:o.a,payload:{listingId:e,toAppend:n}}}function d(e,t){var n=Array.isArray(t)?t:[t];return{type:o.g,payload:{listingId:e,toPrepend:n}}}function p(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(l,u){u().getIn(["albumListings",t])&&!o||(l(c(t,n)),e.Simpplr.Loader.show(),e.Simpplr.Salesforce.Album.getMedia({id:n}).done(function(e){l(Object(i.d)(e.result.listOfItems)),l(s(t,e.result.listOfItems.map(function(e){return e.id})))}).fail(function(e){l(Object(a.g)(Object(r.a)(e)))}).always(e.Simpplr.Loader.hide))}}}).call(this,n(16))},1811:function(e,t,n){"use strict";var o=n(0),i=n.n(o),r=n(1),a=n.n(r),c=n(10),l=n.n(c),u=n(4),s=n(15);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(i=f(t).call(this,e))||"object"!==d(i)&&"function"!=typeof i?y(o):i).onClick=n.onClick.bind(y(y(n))),n.like=n.like.bind(y(y(n))),n.unlike=n.unlike.bind(y(y(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,i.a.Component),n=t,(o=[{key:"shouldComponentUpdate",value:function(e){return this.props.isLiked!==e.isLiked||this.props.context!==e.context||this.props.onLike!==e.onLike||this.props.onUnlike!==e.onUnlike}},{key:"onClick",value:function(){return this.props.isLiked?this.unlike():this.like()}},{key:"like",value:function(){this.props.onLike()}},{key:"unlike",value:function(){this.props.onUnlike()}},{key:"render",value:function(){var e=this.props,t=e.isLiked,n=e.context,o=e.isLegacy,r=e.children,a=l()({Like:!0,"is-liked":t}),c=Object(u.a)("common.".concat(t?"unlike":"like","_this_noun"),{noun:Object(u.a)("common.".concat(n))});return"function"==typeof r?r(t,this.onClick):i.a.createElement("button",{type:"button",className:a,title:c,onClick:this.onClick},i.a.createElement("div",{className:"Like-target"}),i.a.createElement(s.a,{isLegacy:o,name:"like"}))}}])&&p(n.prototype,o),r&&p(n,r),t}();b.propTypes={isLiked:a.a.bool.isRequired,context:a.a.oneOf(["user","site","person","content","file","post","image","video","reply"]).isRequired,onLike:a.a.func,onUnlike:a.a.func,isLegacy:a.a.bool,children:a.a.func},b.defaultProps={isLegacy:!1},t.a=b},1846:function(e,t,n){"use strict";var o=n(0),i=n.n(o),r=n(1),a=n.n(r),c=n(13),l=n(2),u=n.n(l),s=n(62),d=n(1325),p=n(4),f=n(112),m=n(1241),y=n(164),b=n(92);function h(e){var t=e.createdAt,n=e.user;return i.a.createElement("div",{className:"Meta Meta--white"},n&&i.a.createElement("div",{className:"Meta-thumb"},i.a.createElement(f.a,n.toJS())),n&&i.a.createElement(y.a,{hasNoBottom:!0},i.a.createElement(b.a,null,i.a.createElement("span",{className:"type--b3"},Object(p.a)("common.added_by_author",{authoredBy:i.a.createElement("a",{className:"type--white",href:n.get("url")},n.get("name"))})))),i.a.createElement(m.a,{input:t,isWhite:!0}))}h.propTypes={createdAt:a.a.string.isRequired,user:a.a.object.isRequired};var g=h,v=n(1877),I=n(102),A=n(1372);function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var k=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(i=_(t).call(this,e))||"object"!==L(i)&&"function"!=typeof i?S(o):i).direction=0,n.flickity=null,n.move=n.move.bind(S(S(n))),n.close=n.close.bind(S(S(n))),n.getCurrentIndex=n.getCurrentIndex.bind(S(S(n))),n.handleFlickitySwipe=n.handleFlickitySwipe.bind(S(S(n))),n.checkMediaAvailable=n.checkMediaAvailable.bind(S(S(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(t,i.a.Component),n=t,(o=[{key:"componentDidMount",value:function(){this.checkMediaAvailable()}},{key:"componentDidUpdate",value:function(e){e.isFullyLoaded||this.checkMediaAvailable()}},{key:"move",value:function(e){this.direction=e;var t=this.getCurrentIndex()+e;t<0?t=this.props.items.size-1:t>=this.props.items.size&&(t=0);var n=this.props.items.get(t);this.props.onMove(t,n)}},{key:"close",value:function(){this.props.onClose()}},{key:"handleFlickitySwipe",value:function(e){var t=this.props.items.get(e);this.props.onMove(e,t)}},{key:"getCurrentIndex",value:function(){var e=this;return this.props.items.findIndex(function(t){return t.get("albumMediaId")===e.props.albumMediaId})}},{key:"checkMediaAvailable",value:function(){this.props.isFullyLoaded&&(-1!==this.getCurrentIndex()||this.props.onNotFound())}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.allItems,o=e.isAnyLoaded,r=e.canShare,a=e.showLinkToAlbum,c=this.getCurrentIndex();if(!o||c<0)return i.a.createElement(d.a,{onClose:this.close});var l=n.get(c).get("result",new u.a.Map),s=l.size>0,p=(a||t.get("isOpenToSubmissions")&&l.get("authoredBy"))&&i.a.createElement("div",null,i.a.createElement(g,{user:l.get("authoredBy"),createdAt:l.get("createdAt")}),a&&i.a.createElement("div",{className:"Gallery-meta-albumName"},i.a.createElement(I.a,{color:"white",hasLegacyIcon:!0,hasCurrentColorIcon:!0,icon:"camera",url:t.get("url")},t.get("title")))),f=t.get("isPublished")&&s&&i.a.createElement(v.a,{albumMedia:l,content:t,openModal:this.props.openModal,canShare:r}),m=n.map(function(e){return e.get("result")}),y=i.a.createElement(A.a,{items:m,currentIndex:c,onChange:this.handleFlickitySwipe});return i.a.createElement(d.a,{slides:y,position:c+1,total:t.get("mediaCount")||0,onClose:this.close,onMove:this.move,meta:p,actionBar:f||void 0,description:l.get("description"),isVideo:l.get("isVideo")})}}])&&O(n.prototype,o),r&&O(n,r),t}();k.propTypes={content:a.a.instanceOf(u.a.Map).isRequired,onMove:a.a.func,onClose:a.a.func.isRequired,onLoad:a.a.func,canShare:a.a.bool,showLinkToAlbum:a.a.bool,albumMediaId:a.a.string,onNotFound:a.a.func},k.defaultProps={canShare:!1,showLinkToAlbum:!1,onNotFound:function(){}};t.a=Object(c.connect)(null,function(e){return{openModal:function(t,n){return e(Object(s.c)(t,n))}}})(k)},1877:function(e,t,n){"use strict";(function(e){var o=n(0),i=n.n(o),r=n(1),a=n.n(r),c=n(10),l=n.n(c),u=n(35),s=n(4),d=n(15),p=n(1878),f=n(1924);function m(t){var n=t.albumMedia,o=t.content,r=t.isRightAligned,a=t.openModal,c=t.canShare;if(!o.get("isPublished"))return null;var m=!n.get("isVideo")&&n.get("downloadUrl"),y=l()({Action:!0,"Action--media":!0,"Action--content":r});return i.a.createElement("div",{className:y},i.a.createElement("div",{className:"Action-item Action-item--like"},i.a.createElement(p.a,{id:n.get("id"),isLiked:n.get("isLiked"),context:n.get("isVideo")?"video":"image"}),n.get("likeCount")>0&&i.a.createElement("div",{className:"Action-count Action-count--like"},n.get("likeCount"))),c&&e.Simpplr.Settings.FEED_ENABLED&&i.a.createElement("div",{className:"Action-item Action-item--action"},i.a.createElement("button",{title:Object(s.a)("common.share_this_noun",{noun:Object(s.a)("common.image")}),type:"button",className:"Action-iconContainer Action-iconContainer--action",key:n.get("id"),onClick:function(){return a(u.c,n.get("id"))}},i.a.createElement(d.a,{isLegacy:!0,name:"action"})),i.a.createElement(f.a,{content:o,albumMedia:n})),m&&i.a.createElement("div",{className:"Action-item Action-item--download"},i.a.createElement("a",{title:Object(s.a)("common.download_this_noun",{noun:Object(s.a)("common.image")}),href:m,className:"Action-iconContainer Action-iconContainer--download"},i.a.createElement(d.a,{isLegacy:!0,name:"download"}))))}m.propTypes={canShare:a.a.bool},t.a=m}).call(this,n(16))},1878:function(e,t,n){"use strict";var o=n(0),i=n.n(o),r=n(1),a=n.n(r),c=n(13),l=n(1797),u=n(1811);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var y=function(e){function t(e){var n,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,(n=!(i=p(t).call(this,e))||"object"!==s(i)&&"function"!=typeof i?m(o):i).like=n.like.bind(m(m(n))),n.unlike=n.unlike.bind(m(m(n))),n}var n,o,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,i.a.Component),n=t,(o=[{key:"shouldComponentUpdate",value:function(e){return e.isLiked!==this.props.isLiked||e.id!==this.props.id}},{key:"like",value:function(){this.props.dispatch(Object(l.c)(this.props.id))}},{key:"unlike",value:function(){this.props.dispatch(Object(l.i)(this.props.id))}},{key:"render",value:function(){return i.a.createElement(u.a,{isLegacy:!0,hasTooltip:!0,context:this.props.context,isLiked:this.props.isLiked,onLike:this.like,onUnlike:this.unlike,id:this.props.id})}}])&&d(n.prototype,o),r&&d(n,r),t}();y.propTypes={id:a.a.string.isRequired,isLiked:a.a.bool.isRequired,context:a.a.string.isRequired},t.a=Object(c.connect)()(y)},1924:function(e,t,n){"use strict";var o=n(0),i=n.n(o),r=n(1),a=n.n(r),c=n(13),l=n(2),u=n.n(l),s=n(7),d=n(1797),p=n(35),f=n(221),m=n(4),y=n(1271);function b(e){var t=e.albumMedia,n=e.title,o=t.toJS(),r=o.img,a=o.isVideo,c=o.videoProvider,l=o.videoId,u=o.url;return i.a.createElement("div",{className:"FileSingle u-marg-b--small"},a?i.a.createElement("div",{className:"FileSingle-video"},i.a.createElement(y.a,{provider:c,id:l,url:u})):i.a.createElement("div",{className:"FileSingle-imageContainer"},i.a.createElement("img",{className:"FileSingle-image FileSingle-image--small",src:r,alt:""})),i.a.createElement("div",{className:"u-pad-t--xsmall u-textLeft"},i.a.createElement("span",{className:"type--tertiary"},Object(m.a)("common.shared_from_location",{location:n}))))}b.propTypes={title:a.a.string};var h=b,g=n(249),v=n(1269);function I(e){var t=e.content,n=e.albumMedia,o=e.onShare,r="public"===t.getIn(["site","access"]);return i.a.createElement(v.a,{name:p.c,id:n.get("id"),type:r?"news":"record",subjectId:r?"me":t.getIn(["site","chatterGroupId"]),typeLabel:n.get("isVideo")?"Video":"Photo",url:"".concat(t.get("url"),"/gallery/").concat(n.get("id")),urlName:n.get("description")||t.get("title"),onShare:o},i.a.createElement("div",{className:"u-pad--medium u-pad-b--none"},i.a.createElement(h,{albumMedia:n,title:t.get("title")})))}I.propTypes={content:a.a.instanceOf(u.a.Map).isRequired,albumMedia:a.a.instanceOf(u.a.Map)};t.a=Object(c.connect)(null,function(e,t){return{onShare:function(n){var o=n.merge({body:Object(g.a)(n.get("body")),contentId:t.content.get("id"),albumMediaId:t.albumMedia.get("id")});return Object(g.b)(o.get("body"))>f.e?e(Object(s.g)(Object(m.a)("feed.create.too_many_mentions"))):e(Object(d.g)(t.albumMedia.get("id"),o)).then(function(){var n=t.albumMedia.get("isVideo")?"video":"image";e(Object(s.k)("Shared ".concat(n," successfully")))})}}})(I)},55:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return l});var o=n(0),i=n.n(o);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,t),o=e*n;return Math.round(o)/n}function a(e){return"number"!=typeof e||Number.isNaN(e)||!1===Number.isFinite(e)?0:e}function c(e){var t=parseInt(e,10);return!Number.isNaN(t)||t||0===t?t.toLocaleString(document.documentElement.lang):null}function l(e,t){if(!t)return c(e);if(e||0===e){var n=function(e,t){if(!t)return c(e);if(e||0===e){var n=e?Math.round(e/t*100):0;return["(".concat(c(e),")"),"".concat(n,"%")]}return null}(e,t);return i.a.createElement("span",null,n[0]," ",i.a.createElement("strong",null,n[1]))}return null}}}]);