(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{1001:function(e,t,n){"use strict";var a=n(5),r=n.n(a),s=n(15),o=n.n(s),l=n(1),i=n.n(l),c=n(0),u=n.n(c);function m(e){var t,n=e.children,a=e.title,s=e.icon,l=e.type,i=e.size,c=e.hasContentStyles,m=e.isContentValidationBox,p=e.button,d=o()((t={InfoBox:!0,"InfoBox--small":"small"===i,"InfoBox--medium":"medium"===i,"InfoBox--large":"large"===i,"theme--before--bg":!l,"theme--after--border":!l},r()(t,"InfoBox--".concat(l),l),r()(t,"isContentValidationBox",m),r()(t,"u-displayFlex",!0),t)),g=o()({"InfoBox-inner":!0,"u-flex-1":!0,"u-pad-l--xxlarge":!!s,Content:c,"Content--small":c}),f=o()({"InfoBox-heading":!0,"type--h6":!0,"u-marg-b--xsmall":!0,"type--500":!0});return u.a.createElement("div",{className:d},u.a.createElement("div",{className:g},a&&u.a.createElement("h3",{className:f},a),s&&u.a.createElement("div",{className:"InfoBox-icon"},s),n),p&&u.a.createElement("div",{className:"InfoBox-button"},p))}m.propTypes={title:i.a.string,icon:i.a.node,type:i.a.oneOf(["brand","positive","negative","warning","neutral"]),size:i.a.oneOf(["small","medium","large"]),hasContentStyles:i.a.bool,isContentValidationBox:i.a.bool,button:i.a.node,children:i.a.element},m.defaultProps={size:"medium",hasContentStyles:!0,isContentValidationBox:!1},t.a=m},198:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(10),r=n.n(a),s=n(11),o=n.n(s),l=n(12),i=n.n(l),c=n(13),u=n.n(c),m=n(8),p=n.n(m),d=n(5),g=n.n(d),f=n(1),h=n.n(f),b=n(0),v=n.n(b),y=n(125),S=n(3);function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}var x=function(e){i()(n,e);var t=E(n);function n(){return r()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.url;return v.a.createElement("a",{className:"DownloadLink",href:n,onClick:this.props.onClick},v.a.createElement(y.a,{icon:"download",color:"brand",label:t||Object(S.a)("common.download_csv"),hasCurrentColorIcon:!0}))}}]),n}(v.a.PureComponent);g()(x,"propTypes",{label:h.a.string,url:h.a.string.isRequired,onClick:h.a.func}),g()(x,"defaultProps",{onClick:function(){}})},381:function(e,t,n){"use strict";var a=n(1),r=n.n(a),s=n(0),o=n.n(s),l=n(69),i=n.n(l),c=n(151),u=n(66),m=n(32);function p(e){var t=e.name,n=e.item,a=e.children,r=e.width,s=e.textAlign,l=e.hasExtraPadding,i=e.hasSmallPadding,p=e.hasTextTruncate,d=e.formatAs,g=e.whiteSpaceNormal,f=null;if(a)f=a(n);else{var h=Array.isArray(t)?t:t.split(".");f=n.getIn(h),"date"===d?f=Object(m.e)(f,Object(m.o)(u.b)):"dateTime"===d&&(f=Object(m.e)(f,Object(m.o)(u.g)))}return o.a.createElement(c.a,{width:r,textAlign:s,hasExtraPadding:l,hasSmallPadding:i,hasTextTruncate:p,whiteSpaceNormal:g},f)}p.propTypes={width:r.a.oneOfType([r.a.string,r.a.number]),name:r.a.string,children:r.a.func,item:r.a.oneOfType([i.a.iterable,r.a.shape({})]),textAlign:c.a.propTypes.textAlign,hasExtraPadding:c.a.propTypes.hasExtraPadding,whiteSpaceNormal:c.a.propTypes.whiteSpaceNormal,hasSmallPadding:c.a.propTypes.hasSmallPadding,hasTextTruncate:c.a.propTypes.hasTextTruncate,formatAs:r.a.oneOf(["date","dateTime"])},p.defaultProps={width:null},t.a=p},4067:function(e,t,n){"use strict";n.r(t);var a=n(31),r=n.n(a),s=n(10),o=n.n(s),l=n(11),i=n.n(l),c=n(7),u=n.n(c),m=n(12),p=n.n(m),d=n(13),g=n.n(d),f=n(8),h=n.n(f),b=n(5),v=n.n(b),y=n(4),S=n.n(y),E=n(1),x=n.n(E),I=n(0),A=n.n(I),O=n(69),N=n.n(O),P=n(81),w=n(18),R=n(121),C=n(1011),T=n(1013),k=n(190),j=n(3044),B=n(215),M=n(147),D=n(274),L=n(849),_=n(380),F=n(655),q=n(1997),V=n(409),z=n(50),U=n(204),J=n(169),W=n(30),G=n(120),H=n(17),K=n(3);function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=h()(e);if(t){var r=h()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g()(this,n)}}var X=function(e){p()(n,e);var t=Q(n);function n(){var e;o()(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r)),v()(u()(e),"onSegmentChange",(function(t){e.props.history.push("/subscriptions/".concat(t))})),e}return i()(n,[{key:"componentDidMount",value:function(){this.loadSegment(),this.props.userSegmentId&&this.props.match.params.segmentId!==this.props.userSegmentId&&this.props.loadSegment(this.props.userSegmentId),this.props.isAppManager&&this.props.isSegmentsEnabled&&this.props.loadAllSegments()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.match.params.segmentId!==e.match.params.segmentId&&this.loadSegment(e)}},{key:"loadSegment",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;!e.match.params.segmentId||e.loaded||e.loading||e.loadSegment(e.match.params.segmentId)}},{key:"render",value:function(){var e=this.props,t=e.loaded,n=e.loading,a=e.segment,s=e.allSegments,o=e.isAppManager,l=e.isSegmentsEnabled,i=e.canManageSegment,c=e.isManagingSegments,u=e.userSegmentId,m=e.userSegmentName,p=e.match.params.segmentId;if(!o&&!i)return A.a.createElement(q.a,null);if(!o&&p&&p!==u)return A.a.createElement(q.a,null);if(p&&!n&&!a)return A.a.createElement(V.a,null);var d=Object(K.a)("page_title.subscriptions"),g=s.map((function(e){return{value:e.segmentId,label:e.name}})).unshift({value:z.q,label:Object(K.a)("all_segments.label_full")}).toArray(),f=!o&&l;return A.a.createElement("div",{className:"row"},A.a.createElement("div",{className:"column"},A.a.createElement("div",{className:"Page"},t?A.a.createElement(A.a.Fragment,null,A.a.createElement(k.a,{name:"SegmentsSubscriptions",text:d}),A.a.createElement("div",{className:"Page-header ".concat(f&&"Page-header--noBorder")},A.a.createElement("div",{className:"Page-header-inner"},A.a.createElement("h1",{className:"Page-heading type--h4"},d),A.a.createElement(T.a,{name:"subscriptions",popperPosition:"right-start",position:{top:-15,left:112,right:"auto"}}))),f&&A.a.createElement("div",{className:"u-marg-b--large"},A.a.createElement(D.a,{isPadded:!1},A.a.createElement(M.a,{label:m,to:"/subscriptions/".concat(u)}),A.a.createElement(M.a,{label:Object(K.a)("all_segments.label_full"),to:"/subscriptions/org"}))),A.a.createElement(j.a,{segment:a,key:a&&a.segmentId||"allSegments"},o&&l&&A.a.createElement("div",{className:"u-floatLeft u-neg-t--small u-marg-b--xlarge",style:{minWidth:"310px"}},A.a.createElement(_.a,{label:Object(K.a)("manage_app.segments.segment"),icon:"navigatedown",isStaticLabel:!0},A.a.createElement(L.a,{component:F.a,name:"segment",value:p||z.q,options:r()(g.map((function(e){return{value:e.value,label:e.label}}))),onChange:this.onSegmentChange,isDisabled:c,isStaticLabel:!0}))))):A.a.createElement(B.a,null))))}}]),n}(P.b);v()(X,"defaultProps",{loading:!1,loaded:!1,isAppManager:!1,isSegmentsEnabled:!1,isManagingSegments:!1}),v()(X,"propTypes",{loading:x.a.bool,loaded:x.a.bool,segment:x.a.instanceOf(U.a),allSegments:N.a.listOf(x.a.instanceOf(U.a)),isAppManager:x.a.bool,userSegmentId:x.a.string,isSegmentsEnabled:x.a.bool,isManagingSegments:x.a.bool}),t.default=Object(w.connect)((function(e,t){var n=t.match.params.segmentId,a=Object(W.getCurrentUserSegmentId)(e),r=n?Object(G.d)(e,n)||new S.a.Map:null;return{loading:!!r&&r.get("loading"),loaded:!r||r.get("loaded"),segment:r?r.get("result"):null,allSegments:Object(G.e)(e),isAppManager:Object(W.isCurrentUserAppManager)(e),canManageSegment:Object(G.a)(e),userSegmentId:a,userSegmentName:a&&(Object(G.c)(e,a)||{}).name||null,isSegmentsEnabled:Object(H.V)(e),isManagingSegments:Object(J.f)(e)}}),{loadSegment:C.b,loadAllSegments:C.c,setCurrentSegmentId:R.c})(X)},972:function(e,t,n){"use strict";var a=n(10),r=n.n(a),s=n(11),o=n.n(s),l=n(12),i=n.n(l),c=n(13),u=n.n(c),m=n(8),p=n.n(m),d=n(4),g=n.n(d),f=n(1),h=n.n(f),b=n(0),v=n.n(b),y=n(69),S=n.n(y),E=n(81),x=n(151),I=n(267),A=n(285);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=p()(e);if(t){var r=p()(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return u()(this,n)}}var N=function(e,t){return e.get?e.get(t):e[t]},P=function(e){i()(n,e);var t=O(n);function n(){return r()(this,n),t.apply(this,arguments)}return o()(n,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.children,a=e.hasNoLastBorder,r=e.isFontInherit,s=e.hAlignment,o=e.vAlignment,l=e.noResultMessage,i=e.keyName,c=v.a.Children.toArray(n).filter((function(e){return!!e})),u=v.a.createElement(I.a,null,c.map((function(e,t){return v.a.createElement(x.a,{key:e.props.name||e.props.label||t,width:e.props.width,textAlign:e.props.textAlign,hasExtraPadding:e.props.hasExtraPadding},e.props.label)})));return v.a.createElement(A.a,{header:u,hasNoLastBorder:a,isFontInherit:r,hAlignment:s,vAlignment:o,noResultMessage:l},t.map((function(e,t){return v.a.createElement(I.a,{key:i?N(e,i):t,testId:"dataGridRow"},c.map((function(t,n){return v.a.cloneElement(t,{item:e,key:t.props.name||t.props.label||n})})))})))}}]),n}(E.b);P.propTypes={children:h.a.node.isRequired,data:h.a.oneOfType([S.a.list,h.a.arrayOf(h.a.shape({}))]),hasNoLastBorder:h.a.bool,isFontInherit:h.a.bool,hAlignment:h.a.oneOf(["left","center","right"]),vAlignment:h.a.oneOf(["top","bottom","middle"]),noResultMessage:h.a.string,keyName:h.a.string.isRequired},P.defaultProps={data:new g.a.List,hasNoLastBorder:!1,isFontInherit:!1,hAlignment:"left",vAlignment:"top",noResultMessage:""},t.a=P}}]);