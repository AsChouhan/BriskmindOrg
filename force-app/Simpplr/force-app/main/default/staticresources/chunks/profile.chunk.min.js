(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{2582:function(e,t,a){e.exports={definitionList:"DefinitionList-module-definitionList___3BZ_6",title:"DefinitionList-module-title___2Pqwr",content:"DefinitionList-module-content___3au59",seperator:"DefinitionList-module-seperator___5WWW5","seperator--dashed":"DefinitionList-module-seperator--dashed___23ZZb",split:"DefinitionList-module-split___3wNvj",squashed:"DefinitionList-module-squashed___1ksg3",stacked:"DefinitionList-module-stacked___3amYU",lined:"DefinitionList-module-lined____K3g9",item:"DefinitionList-module-item___2-bQd",stackedBorder:"DefinitionList-module-stackedBorder___2w8TJ"}},2583:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var r=a(10),n=a.n(r),o=a(11),i=a.n(o),l=a(12),s=a.n(l),c=a(13),u=a.n(c),p=a(8),m=a.n(p),d=a(5),f=a.n(d),g=a(15),v=a.n(g),b=a(1),h=a.n(b),E=a(0),y=a.n(E),C=a(1004),O=a(2582),I=a.n(O);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m()(e);if(t){var n=m()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return u()(this,a)}}var j=function(e){s()(a,e);var t=w(a);function a(){return n()(this,a),t.apply(this,arguments)}return i()(a,[{key:"render",value:function(){var e,t=this.props,a=t.title,r=t.children,n=t.isBlock,o=t.isHtml,i=t.whiteSpaceNormal,l=v()((e={},f()(e,I.a.item,!0),f()(e,"u-whiteSpaceNormal",i),e));if(!r)return null;var s=o&&"string"==typeof r?y.a.createElement("dd",{className:I.a.content,dangerouslySetInnerHTML:{__html:Object(C.a)(r)}}):y.a.createElement("dd",{className:I.a.content},r),c=y.a.createElement(y.a.Fragment,null,y.a.createElement("dt",{className:I.a.title},a),s);return n?y.a.createElement("div",{className:l},c):c}}]),a}(y.a.PureComponent);f()(j,"propTypes",{title:h.a.node.isRequired,children:h.a.node,isBlock:h.a.bool,isHtml:h.a.bool,whiteSpaceNormal:h.a.bool}),f()(j,"defaultProps",{whiteSpaceNormal:h.a.bool})},2593:function(e,t,a){"use strict";var r=a(5),n=a.n(r),o=a(15),i=a.n(o),l=a(1),s=a.n(l),c=a(0),u=a.n(c),p=a(2582),m=a.n(p);function d(e){var t,a=e.children,r=e.layout,o=u.a.Children.toArray(a).filter((function(e){return!!e}));if(0===o.length)return!1;var l=i()((t={},n()(t,m.a.definitionList,!0),n()(t,m.a[r],r),t));return u.a.createElement("dl",{className:l},o)}d.propTypes={children:s.a.node.isRequired,layout:s.a.oneOf(["stacked","squashed","lined","stackedBorder"])},d.defaultProps={layout:null},t.a=d},2624:function(e,t,a){e.exports={item:"ConnectedServices-module-item___2HPVS",isDisabled:"ConnectedServices-module-isDisabled___1plOe",inner:"ConnectedServices-module-inner___2o8NM",itemNoBorder:"ConnectedServices-module-itemNoBorder___7s55V",thumbnailContainer:"ConnectedServices-module-thumbnailContainer___1lHZd",thumbnailContainerCompact:"ConnectedServices-module-thumbnailContainerCompact___3uMpA",main:"ConnectedServices-module-main___3taf3",text:"ConnectedServices-module-text___3blI0",form:"ConnectedServices-module-form___13CC7",buttonContainer:"ConnectedServices-module-buttonContainer___3xEhP"}},2637:function(e,t,a){"use strict";var r=a(5),n=a.n(r),o=a(15),i=a.n(o),l=a(1),s=a.n(l),c=a(0),u=a.n(c);function p(e){var t=e.children,a=e.emblem,r=e.size,o=i()(n()({Meta:!0},"Meta--".concat(r),r));return u.a.createElement("div",{className:o},u.a.createElement("div",{className:"Meta-thumb"},a),u.a.createElement("div",{className:"Meta-body"},t))}p.propTypes={children:s.a.node,emblem:s.a.node,size:s.a.oneOf(["xlarge","large","medium","small"])},p.defaultProps={size:"large"},t.a=p},2639:function(e,t,a){"use strict";var r=a(1),n=a.n(r),o=a(0),i=a.n(o),l=a(2624),s=a.n(l),c=a(50),u=a(3);function p(e){var t=e.onClick;return i.a.createElement("button",{type:"button",onClick:t,className:s.a.buttonContainer},i.a.createElement("img",{src:"".concat(c.b,"/google-signin-2x.png"),alt:Object(u.a)("common.connect")}))}p.propTypes={onClick:n.a.func.isRequired},t.a=p},2658:function(e,t,a){"use strict";var r=a(1),n=a.n(r),o=a(0),i=a.n(o),l=a(851),s=a(178);function c(e){var t=i.a.createElement(s.a,{isImage:!0,isRound:e.isUser}),a=i.a.createElement(s.a,{width:"50%"}),r=i.a.createElement(s.a,{count:e.count}),n=i.a.createElement(s.a,{width:"40px"});return i.a.createElement(l.a,{type:e.hasType?n:null,media:t,title:a,description:r,isTableStandard:e.isTableStandard})}c.propTypes={count:n.a.number,hasType:n.a.bool,isTableStandard:n.a.bool,isTableSmall:n.a.bool,isUser:n.a.bool},c.defaultProps={count:1,hasType:!1,isTableStandard:!1,isTableSmall:!1,isUser:!1},t.a=c},2667:function(e,t,a){"use strict";var r=a(5),n=a.n(r),o=a(10),i=a.n(o),l=a(11),s=a.n(l),c=a(12),u=a.n(c),p=a(13),m=a.n(p),d=a(8),f=a.n(d),g=a(15),v=a.n(g),b=a(4),h=a.n(b),E=a(1),y=a.n(E),C=a(0),O=a.n(C),I=a(70),w=a(129),j=a(2668);function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return m()(this,a)}}var N=function(e){u()(a,e);var t=_(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"shouldComponentUpdate",value:function(e){return!h.a.is(this.props.users,e.users)||this.props.isLoading!==e.isLoading||this.props.total!==e.total}},{key:"render",value:function(){var e,t=this.props,a=t.users,r=t.isLoading,o=t.total,i=t.onExpand,l=t.isHoneycomb,s=t.rows,c=t.perRow,u=t.isOverlapping,p=t.isOnWashBg,m=s*c,d=o||a.size,f=(m&&d>m?a.take(m-1):a).filter((function(e){return!!e})),g=d>f.size,b=i?function(e){e.preventDefault(),i()}:null,E=i?"a":"span";if(0===a.size)return r?O.a.createElement("div",{className:"Tile-loaderContainer"},O.a.createElement(w.a,null)):O.a.createElement(I.a,null);var y=v()((e={"UserAvatarList-inner":u},n()(e,"u-blockList-".concat(c),!u),n()(e,"u-blockList",!u),n()(e,"u-blockList--small",!u),e)),C=v()({UserAvatarList:!0,"u-cf":!0,"UserAvatarList--honeycomb":l}),_=v()({"UserAvatarList-item":u,"UserAvatarList-item--noBorder":u}),N=new h.a.Range(0,f.count(),c).map((function(e){return f.slice(e,e+c)})),P=u?"reverse":"push";return O.a.createElement("div",{className:C},N.map((function(e,t){return O.a.createElement("ul",{className:y,key:t},e.map((function(e){return O.a.createElement(j.a,{isOnWashBg:p,isOverlapping:u,user:e,key:e.get("id")})})).push(N.size===t+1&&g&&O.a.createElement("li",{className:_,key:"plus"},O.a.createElement("div",{className:"PlusCircle"},O.a.createElement(E,{href:"",onClick:b},"+",d-f.size))))[P](!1))})))}}]),a}(O.a.Component);N.propTypes={users:y.a.instanceOf(h.a.List),isLoading:y.a.bool,perRow:y.a.number,total:y.a.number,onExpand:y.a.func,isHoneycomb:y.a.bool,isOverlapping:y.a.bool,isOnWashBg:y.a.bool},N.defaultProps={perRow:7,isHoneycomb:!1,isOverlapping:!1,isOnWashBg:!1},t.a=N},2668:function(e,t,a){"use strict";var r=a(15),n=a.n(r),o=a(1),i=a.n(o),l=a(0),s=a.n(l),c=a(1022),u=a(35);function p(e){var t=e.user,a=e.popoverTitle,r=e.isOverlapping,o=e.isOnWashBg,i=n()({"UserAvatarList-item":r,"UserAvatarList-item--washBg":o});return s.a.createElement("li",{className:i},s.a.createElement(c.a,{user:t,showTitle:!1,popoverTitle:a}))}p.propTypes={user:i.a.instanceOf(u.b),isOverlapping:i.a.bool,isOnWashBg:i.a.bool},p.defaultProps={isOverlapping:!1,isOnWashBg:!1},t.a=p},2690:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var r=a(10),n=a.n(r),o=a(11),i=a.n(o),l=a(7),s=a.n(l),c=a(12),u=a.n(c),p=a(13),m=a.n(p),d=a(8),f=a.n(d),g=a(5),v=a.n(g),b=a(15),h=a.n(b),E=a(1),y=a.n(E),C=a(0),O=a.n(C),I=a(1017),w=a(3);function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=f()(e);if(t){var n=f()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return m()(this,a)}}var _=function(e){u()(a,e);var t=j(a);function a(){var e;n()(this,a);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o)),v()(s()(e),"wrapper",O.a.createRef()),v()(s()(e),"state",{isContentTooSmall:!0}),v()(s()(e),"calculateHeight",(function(){var t=s()(e).wrapper;if(t.current){var a=t.current.offsetHeight;e.setState({isContentTooSmall:a<=e.props.height})}})),e}return i()(a,[{key:"componentDidMount",value:function(){this.calculateHeight()}},{key:"componentDidUpdate",value:function(){this.calculateHeight()}},{key:"render",value:function(){var e=this,t=this.props,a=t.label,r=t.height,n=t.children,o=t.isWashColor,i=t.hasFade,l=this.state.isContentTooSmall,s=h()({RevealMore:!0,"RevealMore--wash":o,"RevealMore--hasFade":i});return O.a.createElement(I.a,null,(function(t,o){var i=t.activate;return O.a.createElement("div",{className:s,style:{height:o||l?"auto":"".concat(r,"px")}},O.a.createElement("div",{ref:e.wrapper},n),!(o||l)&&O.a.createElement("div",{className:"RevealMore-button-container"},O.a.createElement("button",{type:"button",className:"RevealMore-button theme--color",onClick:i},a||Object(w.a)("common.more_lowercase"))))}))}}]),a}(O.a.PureComponent);v()(_,"propTypes",{height:y.a.number.isRequired,label:y.a.string,children:y.a.node,isWashColor:y.a.bool,hasFade:y.a.bool}),v()(_,"defaultProps",{label:"",isWashColor:!1,hasFade:!0})},2692:function(e,t,a){"use strict";var r=a(16),n=a.n(r),o=a(71),i=a.n(o),l=a(4),s=a.n(l),c=a(1),u=a.n(c),p=a(0),m=a.n(p),d=a(1008),f=a(1009);function g(e){var t=e.filter,a=e.sortBy,r=e.size,o=e.siteId,l=e.peopleId,c=e.sfUserId,u=i()(e,["filter","sortBy","size","siteId","peopleId","sfUserId"]),p=Object(f.a)({initialParams:new s.a.Map({filter:t,sortBy:a,size:r,siteId:o,peopleId:l,sfUserId:c})}),g=p.users,v=p.loading,b=p.canPaginate,h=p.loadMore;return m.a.createElement(d.a,n()({users:g,isLoading:v,canPaginate:b,onLoadMore:h,showPopovers:!0},u))}g.propTypes={filter:u.a.string,sortBy:u.a.string,siteId:u.a.string},t.a=g},2719:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a(5),n=a.n(r),o=a(0),i=a.n(o),l=a(479),s=a(3);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){n()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"term",r=Object(o.useCallback)((function(t){var r=t.get(a);e.setParams(n()({},a,r&&""!==r?r:void 0))}),[e.setParams]),c=i.a.createElement(l.a,{placeholder:t||Object(s.a)("common.search_placeholder"),onSubmit:r,initialValue:e.params.get(a),ariaLabel:t||Object(s.a)("common.search_placeholder")});return u(u({},e),{},{searchField:c})}},2787:function(e,t,a){"use strict";var r=a(5),n=a.n(r),o=a(15),i=a.n(o),l=a(1),s=a.n(l),c=a(0),u=a.n(c),p=a(21),m=a(185),d=a.n(m);function f(e){var t,a=e.children,r=e.isSimple,o=i()((t={},n()(t,d.a.breadcrumb,!0),n()(t,d.a.simple,r),t));return u.a.createElement("nav",{className:o},u.a.Children.map(a,(function(e,t){return e&&u.a.createElement(c.Fragment,{key:e.key},0!==t&&u.a.createElement("div",{className:"".concat(d.a.chevronContainer," ").concat(d.a.chevronContainerLine)},u.a.createElement(p.a,{name:"arrow-right",sourceSize:"10"})),e)})))}f.propTypes={children:s.a.node.isRequired,isSimple:s.a.bool},f.defaultProps={isSimple:!0},t.a=f},2788:function(e,t,a){"use strict";var r=a(5),n=a.n(r),o=a(15),i=a.n(o),l=a(1),s=a.n(l),c=a(0),u=a.n(c),p=a(53),m=a(185),d=a.n(m);function f(e){var t,a=e.to,r=e.fontStyle,o=e.color,l=e.href,s=e.label,c=i()((t={},n()(t,d.a.title,!0),n()(t,"type--".concat(r),!0),n()(t,"type--".concat(o),!0),t));return l&&(s=u.a.createElement("a",{href:l,title:"string"==typeof s?s:void 0},s)),a&&(s=u.a.createElement(p.a,{to:a,title:"string"==typeof s?s:void 0},s)),u.a.createElement("div",{className:c},s)}f.propTypes={label:s.a.node.isRequired,to:s.a.string,href:s.a.string,fontStyle:s.a.string,color:s.a.string},f.defaultProps={fontStyle:"b4",color:"secondary"},t.a=f},2867:function(e,t,a){"use strict";(function(e){a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"e",(function(){return m}));var r=a(14),n=a(458),o=a(26);function i(t){return function(a){var i=t.peopleId;return a({type:n.c,payload:{peopleId:i}}),e.Simpplr.Loader.show(),e.Simpplr.Salesforce.User.getOrgChart(t).done((function(e){a(function(e,t){return{type:n.d,payload:{peopleId:e,result:t}}}(i,e.result))})).fail((function(e){var t=e.message;"404"!==t&&(t=Object(o.a)(e),a(Object(r.f)(t))),a(function(e,t){return{type:n.b,payload:{peopleId:e,error:t}}}(i,t))})).always(e.Simpplr.Loader.hide)}}function l(e){return i({peopleId:e,includeChildren:!0})}function s(e){return i({peopleId:e,includeGrandparent:!0,includeParent:!0})}function c(e){return i({peopleId:e,includeParent:!0,includeGrandparent:!0,includeChildren:!0})}function u(){return{type:n.a}}function p(e){return{type:n.f,payload:{tierDepth:e}}}function m(e){return{type:n.e,payload:{peopleId:e}}}}).call(this,a(27))},2868:function(e,t,a){"use strict";a.d(t,"d",(function(){return s})),a.d(t,"g",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"e",(function(){return p})),a.d(t,"i",(function(){return g})),a.d(t,"a",(function(){return v})),a.d(t,"h",(function(){return b})),a.d(t,"b",(function(){return h})),a.d(t,"f",(function(){return E}));var r=a(4),n=a.n(r),o=a(19),i=a(167);function l(e){return e&&e.getIn(["orgChart"])||new n.a.Map}var s=Object(o.a)([l],(function(e){return e})),c=Object(o.a)([l,function(e,t){return t}],(function(e,t){return e.get(t)||new n.a.Map})),u=Object(o.a)([s,c],(function(e,t){return e.get(t.get("parent"))})),p=Object(o.a)([s,function(e,t){return t}],(function(e,t){return e.valueSeq().filter((function(e){return e&&e.parent===t})).toList()}));function m(e){return e.sort((function(e,t){return e&&(e.getIn(["user","name"])||"").toUpperCase().localeCompare((t.getIn(["user","name"])||"").toUpperCase())}))}function d(e,t,a,r){var o=e.filter((function(e){return e&&e.get&&e.get("parent")===a}));return 0===o.size&&r&&(o=new n.a.List(Array(e.getIn([t,"childCount"])))),o.toList()}function f(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=r?t:e.getIn([t,"parent"])||null,i=d(e,t,o,r),l=m(i),s=l.findIndex((function(e){return e&&e.getIn(["user","peopleId"])===t}));return new n.a.Map({peopleId:t,parentId:o,users:l,activeUserIndex:s,isActiveUser:a})}var g=Object(o.a)([l],(function(e){return e.get("loading")})),v=Object(o.a)([l],(function(e){return e.get("tierDepth")}));function b(e,t){return e.findIndex((function(e){return e&&e.get("users").some((function(e){return e.getIn(["user","peopleId"])===t}))}))}var h=Object(o.a)([l],(function(e){return e.get("initialUser")}));var E=Object(o.a)([l,h,i.a,function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{peopleId:t,tierDepth:a,childFocus:r}}],(function(e,t,a,r){var o=r.peopleId,i=r.tierDepth,l=r.childFocus,s=new n.a.List,c=e.get(o)||new n.a.Map;if(!o||c.get("user",new n.a.Map).isEmpty())return s;if(s=s.push(f(e,o,!0)),c.get("childCount",0)>0){var u=f(e,o,!1,!0),p=u.get("users").findIndex((function(e){return!(!e||!e.user)&&e.user.get("peopleId")===l}));-1!==p&&(u=u.set("focusUserIndex",p)),s=s.push(u)}for(var m=e.getIn([c.get("parent"),"parent"]),d=s.size-1;d<i;d+=1){var g=s.getIn([0,"peopleId"]),v=e.getIn([g,"parent"],null);v&&(s=s.unshift(f(e,v))),!v&&m&&(s=s.unshift(null))}return function(e,t,a,r,n){return e.update(e.size-1,(function(e){var o=e.get("users");if(o.some((function(e){return!!e&&e.childCount>0})))return e;var i=o.find((function(e){return!(!e||!e.user)&&e.user.get("peopleId")===a}));if(i||(i=o.find((function(e){return!(!e||!e.user)&&e.user.get("peopleId")===n}))),i){var l="desktop"===r?5:3,s=Math.min(o.size,l),c=o.indexOf(i),u="mobile"===r?0:Math.floor(s/2.5);if(u===c)return e;o=(o=o.delete(c)).insert(u,i);var p=e.set("users",o);if(t===a)return p.set("activeUserIndex",u);var m=o.findIndex((function(e){return e&&e.user.get("peopleId")===t}));return p.set("activeUserIndex",m)}return e}))}(s,o,t,a,l)}))},2998:function(e,t,a){e.exports={header:"CompletionChecklist-scss-module-header___1A47f",progressCount:"CompletionChecklist-scss-module-progressCount___2dzNS",progressContainer:"CompletionChecklist-scss-module-progressContainer___2h9az",list:"CompletionChecklist-scss-module-list___mvcH4",item:"CompletionChecklist-scss-module-item___26wpx","is-complete":"CompletionChecklist-scss-module-is-complete___Rpu-6",itemMain:"CompletionChecklist-scss-module-itemMain___1i_vQ",iconContainer:"CompletionChecklist-scss-module-iconContainer___1KIEK",checkBox:"CompletionChecklist-scss-module-checkBox___32fUm",isComplete:"CompletionChecklist-scss-module-isComplete___2RSNt",completionChecklist:"CompletionChecklist-scss-module-completionChecklist___20GB3"}},3733:function(e,t,a){"use strict";(function(e){a.d(t,"c",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"d",(function(){return m}));var r=a(14),n=a(315),o=a(177),i=a(3);function l(t){return function(a,l){e.Simpplr.Loader.show();var s=Object(o.b)(l(),t);if(!s)return e.Simpplr.Loader.hide(),Promise.resolve(null);var c=s.get("sfUserId");return a({type:n.e,payload:{peopleId:t}}),e.Simpplr.Salesforce.User.getEndorsements(c).done((function(e){a({type:n.f,payload:{peopleId:t,result:e.result}})})).fail((function(){var e=Object(i.a)("common.error_message");a(Object(r.f)(e)),a({type:n.d,payload:{peopleId:t,error:e}})})).always(e.Simpplr.Loader.hide)}}function s(t,a){return function(l,s){e.Simpplr.Loader.show();var c=Object(o.b)(s(),t);if(!c)return Promise.resolve(null);var u=c.get("sfUserId");return l({type:n.j,payload:{peopleId:t,expertiseId:a}}),e.Simpplr.Salesforce.User.addEndorsement(u,a).done((function(){l({type:n.k,payload:{peopleId:t,expertiseId:a}})})).fail((function(){var e=Object(i.a)("common.error_message");l(Object(r.f)(e)),l({type:n.i,payload:{peopleId:t,expertiseId:a,error:e}})})).always(e.Simpplr.Loader.hide)}}function c(t,a,l){return l?s(t,a):function(t,a){return function(l,s){e.Simpplr.Loader.show();var c=Object(o.b)(s(),t);if(!c)return Promise.resolve(null);var u=c.get("sfUserId");return l({type:n.m,payload:{peopleId:t,expertiseId:a}}),e.Simpplr.Salesforce.User.removeEndorsement(u,a).done((function(){l({type:n.n,payload:{peopleId:t,expertiseId:a}})})).fail((function(){var e=Object(i.a)("common.error_message");l(Object(r.f)(e)),l({type:n.l,payload:{peopleId:t,expertiseId:a,error:e}})})).always(e.Simpplr.Loader.hide)}}(t,a)}function u(t,a){return function(o){return e.Simpplr.Loader.show(),o({type:n.b,payload:{peopleId:t}}),e.Simpplr.Salesforce.Expertise.save(null,{name:a.get("name")}).done((function(e){o(p(t,e.result))})).fail((function(){var e=Object(i.a)("common.error_message");o(Object(r.f)(e)),o({type:n.a,payload:{peopleId:t,error:e}})})).always(e.Simpplr.Loader.hide)}}function p(e,t){return function(a){a({type:n.c,payload:{peopleId:e,expertise:{expertise:t,count:0,isEndorsed:!0}}}),a(s(e,t.id))}}function m(t,a){return function(l,s){e.Simpplr.Loader.show();var c=Object(o.b)(s(),t);if(!c)return Promise.resolve(null);var u=c.get("sfUserId");return l({type:n.g,payload:{peopleId:t,expertiseId:a}}),e.Simpplr.Salesforce.User.removeExpertise(u,a).done((function(){l({type:n.h,payload:{peopleId:t,expertiseId:a}})})).fail((function(){var e=Object(i.a)("common.error_message");l(Object(r.f)(e)),l({type:n.g,payload:{peopleId:t,expertiseId:a,error:e}})})).always(e.Simpplr.Loader.hide)}}}).call(this,a(27))},3734:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return n}));var r=a(806);function n(t){return function(a){return e.Simpplr.Loader.show(),a({type:r.b,payload:{peopleId:t}}),e.Simpplr.Salesforce.User.getFollowStats(t).done((function(e){a({type:r.c,payload:{peopleId:t,stats:e.result}})})).fail((function(){a({type:r.a,payload:{peopleId:t}})})).always(e.Simpplr.Loader.hide)}}}).call(this,a(27))},4072:function(e,t,a){"use strict";a.r(t);var r=a(16),n=a.n(r),o=a(10),i=a.n(o),l=a(11),s=a.n(l),c=a(7),u=a.n(c),p=a(12),m=a.n(p),d=a(13),f=a.n(d),g=a(8),v=a.n(g),b=a(5),h=a.n(b),E=a(0),y=a.n(E),C=a(18),O=a(36),I=a(131),w=a(544),j=a(1246),_=a(1997),N=a(409),P=a(30),x=a(17),R=a(177),k=a(167),L=a(1),S=a.n(L),U=a(65),A=a.n(U),F=a(3045),T=a(70),M=a(418),D=a(479),z=a(212),B=a(2639),q=a(209),W=a(1137),H=a(444),J=a(3);function V(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?V(Object(a),!0).forEach((function(t){h()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):V(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Q(e){var t=e.basePath,a=e.peopleId,r=e.siteId,n=e.source,o=e.author,i=Object(C.useDispatch)(),l=Object(O.h)(),s=Object(W.a)(),c=s.filter,u=s.term,p=function(e,t){l.push({search:A.a.stringify({filter:"future"!==e?e:void 0,term:t||void 0},{addQueryPrefix:!0})})},m=Object(E.useCallback)((function(){return i(Object(I.a)("googleCalendar",window.location.href))}),[]),d="mobile"!==Object(H.a)(),f={filter:c||void 0,term:u||void 0},g=r?Object(J.a)("event.search_in_site.placeholder"):Object(J.a)("events.search.placeholder"),v=Object(C.useSelector)(P.hasConnectedGoogleCalendarAccount),b=Object(q.h)("appName");return"google"!==n||v?y.a.createElement(y.a.Fragment,null,d&&y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"column medium-6 large-4"},y.a.createElement("div",{className:"u-marg-b--xlarge u-sm-hide"},y.a.createElement(D.a,{placeholder:g,initialValue:u,onSubmit:function(e){return p(c,e.get("term"))},ariaLabel:g}))),"google"!==n?y.a.createElement("div",{className:"column medium-6"},y.a.createElement("div",{className:"u-floatRight"},y.a.createElement("div",{className:"toolbar"},y.a.createElement("div",{className:"toolbar-exposed"},r?y.a.createElement("ul",null,y.a.createElement("li",null,y.a.createElement(M.a,{to:{pathname:t,search:A.a.stringify(G(G({},f),{},{filter:void 0}),{addQueryPrefix:!0})},activeClassName:"current",isActive:function(){return!c}},Object(J.a)("common.future"))),y.a.createElement("li",null,y.a.createElement(M.a,{to:{pathname:t,search:A.a.stringify(G(G({},f),{},{filter:"past"}),{addQueryPrefix:!0})},activeClassName:"current",isActive:function(){return"past"===c}},Object(J.a)("common.past")))):y.a.createElement("ul",null,y.a.createElement("li",null,y.a.createElement(M.a,{to:{pathname:"".concat(t,"/all"),query:f},activeClassName:"current"},Object(J.a)("common.all"))),y.a.createElement("li",null,y.a.createElement(M.a,{to:{pathname:"".concat(t,"/following"),query:f},activeClassName:"current"},Object(J.a)("sites.i_follow"))),y.a.createElement("li",null,y.a.createElement(M.a,{to:{pathname:"".concat(t,"/rsvp"),query:f},activeClassName:"current"},Object(J.a)("rsvp.title"))))),!r&&y.a.createElement(z.a,{selected:c||"future",options:[{value:"future",label:Object(J.a)("common.future")},{value:"past",label:Object(J.a)("common.past")}],onChange:function(e){return p(e,u)}})))):null),y.a.createElement(F.a,{siteId:r,peopleId:a,source:n,filter:c||"future",term:u,author:o})):y.a.createElement(T.a,null,y.a.createElement("div",{className:"u-displayFlex u-justifyCenter u-alignItemsCenter"},y.a.createElement("span",{className:"u-marg-r--medium"},Object(J.a)("profile.event.calendar_google_connect",{appName:b})),y.a.createElement(B.a,{onClick:m})))}Q.propTypes={basePath:S.a.string,peopleId:S.a.string,siteId:S.a.string,source:S.a.string,author:S.a.string},Q.defaultProps={author:null};var K=Q,Z=a(190),X=a(147),Y=a(274),$=a(352);var ee=function(e){var t=e.match.params,a=t.source,r=t.peopleId,o="google"===a?$.f:$.g,i=Object(C.useSelector)((function(e){return Object(x.Q)(e,"googleCalendar")}));return y.a.createElement(Z.a,n()({},o,{text:Object(J.a)("page_title.calendar")}),y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"column"},y.a.createElement("div",{className:"Page"},y.a.createElement("header",{className:"Page-header"},y.a.createElement("div",{className:"Page-header-inner"},y.a.createElement("div",{className:"u-marg-b--large"},y.a.createElement("h1",{className:"Page-heading type--h4"},Object(J.a)("common.event_plural")))),y.a.createElement("div",{className:"Page-tabsContainer"},y.a.createElement(Y.a,{hasNoBorder:!0,isPadded:!1},y.a.createElement(X.a,{to:"/people/".concat(r,"/calendar/"),label:Object(q.h)("appName"),exact:"google"===a}),i&&y.a.createElement(X.a,{to:"/people/".concat(r,"/calendar/google"),label:Object(J.a)("app.google_calendar")})))),y.a.createElement(K,{basePath:"/people/".concat(r,"/calendar"),peopleId:r,source:a})))))},te=a(4),ae=a.n(te),re=a(81),ne=a(62),oe=a(657),ie=a(241),le=a(856),se=a(21),ce=a(168),ue=a(851),pe=a(2658),me=a(2719),de=a(24),fe=a.n(de);function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ve(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(a),!0).forEach((function(t){h()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var be=a(2594);function he(e){var t=e.type,a=e.match.params.peopleId,r=Object(be.b)({initialParams:new ae.a.Map({status:"published",filter:"author",peopleId:a,sortBy:"publishedNewest",type:"blogposts"===t?"BlogPost":void 0,excludeType:"blogposts"!==t?"BlogPost":void 0})}),n=r=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"sortBy",r=Object(E.useCallback)((function(t){e.setParams(h()({},a,t))}),[e.setParams]),n=y.a.createElement(z.a,{hasClearButton:!1,canCreate:!1,placeholder:Object(J.a)("common.select_placeholder"),options:Object.entries(t).map((function(e){var t=fe()(e,2);return{value:t[0],label:t[1]}})),onChange:r,selected:e.params.get(a)});return ve(ve({},e),{},{sortField:n})}(r=Object(me.a)(r,Object(J.a)("profile.content.search_".concat(t,".placeholder"))),{publishedNewest:Object(J.a)("common.latest"),most_liked:Object(J.a)("common.most_liked"),most_viewed:Object(J.a)("common.most_viewed")}),o=n.searchField,i=n.sortField,l=n.content,s=n.loading,c=n.loaded,u=n.loadMore,p=n.canPaginate,m=function(e){var t,a=e.get("url");switch(e.get("type")){case"blog_post":t="blog";break;case"album":t="albums";break;case"event":return y.a.createElement(le.a,{input:e.get("startsAt"),url:a,timezoneIso:e.get("timezoneIso"),isAllDay:e.get("isAllDay")});default:t="pages"}return y.a.createElement(ce.a,{img:e.get("img"),url:a,icon:t})};return y.a.createElement(y.a.Fragment,null,y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"column medium-6 large-4"},y.a.createElement("div",{className:"u-marg-b--xlarge u-sm-hide"},o)),y.a.createElement("div",{className:"column medium-6 large-8 u-marg-b--medium"},y.a.createElement("div",{className:"u-floatRight u-sm-floatNone",style:{minWidth:"200px"}},y.a.createElement("div",{className:"Field Field--hasIcon Field--compact"},i,y.a.createElement("div",{className:"Field-iconContainer Field-iconContainer--navigatedown"},y.a.createElement(se.a,{isLegacy:!0,name:"navigatedown"})))))),!c&&s&&y.a.createElement("div",{className:"u-size-readable"},y.a.createElement(pe.a,null),y.a.createElement(pe.a,null),y.a.createElement(pe.a,null)),c&&0===l.size&&y.a.createElement(T.a,null),c&&l.size>0&&y.a.createElement("div",{className:"u-size-readable"},y.a.createElement("ul",null,l.map((function(e){return y.a.createElement(ue.a,{element:"li",hasLargeTitle:!0,key:e.get("id"),media:m(e),title:e.get("title"),description:e.get("excerpt"),meta:y.a.createElement(oe.a,{createdAt:e.get("createdAt"),publishAt:e.get("publishAt"),modifiedAt:e.get("modifiedAt"),site:e.get("site"),showSite:!0}),url:e.get("url")})}))),y.a.createElement(ie.a,{isScrollToLoad:!1,canLoad:p,onLoad:u,isLoading:s})))}he.propTypes={type:S.a.oneOf(["blogposts","content"]),match:S.a.shape({params:S.a.shape({peopleId:S.a.string.isRequired})})},he.defaultProps={type:"content"};var Ee=he,ye=a(2787),Ce=a(2788),Oe=a(2637),Ie=a(178);var we=function(){return y.a.createElement(Oe.a,{emblem:y.a.createElement(Ie.a,{isImage:!0,isRound:!0}),size:"xlarge"},y.a.createElement("p",{className:"type--b1"},y.a.createElement(Ie.a,{width:"10%"})),y.a.createElement("p",null,y.a.createElement(Ie.a,{width:"30%"})),y.a.createElement("p",null,y.a.createElement(Ie.a,{width:"20%"})))},je=a(69),_e=a.n(je),Ne=a(114),Pe=a(499);function xe(e){var t=e.showFollowButton,a=e.user,r=y.a.createElement(Ne.a,{img:a.get("img"),url:a.get("url")});return y.a.createElement(Oe.a,{emblem:r,size:"xlarge"},y.a.createElement("div",null,y.a.createElement("a",{className:"type--b1 type--title",href:a.get("url")},a.get("name")),t&&y.a.createElement("div",{className:"u-marg-l--small u-inlineBlock"},y.a.createElement(Pe.a,{size:"micro",sfUserId:a.get("sfUserId"),isFollowing:a.get("isFollowing")}))),a.get("title")&&y.a.createElement("div",null,a.get("title")," ",a.get("department")&&"- ".concat(a.get("department"))),a.get("location")&&y.a.createElement("div",null,a.get("location")))}xe.propTypes={showFollowButton:S.a.bool,user:_e.a.map.isRequired},xe.defaultProps={showFollowButton:!0};var Re=xe,ke=a(2127),Le=a(503),Se=a(89);function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var Ae=function(e){m()(a,e);var t=Ue(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"createAnalyticsRecord",value:function(e){var t=Object(Le.b)(e[$.s],e[$.r]),a=t.pageCategory,r=t.pageGroup;Object(ke.b)(Object(ne.b)(),{pageName:e[$.s],pageGroup:r,pageCategory:a})}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,r=t.peopleId,o=t.isBlogPostEnabled,i=t.isContentEnabled;return y.a.createElement(Z.a,n()({},$.m,{text:Object(J.a)("page_title.profile_content",{name:a.get("name")})}),y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"column"},y.a.createElement("div",{className:"Page"},y.a.createElement("header",{className:"Page-header"},y.a.createElement("div",{className:"Page-header-inner"},y.a.createElement("div",{className:"u-marg-b--medium"},a.name?y.a.createElement(ye.a,null,y.a.createElement(Ce.a,{label:a.name,to:Object(Se.l)(a.peopleId)}),y.a.createElement(Ce.a,{label:Object(J.a)("profile.content.page_heading")})):y.a.createElement(Ie.a,{width:"20%"})),y.a.createElement("div",{className:"u-marg-b--large"},a.get("name")?y.a.createElement(Re,{showFollowButton:a.get("canFollow"),user:a}):y.a.createElement(we,null))),y.a.createElement("div",{className:"Page-tabsContainer"},y.a.createElement(Y.a,{isPadded:!1,hasNoBorder:!0},i&&y.a.createElement(X.a,{to:"/people/".concat(r,"/content"),label:Object(J.a)("common.content_plural"),exact:!0,onClick:function(){e.createAnalyticsRecord($.m)}}),o&&y.a.createElement(X.a,{to:"/people/".concat(r,"/blogposts"),label:Object(J.a)("common.blog_post_plural"),exact:!0,onClick:function(){e.createAnalyticsRecord($.l)}})))),y.a.createElement(w.a,null,y.a.createElement(O.c,{exact:!0,path:"/people/:peopleId/content",render:function(e){return i?y.a.createElement(Ee,n()({key:"content",type:"content"},e)):y.a.createElement(O.b,{to:"/people/".concat(e.match.params.peopleId,"/blogposts")})}}),y.a.createElement(O.c,{exact:!0,path:"/people/:peopleId/blogposts",render:function(e){return y.a.createElement(Ee,n()({key:"blogposts",type:"blogposts"},e))}}))))))}}]),a}(re.b);var Fe=Object(C.connect)((function(e,t){var a=t.match.params.peopleId,r=new ae.a.List(["page","event","album"]).filter((function(t){return Object(x.I)(e,t)}));return{user:Object(R.b)(e,a)||new ae.a.Map,peopleId:a,isBlogPostEnabled:Object(x.I)(e,"blog"),isContentEnabled:r.size>0}}))(Ae),Te=a(2602);function Me(e){var t=e.match.params.peopleId,a=Object(be.b)({initialParams:new ae.a.Map({peopleId:t,sortBy:"unreadNewest",filter:"all",isMustRead:!0})}),r=a.content,n=a.loading,o=a.loadMore,i=a.canPaginate,l=n&&0===r.size&&y.a.createElement(y.a.Fragment,null,y.a.createElement(pe.a,null),y.a.createElement(pe.a,null),y.a.createElement(pe.a,null)),s=Object(Se.c)("must_read_listing");return y.a.createElement(Z.a,{name:"MustReads",text:Object(J.a)("page_title.must_reads")},y.a.createElement("div",{className:"row"},y.a.createElement("div",{className:"column"},y.a.createElement("div",{className:"Page"},y.a.createElement("header",{className:"Page-header"},y.a.createElement("div",{className:"Page-header-inner"},y.a.createElement("h1",{className:"Page-heading type--h4 u-floatNone"},Object(J.a)("common.must_read_plural")),y.a.createElement("div",{className:"u-marg-t--xsmall u-marg-b--small type--secondary"},Object(J.a)("must_reads.intro")))),l||y.a.createElement(Te.a,{content:r,isLoading:n,canPaginate:i,onLoadMore:o,showExplicitMustRead:!1,hasMaxWidth:!0,showMustReadMeta:!0,utmParams:s,hasSiteImageFallback:!0})))))}Me.propTypes={match:S.a.shape({params:S.a.shape({peopleId:S.a.string.isRequired})})};var De=Me,ze=a(14),Be=a(20),qe=a.n(Be),We=a(34),He=a.n(We),Je=a(61),Ve=a(165),Ge=a(839),Qe=a(15),Ke=a.n(Qe),Ze=a(1013),Xe=a(53);function Ye(e){var t=e.url,a=e.label,r=e.icon;return y.a.createElement(Xe.a,{to:t,className:"MobileBarLink"},r&&y.a.createElement(se.a,{name:r,sourceSize:"28"}),y.a.createElement("span",{className:"MobileBarLink-text"},a),y.a.createElement("span",{className:"MobileBarLink-viewArrow"},y.a.createElement(se.a,{name:"arrow-right",sourceSize:"10"})))}Ye.propTypes={url:S.a.string.isRequired,label:S.a.string.isRequired,icon:S.a.string};var $e=a(125);function et(e){var t=e.children,a=e.title,r=e.tileHeaderAction,n=e.icon,o=e.viewport;if(0===y.a.Children.toArray(t).filter((function(e){return!!e})).length)return!1;var i=Ke()({"ProfileTile-header":!0,"ProfileTile-header--mobile":"mobile"===o,"u-displayFlex":r,"u-alignItems--center":r});return y.a.createElement("div",{className:"ProfileTile"},y.a.createElement("div",{className:i},n?y.a.createElement($e.a,{icon:n,label:a,iconSourceSize:"28"}):y.a.createElement("h2",{className:"type--h6 type--500"},a),r&&y.a.createElement("span",{className:"u-marg-l--auto"},r)),t)}et.propTypes={title:S.a.string,icon:S.a.string};var tt=et;function at(e){var t=e.maxItems,a=e.peopleId,r=Object(be.a)({initialParams:new ae.a.Map({peopleId:a,status:"published",filter:"author",sortBy:"publishedNewest",size:t})}).content,n=Object(H.a)();if(0===r.size)return!1;if("mobile"===n)return y.a.createElement(Ye,{label:Object(J.a)("profile.content.page_heading"),url:"/people/".concat(a,"/content")});var o=y.a.createElement(Xe.a,{to:"/people/".concat(a,"/content")},Object(J.a)("common.show_all")),i=Object(Se.c)("user_published");return y.a.createElement("div",{className:"ProfilePageLayout-item Profile-contentLists"},y.a.createElement(tt,{isStacked:!0,title:Object(J.a)("profile.content.page_heading"),tileHeaderAction:o},y.a.createElement("div",{className:"u-pad--medium"},y.a.createElement(Te.a,{content:r,hasSiteImageFallback:!0,utmParams:i}))))}at.propTypes={maxItems:S.a.number,peopleId:S.a.string.isRequired},at.defaultProps={maxItems:5};var rt=at,nt=a(272),ot=a(2998),it=a.n(ot);function lt(e){var t=e.children,a=e.title,r=e.description,n=e.completedCount,o=e.allTasksCount;return y.a.createElement("aside",{className:"".concat(it.a.completionChecklist," ProfileTile theme--border"),role:"status","aria-label":a},y.a.createElement("header",{className:it.a.header},y.a.createElement("h2",{className:"type--h5 ListingItem-title"},a),y.a.createElement("div",{className:"u-posRelative u-marg--small"},y.a.createElement("div",{className:it.a.progressContainer},y.a.createElement(nt.a,{isRounded:!0,value:n/o*100})),y.a.createElement("div",{className:"".concat(it.a.progressCount," type--secondary")},"".concat(n,"/").concat(o))),y.a.createElement("p",{className:"type--secondary"},r)),y.a.createElement("div",{className:it.a.list},t))}lt.propTypes={children:S.a.node.isRequired,title:S.a.string.isRequired,description:S.a.string,completedCount:S.a.number,allTasksCount:S.a.number},lt.defaultProps={completedCount:0,allTasksCount:0};var st=lt;function ct(e){var t,a,r=e.label,n=e.icon,o=e.isComplete,i=Ke()((t={},h()(t,it.a.checkBox,!0),h()(t,it.a.isComplete,o),t)),l=Ke()((a={},h()(a,it.a.item,!0),h()(a,"theme--color",!0),h()(a,it.a.isComplete,o),a));return y.a.createElement("div",{className:l},y.a.createElement("div",{className:it.a.iconContainer},y.a.createElement(se.a,{name:n,isLine:!0,sourceSize:"28"})),y.a.createElement("div",{className:it.a.itemMain},y.a.createElement("span",{className:it.a["CompletionChecklist-itemLabel"],"aria-label":o?Object(J.a)("profile.item_completed_label",{label:r}):Object(J.a)("profile.item_not_completed_label",{label:r})},r),y.a.createElement("div",{className:i},o&&y.a.createElement(se.a,{name:"check",isLine:!0,sourceSize:"20",ariaLabel:Object(J.a)("common.completed_label")}))))}ct.propTypes={label:S.a.string.isRequired,icon:S.a.string,isComplete:S.a.bool},ct.defaultProps={icon:"user",isComplete:!1};var ut=ct,pt=a(35);function mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var dt=function(e){m()(a,e);var t=mt(a);function a(){var e;i()(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),h()(u()(e),"state",{tasksRemainingOnLoad:null}),e}return s()(a,[{key:"UNSAFE_componentWillMount",value:function(){this.setState({tasksRemainingOnLoad:this.props.remainingTasks.size})}},{key:"render",value:function(){var e=this.props,t=e.chooseAvatar,a=e.chooseCover,r=e.profileTasks,n=e.remainingTasks,o=this.state.tasksRemainingOnLoad,i=r.size,l=n.size;if(0===l&&!(0===l&&0!==o))return null;if(0===o)return null;var s=Object(J.a)("profile.completion.description.some_complete");return l===i&&(s=Object(J.a)("profile.completion.description.none_complete")),1===l&&(s=Object(J.a)("profile.completion.description.penultimate")),0===l&&(s=Object(J.a)("profile.completion.description.complete")),y.a.createElement(st,{title:Object(J.a)("profile.completion.title"),description:s,completedCount:r.size-n.size,allTasksCount:i},r.map((function(e){var r=y.a.createElement(ut,{label:e.get("label"),icon:e.get("icon"),isComplete:!!e.get("value"),key:e.get("label")}),n=null,o=null;switch(e.get("name")){case"profile_image":o=t;break;case"profile_cover_image":o=a;break;case"profile_about":case"profile_phone":case"profile_birthday":n="/my-settings/profile";break;default:return null}return n&&!e.get("value")&&(r=y.a.createElement(Xe.a,{to:n,key:e.get("label")},r)),o&&!e.get("value")&&(r=y.a.createElement("label",{className:"u-posRelative u-pad-b--none",htmlFor:e.get("name"),key:e.get("label")},y.a.createElement("input",{id:e.get("name"),className:"AddFrom-input",type:"file",accept:"image/*",onChange:o}),y.a.createElement("span",null,r))),r})))}}]),a}(re.b);dt.propTypes={user:S.a.instanceOf(pt.b).isRequired,chooseAvatar:S.a.func,chooseCover:S.a.func,profileTasks:_e.a.list,remainingTasks:_e.a.list},dt.defaultProps={chooseAvatar:function(){},chooseCover:function(){},profileTasks:new ae.a.List,remainingTasks:new ae.a.List};var ft=dt;var gt=Object(C.connect)((function(e){return{profileTasks:Object(P.getProfileTasks)(e),remainingTasks:Object(P.getTasksRemaining)(e)}}))(ft),vt=a(3733),bt=a(2690),ht=a(244);function Et(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var yt=function(e){m()(a,e);var t=Et(a);function a(){var e;i()(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),h()(u()(e),"onExpertiseClick",(function(t,a){return function(){var r=e.props,n=r.onClick;r.isEditMode||n(t,a)}})),h()(u()(e),"onRemoveClick",(function(t){return function(){e.props.onRemoveClick(t)}})),e}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.count,r=e.label,n=e.isSelfEndorsed,o=e.isEditMode,i=e.isActive,l=Ke()({Expertise:!0,"Expertise--userAgrees":n,"Expertise--editing":o,"Expertise--inactive":!i,"theme--color":!0});return y.a.createElement("div",{className:l},y.a.createElement("button",{type:"button",onClick:this.onExpertiseClick(t,!n),className:"Expertise-endorseButton theme--hover--fill"},i&&y.a.createElement(se.a,{name:"like",ariaLabel:Object(J.a)("profile.expertise.endorsed_label",{count:a,label:r})}),a>0&&y.a.createElement("span",{className:"Expertise-count"},y.a.createElement("span",{className:"type--secondary","aria-hidden":"true"},a))),o?y.a.createElement(y.a.Fragment,null,y.a.createElement("span",{className:"Expertise-link"},r),y.a.createElement("span",{className:"u-visibilityHidden type--500"},r),y.a.createElement("button",{className:"Expertise-removeButton",type:"button",onClick:this.onRemoveClick(t),"aria-label":Object(J.a)("profile.expertise.remove_expertise_label")},y.a.createElement(se.a,{name:"close"}))):y.a.createElement(ht.a,{to:{pathname:"/people",query:{expertise:JSON.stringify({id:t,name:r})}},className:"Expertise-link"},r))}}]),a}(y.a.PureComponent);h()(yt,"propTypes",{id:S.a.string.isRequired,label:S.a.string.isRequired,onClick:S.a.func.isRequired,onRemoveClick:S.a.func,count:S.a.number,isEditMode:S.a.bool,isSelfEndorsed:S.a.bool}),h()(yt,"defaultProps",{count:0,isEditMode:!1,isSelfEndorsed:!1,onRemoveClick:function(){}});var Ct=yt,Ot=a(192),It=a(128),wt=a(215),jt=a(208),_t=a(55);function Nt(e){var t=e.buttonText,a=e.buttonOnClick,r=e.children,n=e.buttonDisabled,o=e.buttonAppearance,i=e.buttonSize,l=e.type;return y.a.createElement("div",{className:"InputWithButton"},y.a.createElement("div",{className:"InputWithButton-input"},r),y.a.createElement("div",{className:"InputWithButton-button"},y.a.createElement(_t.a,{label:t||Object(J.a)("common.add"),onClick:a,disabled:n,appearance:o,size:i,type:l})))}Nt.propTypes={children:S.a.node.isRequired,buttonOnClick:S.a.func,buttonText:S.a.string,buttonAppearance:S.a.string,buttonDisabled:S.a.bool,buttonSize:S.a.string,type:S.a.string},Nt.defaultProps={buttonText:"",buttonDisabled:!1,buttonAppearance:null,buttonSize:"large",type:"button"};var Pt=Nt,xt=a(2754);function Rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var kt=function(e){m()(a,e);var t=Rt(a);function a(){var e;i()(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),h()(u()(e),"onSubmit",function(){var t=He()(qe.a.mark((function t(a,r){return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.onNewExpertiseSubmit(a);case 2:setTimeout((function(){r.reset(),r.resetFieldState("listOfExpertise")}));case 3:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()),e}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.userName,a=e.isCurrentUser,r=e.endorsements,n=e.canCreate,o=e.autoFocus,i=!!r.size,l=Ke()({"u-border-bottom":i,"u-pad-b--medium":i,"u-neg-b--medium":i});return y.a.createElement(jt.b,{onSubmit:this.onSubmit,initialValues:{listOfExpertise:[]}},(function(e){var s=e.submitting,c=e.invalid,u=e.handleSubmit,p=e.values.listOfExpertise;return y.a.createElement("form",{onSubmit:u},y.a.createElement("div",{className:l},!a&&!i&&y.a.createElement("p",{className:"type--500"},Object(J.a)("profile.expertise.empty_message",{fullName:t})),y.a.createElement("p",{className:"u-marg-b--small text--tertiary"},a&&Object(J.a)("profile.expertise.add_message.current_user"),!a&&i&&Object(J.a)("profile.expertise.add_message.other_user"),!a&&!i&&Object(J.a)("profile.expertise.empty_message_description")),y.a.createElement("div",{className:"Profile-addExpertise"},y.a.createElement(Pt,{buttonDisabled:0===p.length||s||c,type:"submit"},y.a.createElement(jt.a,{component:xt.a,name:"listOfExpertise",placeholder:Object(J.a)("profile.expertise.search_placeholder"),isValueModel:!0,isMulti:!0,canCreate:n,exclude:r,isStaticLabel:!1,autoFocus:o})))))}))}}]),a}(re.b);h()(kt,"propTypes",{endorsements:_e.a.list,userName:S.a.string,onNewExpertiseSubmit:S.a.func,isCurrentUser:S.a.bool,canCreate:S.a.bool.isRequired,autoFocus:S.a.bool.isRequired}),h()(kt,"defaultProps",{endorsements:new ae.a.List,onNewExpertiseSubmit:function(){},isCurrentUser:!1});var Lt=kt;function St(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var Ut=function(e){m()(a,e);var t=St(a);function a(){var e;i()(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),h()(u()(e),"state",{isEditMode:!1,shouldAutoFocus:!1}),h()(u()(e),"startEditMode",(function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.setState({isEditMode:!0,shouldAutoFocus:t})})),h()(u()(e),"initializeEditState",(function(){return e.startEditMode(!0)})),h()(u()(e),"renderExpertiseList",(function(t,a,r){var n=y.a.createElement(Ot.a,{hasNoBottom:!0},t.map((function(t){return y.a.createElement(It.a,{key:t.expertise.id},y.a.createElement(Ct,{id:t.expertise.id,count:t.endorsementCount,label:t.expertise.name,isSelfEndorsed:t.isEndorsed,onClick:e.props.onExpertiseClick,onRemoveClick:e.props.onExpertiseRemoveClick,peopleUrl:e.props.peopleUrl,isEditMode:a&&r,isActive:e.props.isActive}))})));return a?n:y.a.createElement(bt.a,{height:145,label:Object(J.a)("common.show_all"),hasFade:!1},n)})),e}return s()(a,[{key:"componentDidUpdate",value:function(e){var t=this.props,a=t.isEndorsementLoaded,r=t.endorsements;a&&r.isEmpty()&&this.startEditMode()}},{key:"render",value:function(){var e=this.props,t=e.endorsements,a=e.userName,r=e.onNewExpertiseSubmit,n=e.isEndorsementLoading,o=e.isUserLoading,i=e.viewport,l=e.isCurrentUser,s=e.isAppManager,c=e.isExpertiseAppManagerControlled,u=e.isExpertiseCreateAppManagerControlled,p=e.isActive,m=n||o,d=t.size>0,f=s||!c,g=s||!u,v=l||s,b=v?Object(J.a)("profile.expertise.edit_label"):Object(J.a)("profile.expertise.add_label"),h=this.state,E=h.isEditMode,C=h.shouldAutoFocus;return y.a.createElement(tt,{isStacked:!0,title:Object(J.a)("profile.expertise.label"),tileHeaderAction:p&&f&&d&&!E&&y.a.createElement("button",{type:"button",onClick:this.initializeEditState,className:"type--fauxLink"},b),viewport:i},p&&f&&E&&!m&&y.a.createElement("div",{className:"u-pad--medium"},y.a.createElement(Lt,{userName:a,onNewExpertiseSubmit:r,isCurrentUser:l,endorsements:t,canCreate:g,autoFocus:C})),y.a.createElement("div",{className:"u-pad--medium u-posRelative"},m&&y.a.createElement(wt.a,null),d&&this.renderExpertiseList(t,E&&f,v)))}}]),a}(re.b);h()(Ut,"propTypes",{peopleUrl:S.a.string.isRequired,userName:S.a.string,endorsements:_e.a.list,onExpertiseClick:S.a.func,onExpertiseRemoveClick:S.a.func,onNewExpertiseSubmit:S.a.func,isEndorsementLoading:S.a.bool,viewport:S.a.string,isCurrentUser:S.a.bool,isEndorsementLoaded:S.a.bool,isActive:S.a.bool}),h()(Ut,"defaultProps",{endorsements:new ae.a.List,onExpertiseClick:function(){},onExpertiseRemoveClick:function(){},onNewExpertiseSubmit:function(){},isEndorsementLoading:!0,isCurrentUser:!1,isActive:!1});var At=Ut,Ft=a(19);var Tt=Object(Ft.a)([function(e){return e.get("endorsement")},function(e,t){return t}],(function(e,t){return e.get(t)||new ae.a.Map})),Mt=Object(Ft.a)([Tt],(function(e){return e.get("loading")||!1})),Dt=Object(Ft.a)([Tt],(function(e){return e.get("loaded")||!1})),zt=Object(Ft.a)([Tt],(function(e){return e.get("result")||new ae.a.List}));function Bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var qt=function(e){m()(a,e);var t=Bt(a);function a(){var e;i()(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),h()(u()(e),"onExpertiseClick",(function(t,a){e.props.setEndorsed(t,a)})),h()(u()(e),"onExpertiseRemoveClick",(function(t){e.props.removeEndorsement(t)})),h()(u()(e),"onNewExpertiseSubmit",function(){var t=He()(qe.a.mark((function t(a){var r,n,o,i;return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props.endorsements,n=a.listOfExpertise.filter((function(e){return!r.some((function(t){return t.expertise.name===e.get("name")}))})),o=[],i=n.map((function(t){return t.get("id")?e.props.createEndorsement(t.toJS()):e.props.createExpertise(t).catch((function(){return o.push(t.get("name"))}))})),t.prev=4,t.next=7,Promise.all(i);case 7:return t.prev=7,o.length>0&&e.props.showError(Object(J.a)("common.error_message")),t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[4,,7,10]])})));return function(e){return t.apply(this,arguments)}}()),e}return s()(a,[{key:"componentDidMount",value:function(){this.props.loadEndorsements()}},{key:"componentDidUpdate",value:function(e){(this.props.peopleId!==e.peopleId||this.props.isUserLoading!==e.isUserLoading&&!this.props.isUserLoading)&&this.props.loadEndorsements()}},{key:"render",value:function(){var e=this.props,t=e.isExpertiseAppManagerControlled,a=e.isAppManager,r=e.endorsements;return!t||a||r.size?y.a.createElement(At,n()({},this.props,{onExpertiseClick:this.onExpertiseClick,onExpertiseRemoveClick:this.onExpertiseRemoveClick,onNewExpertiseSubmit:this.onNewExpertiseSubmit})):null}}]),a}(re.b);h()(qt,"propTypes",{sfUserId:S.a.string,peopleId:S.a.string.isRequired,peopleUrl:S.a.string.isRequired,endorsements:_e.a.list,isEndorsementLoading:S.a.bool,isActive:S.a.bool,loadEndorsements:S.a.func.isRequired}),h()(qt,"defaultProps",{endorsements:new ae.a.List,isEndorsementLoading:!1,isActive:!0});var Wt=Object(C.connect)((function(e,t){var a=t.peopleId;return{userName:(Object(R.b)(e,a)||new ae.a.Map).get("name"),endorsements:zt(e,a),isEndorsementLoading:Mt(e,a),peopleUrl:Object(x.y)(e,"/people"),isAppManager:Object(P.isCurrentUserAppManager)(e),isExpertiseAppManagerControlled:Object(x.J)(e),isExpertiseCreateAppManagerControlled:Object(x.K)(e)}}),(function(e,t){var a=t.peopleId;return{loadEndorsements:function(){return e(Object(vt.c)(a))},setEndorsed:function(t,r){return e(Object(vt.e)(a,t,r))},createExpertise:function(t){return e(Object(vt.b)(a,t))},createEndorsement:function(t){return e(Object(vt.a)(a,t))},removeEndorsement:function(t){return e(Object(vt.d)(a,t))},showError:function(t){return e(Object(ze.f)(t))}}}))(qt),Ht=a(2867),Jt=a(2667),Vt=a(1025);function Gt(e){var t=e.manager,a=e.reports,r=e.peopleId;return y.a.createElement(tt,{title:Object(J.a)("profile.tiles.managers_and_reports_title")},t&&y.a.createElement("div",{className:"managersTile-item"},y.a.createElement("h3",{className:"type--stamp"},Object(J.a)("common.manager")),y.a.createElement(Vt.a,{user:t,showOrgChart:!0,orgChartChildFocus:r,layout:"horizontal",size:"large"})),a.size>0&&y.a.createElement("div",{className:"managersTile-item ".concat(t?"u-border-top":null)},y.a.createElement("h3",{className:"type--stamp"},Object(J.a)(1===a.size?"common.direct_reports_count":"common.direct_reports_count_plural",{count:a.size})),y.a.createElement(Jt.a,{users:a,isOverlapping:!0,perRow:8})))}Gt.propTypes={manager:S.a.instanceOf(pt.b),reports:_e.a.list,peopleId:S.a.string},Gt.defaultProps={reports:new ae.a.List};var Qt=Gt,Kt=a(2868);function Zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var Xt=function(e){m()(a,e);var t=Zt(a);function a(){var e;i()(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),h()(u()(e),"render",(function(){return y.a.createElement(Qt,e.props)})),e}return s()(a,[{key:"componentDidMount",value:function(){this.props.loadOrgChartData(this.props.peopleId)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.peopleId!==e.peopleId&&this.props.loadOrgChartData(e.peopleId)}}]),a}(re.b);h()(Xt,"propTypes",{peopleId:S.a.string.isRequired});var Yt=Object(C.connect)((function(e,t){var a=Object(Kt.c)(e,t.peopleId),r=Object(Kt.e)(e,t.peopleId);return{manager:a&&a.user,reports:r.map((function(e){return e.user})).sortBy((function(e){return e.get("name")}))}}),{loadOrgChartData:Ht.b})(Xt),$t=a(3734),ea=a(598),ta=a(52),aa=a(113),ra=a(450);function na(e){var t=e.peopleId,a=e.sfUserId,r=e.filter,n=Object(ra.a)({initialParams:new ae.a.Map({peopleId:t,sfUserId:a,filter:r,size:24})}),o=n.sites,i=n.loading,l=n.loadMore,s=n.canPaginate;return y.a.createElement("div",{className:"Modal-content u-pad--small","data-testid":"siteList"},y.a.createElement(ea.a,{sites:o,isLoading:i,onLoadMore:l,canPaginate:s,showMemberCount:!1}))}na.propTypes={filter:S.a.string,peopleId:S.a.string.isRequired,sfUserId:S.a.string.isRequired},na.defaultProps={filter:"all"};var oa=Object(aa.a)((function(e){return{name:ta.Ab,title:e.title,classes:["Modal--mini"]}}))(na),ia=a(1014),la=a(2692);function sa(e){var t=e.filter,a=e.peopleId,r=e.sfUserId;return y.a.createElement("div",{className:"Modal-content"},y.a.createElement(la.a,{size:24,filter:t,peopleId:a,sfUserId:r,itemComponent:ia.a,showContact:!0,showPopovers:!1}))}sa.propTypes={filter:S.a.oneOf(["followers","following"]).isRequired,peopleId:S.a.string.isRequired,sfUserId:S.a.string.isRequired};var ca={sites:oa,users:Object(aa.a)((function(e){return{name:"followers"===e.filter?ta.Bb:ta.Cb,title:e.title,classes:["Modal--mini"]}}))(sa)};function ua(e){var t=e.count,a=e.label,r=e.modalTitle,n=e.type,o=e.filter,i=e.peopleId,l=e.sfUserId,s=e.icon,c=e.ariaLabel,u=ca[n];if(!u)return null;var p=t>=1e3?"999+":t;return y.a.createElement("li",{className:"ProfileStats-item"},y.a.createElement(Ve.a,{modal:y.a.createElement(u,{title:r,filter:o,peopleId:i,sfUserId:l})},(function(e){return y.a.createElement($e.a,{icon:s,isLineIcon:!0,sourceSize:"16",hasCurrentColorIcon:!0,onClick:e,ariaLabel:c},y.a.createElement("span",{className:"type--secondary","aria-hidden":"true"},"".concat(p," ").concat(a)))})))}ua.propTypes={count:S.a.number.isRequired,label:S.a.string.isRequired,type:S.a.oneOf(["sites","users"]).isRequired,icon:S.a.string,ariaLabel:S.a.string.isRequired},ua.defaultProps={icon:"user"};var pa=ua;function ma(e){var t=e.userFollowingCount,a=e.userFollowersCount,r=e.siteFollowingCount,n=e.siteManagingCount,o=e.siteMemberCount,i=e.userName,l=e.peopleId,s=e.sfUserId;return!!(t||a||r)&&y.a.createElement("ul",{className:"ProfileStats"},t>0&&y.a.createElement(pa,{type:"users",filter:"following",count:t,label:Object(J.a)("common.following"),modalTitle:Object(J.a)("profile.follow_modal.following.title",{name:i}),peopleId:l,sfUserId:s,ariaLabel:Object(J.a)("profile.follow.user_following_label",{count:t})}),a>0&&y.a.createElement(pa,{type:"users",filter:"followers",count:a,label:Object(J.a)("common.followers"),modalTitle:Object(J.a)("profile.follow_modal.followers.title",{name:i}),peopleId:l,sfUserId:s,ariaLabel:Object(J.a)("profile.follow.user_followers_label",{count:a})}),r>0&&y.a.createElement(pa,{type:"sites",icon:"sites",filter:"following",count:r,label:Object(J.a)("common.following"),modalTitle:Object(J.a)("profile.follow_modal.sites.title",{name:i}),peopleId:l,sfUserId:s,ariaLabel:Object(J.a)("profile.follow.sites_following_label",{count:r})}),o>0&&y.a.createElement(pa,{type:"sites",icon:"sites",filter:"members",count:o,label:Object(J.a)("common.member"),modalTitle:Object(J.a)("profile.member_modal.sites.title",{name:i}),peopleId:l,sfUserId:s,ariaLabel:Object(J.a)("profile.follow.sites_member_label",{count:o})}),n>0&&y.a.createElement(pa,{type:"sites",icon:"key",filter:"managing",count:n,label:Object(J.a)("common.managing"),modalTitle:Object(J.a)("profile.follow_modal.sites_manage.title",{name:i}),peopleId:l,sfUserId:s,ariaLabel:Object(J.a)("profile.follow.sites_managing_label",{count:n})}))}ma.propTypes={userFollowingCount:S.a.number,userFollowersCount:S.a.number,siteFollowingCount:S.a.number,siteManagingCount:S.a.number,siteMemberCount:S.a.number,peopleId:S.a.string.isRequired,sfUserId:S.a.string.isRequired};var da=ma;var fa=Object(Ft.a)([function(e){return e.get("followStats")},function(e,t){return t}],(function(e,t){return e.get(t)||new ae.a.Map})),ga=Object(Ft.a)([fa],(function(e){return e.get("result")||new pt.a}));Object(Ft.a)([fa],(function(e){return e.get("loading")||!1})),Object(Ft.a)([fa],(function(e){return e.get("loaded")||!1}));function va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var ba=function(e){m()(a,e);var t=va(a);function a(){var e;i()(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),h()(u()(e),"render",(function(){return y.a.createElement(da,e.props)})),e}return s()(a,[{key:"componentDidMount",value:function(){this.props.loadFollowStats()}},{key:"componentDidUpdate",value:function(e){this.props.peopleId!==e.peopleId&&this.props.loadFollowStats()}}]),a}(y.a.PureComponent);h()(ba,"propTypes",{peopleId:S.a.string.isRequired,sfUserId:S.a.string.isRequired,userName:S.a.string,userFollowingCount:S.a.number,userFollowersCount:S.a.number,siteFollowingCount:S.a.number,siteManagingCount:S.a.number,siteMemberCount:S.a.number});var ha=Object(C.connect)((function(e,t){var a=ga(e,t.peopleId),r=Object(R.b)(e,t.peopleId);return{userName:r&&r.get("name"),sfUserId:r&&r.get("sfUserId"),userFollowingCount:a.userFollowingCount,userFollowersCount:a.userFollowersCount,siteFollowingCount:a.siteFollowingCount,siteManagingCount:a.siteManagingCount,siteMemberCount:a.siteMemberCount}}),(function(e,t){return{loadFollowStats:function(){return e(Object($t.a)(t.peopleId))}}}))(ba),Ea=a(938),ya=a(129),Ca=a(2032);function Oa(e){var t=e.user,a=e.isCurrentUser,r=t.get("about")?y.a.createElement(Ca.a,{input:t.get("about")}):y.a.createElement("p",{className:"type--secondary"},a?Object(J.a)("profile.missing_bio.current_user"):Object(J.a)("profile.missing_bio.other_user",{name:t.get("name")}));return y.a.createElement(y.a.Fragment,null,y.a.createElement("h2",{className:"type--stamp u-marg-b--xsmall u-sm-hide"},Object(J.a)("profile.heading.about")),y.a.createElement("div",{className:"Profile-info Content"},r))}Oa.propTypes={user:S.a.instanceOf(pt.b).isRequired,isCurrentUser:S.a.bool},Oa.defaultProps={isCurrentUser:!1};var Ia=Oa,wa=a(31),ja=a.n(wa),_a=a(22),Na=a.n(_a),Pa=a(66),xa=a(170);function Ra(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var ka=function(e){m()(a,e);var t=Ra(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.forceUpdate()}),500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this.props,t=e.utcOffset,a=e.timezoneName,r="number"==typeof t?Object(xa.a)(t):t,n=Na()().utcOffset(r);return y.a.createElement("div",null,n.format(Pa.q)," (",a,")")}}]),a}(y.a.Component);ka.propTypes={utcOffset:S.a.oneOfType([S.a.number,S.a.string]).isRequired,timezoneName:S.a.string.isRequired},ka.defaultProps={utcOffset:0};var La=ka,Sa=a(2593),Ua=a(2583),Aa=a(32),Fa=Object(Aa.c)(Pa.d),Ta=Object(Aa.c)(Pa.c);function Ma(e){var t=e.user,a=e.customFields,r=e.isTimezoneEnabled,n=e.isUserCategoryEnabled,o=e.userCategoryLabel,i=e.children,l=e.viewport,s=e.isLoading,c=r&&t.get("timezoneName")?y.a.createElement(La,{utcOffset:t.get("timezoneOffset"),timezoneName:t.get("timezoneName")}):void 0,u=t.get("hireDate")&&Ta(t.get("hireDate")),p=t.get("birthday")&&Fa(Object(Aa.g)(t.get("birthday"))),m=t.get("userCategory"),d=n&&m?[{id:"userCategory",label:o,value:m.name?y.a.createElement(Xe.a,{to:"/people&userCategory=".concat(m.id)},m.name):null}]:[],f=[].concat(ja()(a.toArray()),d,[{label:Object(J.a)("profile.details.birthday"),value:p},{label:Object(J.a)("profile.details.hire_date"),value:u},{label:Object(J.a)("profile.details.local_time"),value:c},{label:Object(J.a)("location"),value:t.get("location")},{label:Object(J.a)("profile.details.division"),value:t.get("division")},{label:Object(J.a)("profile.details.company"),value:t.get("company")}]).filter((function(e){return!!e.value}));return 0!==f.length||s?y.a.createElement(tt,{title:Object(J.a)("profile.heading.details"),viewport:l},y.a.createElement("div",{className:"u-pad--medium"},y.a.createElement("aside",{className:"Profile-listContainer u-posRelative u-zIndex--0"},y.a.createElement(bt.a,{height:680,label:Object(J.a)("common.show_all"),hasFade:!1},y.a.createElement(Sa.a,{layout:"stackedBorder"},s?y.a.createElement(y.a.Fragment,null,y.a.createElement(Ua.a,{title:y.a.createElement(Ie.a,{width:"50%"})},y.a.createElement(Ie.a,{width:"30%"})),y.a.createElement(Ua.a,{title:y.a.createElement(Ie.a,{width:"50%"})},y.a.createElement(Ie.a,{width:"30%"})),y.a.createElement(Ua.a,{title:y.a.createElement(Ie.a,{width:"50%"})},y.a.createElement(Ie.a,{width:"30%"}))):f.map((function(e){return y.a.createElement(Ua.a,{id:e.id,title:e.label,isHtml:e.isHtml,key:e.id||e.label},ae.a.Iterable.isIterable(e.value)?e.value.join(", "):e.value)}))),i)))):null}Ma.propTypes={user:S.a.instanceOf(pt.b),customFields:_e.a.list,isLoading:S.a.bool,viewport:S.a.string},Ma.defaultProps={customFields:new ae.a.List,isLoading:!1};var Da=Ma,za=a(767),Ba=a(309),qa=a(1017),Wa=a(160),Ha=a(213),Ja=a(299);function Va(e){var t=e.onRemove,a=e.onSelectFile,r=e.hasExistingImage,n=r?Object(J.a)("profile.replace_profile_image"):Object(J.a)("profile.upload_profile_image");return y.a.createElement(Wa.a,{hArrowPosition:"center",hasArrow:!0},y.a.createElement(Ha.a,null,y.a.createElement(Ja.a,{element:"label"},y.a.createElement("input",{className:"AddFrom-input",type:"file",accept:"image/*",onChange:a}),y.a.createElement("span",null,n)),r&&y.a.createElement(Ja.a,{onClick:t},Object(J.a)("profile.remove_profile_image"))))}Va.propTypes={onRemove:S.a.func,onSelectFile:S.a.func,hasExistingImage:S.a.bool},Va.defaultProps={onRemove:function(){},onSelectFile:function(){},hasExistingImage:!1};var Ga=Va;function Qa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var Ka=function(e){m()(a,e);var t=Qa(a);function a(){return i()(this,a),t.apply(this,arguments)}return s()(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.image,r=e.canUpload,n=e.viewport,o=e.chooseAvatar,i=e.removeAvatar,l=y.a.createElement(Ne.a,{name:t,img:a});return!r||"mobile"!==n&&a?y.a.createElement("div",{className:"ProfileAvatar"},r?y.a.createElement(qa.a,null,(function(e,t){var r=e.activate,n=e.deactivate;return y.a.createElement(Ba.a,{eventName:"click",onOutside:n},y.a.cloneElement(l,{onClick:r}),y.a.createElement("button",{className:"ProfileAvatar-uploadButton ".concat(t?"is-active":""),type:"button",onClick:t?n:r,"aria-label":Object(J.a)("profile.avatar.update"),"aria-expanded":t},y.a.createElement(se.a,{isLine:!0,name:"camera",sourceSize:"28"})),t&&y.a.createElement("div",{className:"ProfileAvatar-dropdown"},y.a.createElement(Ga,{onRemove:a&&i,onSelectFile:o,hasExistingImage:!!a})))})):l):y.a.createElement("div",{className:"ProfileAvatar"},l,y.a.createElement("div",{className:"ProfileAvatar-uploadButton"},y.a.createElement(se.a,{isLine:!0,name:"camera",sourceSize:"28"})),y.a.createElement("input",{className:"u-posFit Profile-uploadInput",type:"file",accept:"image/*",onChange:o}))}}]),a}(y.a.PureComponent);h()(Ka,"propTypes",{name:S.a.string,image:S.a.string,canUpload:S.a.bool,chooseAvatar:S.a.func,removeAvatar:S.a.func}),h()(Ka,"defaultProps",{canUpload:!1,chooseAvatar:function(){},removeAvatar:function(){}});var Za=Ka,Xa=a(2871),Ya=a.n(Xa),$a=a(3052);function er(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var tr=function(e){m()(a,e);var t=er(a);function a(){var e;i()(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),h()(u()(e),"removeCoverImage",(function(){e.props.removeCoverImage()})),e}return s()(a,[{key:"render",value:function(){var e,t=this.props,a=t.hasUploadButton,r=t.image,n=t.viewport,o=t.chooseCover,i=a,l="mobile"===n,s=Ke()((e={ProfileCover:!0},h()(e,Ya.a.trigger,"desktop"===n),h()(e,"ProfileCover--smallHeight",!i&&!r),h()(e,"u-posRelative",!0),h()(e,"theme--bg",!r),e)),c=y.a.createElement("div",{className:"u-posFit ProfileCover-emptyMessage"},y.a.createElement("div",{className:"u-posAbsoluteCenter ProfileCover-emptyMessage-wrapper"},y.a.createElement("div",{className:"ProfileCover-emptyMessage-icon"},y.a.createElement(se.a,{isLine:!0,name:"camera",sourceSize:"28"})),y.a.createElement("h2",{className:"type--500 type--b1"},Object(J.a)("profile.cover.upload")),l||y.a.createElement("p",{className:"u-opacity--8 u-marg-t--xsmall"},Object(J.a)("profile.cover.recommended_size")),y.a.createElement("input",{id:"coverImageUploadInput",className:"u-posFit Profile-uploadInput",type:"file",accept:"image/*",onChange:o})));return y.a.createElement("div",{className:s},r&&y.a.createElement(ce.a,{img:r,aspectRatio:"landscape",imageClassName:"ProfileCover-image",removeBorder:!0,size:{mobile:"100vw",desktop:"746px"}}),i&&y.a.createElement($a.a,{customEmptyState:c,image:r,viewport:n,chooseCover:o,removeHandler:this.removeCoverImage}))}}]),a}(y.a.PureComponent);function ar(e){var t=e.user,a=e.viewport,r=e.isCurrentUser,n=e.followButton,o=e.favoriteComponent,i=e.uploadFile,l=e.setCoverImage,s=e.removeCoverImage,c=e.setAvatar,u=e.removeAvatar,p=e.chooseCover,m=e.chooseAvatar,d=e.coverImage,f=e.avatarImage,g=e.currentUserIsAppManager;return y.a.createElement(y.a.Fragment,null,y.a.createElement(tr,{image:d,hasUploadButton:r||g,uploadFile:i,setCoverImage:l,removeCoverImage:s,viewport:a,chooseCover:p}),y.a.createElement("div",{className:"Profile-main"},y.a.createElement("div",{className:"Profile-avatarContainer"},y.a.createElement(Za,{name:t.get("name"),url:t.get("url"),image:f,canUpload:r||g,viewport:a,setAvatar:c,removeAvatar:u,chooseAvatar:m})),t.get("name")&&y.a.createElement("div",{className:"u-marg-b--medium"},y.a.createElement(za.a,{size:"large",name:t.get("name"),title:t.get("title"),department:t.get("department"),street:t.get("street"),location:t.get("location"),division:t.get("division"),company:t.get("company"),peopleId:t.get("peopleId"),showOrgChart:!0},t.getIn(["permissions","isAppManager"])&&y.a.createElement("div",null,y.a.createElement("div",{className:"stamp"},Object(J.a)("common.permission.app_manager"))))),(r||g)&&"mobile"!==a&&(r||!g?y.a.createElement(_t.a,{label:Object(J.a)("profile.edit_button.current_user"),linkTo:"/my-settings/profile",size:"large",appearance:"brand"}):y.a.createElement(_t.a,{label:Object(J.a)("profile.edit_button.another_user"),linkTo:"/user-settings/".concat(t.get("peopleId"),"/profile"),size:"large"})),!r&&y.a.createElement(y.a.Fragment,null,n,y.a.createElement("div",{className:"Profile-favoriteContainer"},o))))}h()(tr,"propTypes",{hasUploadButton:S.a.bool}),h()(tr,"defaultProps",{hasUploadButton:!1}),ar.propTypes={user:S.a.instanceOf(pt.b).isRequired,viewport:S.a.string,isCurrentUser:S.a.bool,followButton:S.a.node,favoriteComponent:S.a.node,uploadFile:S.a.func,setCoverImage:S.a.func,removeCoverImage:S.a.func,setAvatar:S.a.func,removeAvatar:S.a.func,currentUserIsAppManager:S.a.bool},ar.defaultProps={isCurrentUser:!1,uploadFile:function(){},setCoverImage:function(){},removeCoverImage:function(){},setAvatar:function(){},removeAvatar:function(){},currentUserIsAppManager:!1};var rr=ar;function nr(e){var t=e.pageHeading,a=e.user,r=e.isCurrentUser,n=e.isEndorsementLoaded,o=e.isOrgChartEnabled,i=e.isUserCategoryEnabled,l=e.userCategoryLabel,s=e.isTimezoneEnabled,c=e.customFields,u=e.peopleId,p=e.isUserLoading,m=e.isUserFullyLoaded,d=e.chooseCover,f=e.isAboutEnabled,g=e.chooseAvatar,v=e.isActive,b="desktop",h=Ke()({row:!0,"row--gutterSketchLarge":!0,ProfilePageLayout:!0});return m?y.a.createElement("div",{className:h},y.a.createElement("h1",{className:"u-displayNone"},t),y.a.createElement("div",{className:"column"},y.a.createElement("div",{className:"ProfileTile ProfilePageLayout-item"},y.a.createElement("div",{className:"u-posRelative ".concat(f?"u-border-bottom":"")},r&&y.a.createElement(Ze.a,{name:"profile",position:{top:5,right:5}}),y.a.createElement(rr,e),y.a.createElement("div",{className:"Profile-contactContainer"},y.a.createElement(Ea.a,{email:a.get("email"),mobile:a.get("mobile"),phone:a.get("phone"),phoneExtension:a.get("phoneExtension"),videoCallProvider:a.get("videoCallProvider"),videoCallUsername:a.get("videoCallUsername"),viewport:b}))),f&&y.a.createElement("div",{className:"Profile-lower"},y.a.createElement(Ia,{user:a,isCurrentUser:r})),y.a.createElement(ha,{peopleId:u})),y.a.createElement("div",{className:"ProfilePageLayout-item"},y.a.createElement(Wt,{peopleId:u,viewport:b,isCurrentUser:r,isEndorsementLoaded:n,isActive:v})),y.a.createElement(rt,{peopleId:u})),y.a.createElement("div",{className:"column"},y.a.createElement("div",{className:"ProfilePageLayout-item u-hideIfEmpty"},r&&!p&&y.a.createElement(gt,{user:a,chooseCover:d,chooseAvatar:g})),o&&y.a.createElement("div",{className:"ProfilePageLayout-item u-hideIfEmpty"},y.a.createElement(Yt,{peopleId:u})),y.a.createElement(Da,{user:a,isCurrentUser:r,customFields:c,isTimezoneEnabled:s,isUserCategoryEnabled:i,userCategoryLabel:l,viewport:b,isLoading:p}))):y.a.createElement(ya.a,null)}function or(e){var t=e.pageHeading,a=e.user,r=e.isCurrentUser,n=e.customFields,o=e.isEndorsementLoaded,i=e.isUserFullyLoaded,l=e.isUserCategoryEnabled,s=e.isAboutEnabled,c=e.userCategoryLabel,u=e.isTimezoneEnabled,p=e.peopleId,m=e.isUserLoading,d=e.chooseCover,f=e.chooseAvatar,g="mobile";return i?y.a.createElement("div",{className:"u-neg-t--medium u-neg-b--medium"},y.a.createElement("h1",{className:"u-displayNone"},t),r&&!m&&y.a.createElement(gt,{user:a,chooseCover:d,chooseAvatar:f}),!m&&y.a.createElement(rr,e),y.a.createElement(tt,{title:Object(J.a)("profile.heading.contact"),viewport:g},y.a.createElement("div",{className:"Profile-contactContainer--mobile"},y.a.createElement(Ea.a,{email:a.get("email"),mobile:a.get("mobile"),phone:a.get("phone"),phoneExtension:a.get("phoneExtension"),videoCallProvider:a.get("videoCallProvider"),videoCallUsername:a.get("videoCallUsername"),viewport:g,layout:"stacked"}))),y.a.createElement(Wt,{peopleId:p,viewport:g,isCurrentUser:r,isEndorsementLoaded:o}),s&&y.a.createElement(tt,{title:Object(J.a)("profile.heading.about"),viewport:g},y.a.createElement("div",{className:"u-pad--medium"},y.a.createElement(bt.a,{height:110,label:Object(J.a)("common.show_all")},y.a.createElement(Ia,{user:a,isCurrentUser:r,isUserLoading:m})))),y.a.createElement(Da,{user:a,isCurrentUser:r,customFields:n,isTimezoneEnabled:u,isUserCategoryEnabled:l,userCategoryLabel:c,viewport:g,isLoading:m},y.a.createElement(ha,{peopleId:p})),y.a.createElement(rt,{peopleId:p})):y.a.createElement(ya.a,null)}nr.propTypes={user:S.a.instanceOf(pt.b).isRequired,currentUserIsAppManager:S.a.bool,isCurrentUser:S.a.bool,isOrgChartEnabled:S.a.bool,followButton:S.a.node,favoriteComponent:S.a.node,customFields:_e.a.list,chooseAvatar:S.a.func,chooseCover:S.a.func,isUserLoading:S.a.bool,isEndorsementLoaded:S.a.bool,isAboutEnabled:S.a.bool,isActive:S.a.bool,pageHeading:S.a.string.isRequired},nr.defaultProps={isCurrentUser:!1,customFields:new ae.a.List,chooseAvatar:function(){},chooseCover:function(){},isUserLoading:!1,isAboutEnabled:!0,isActive:!0},or.propTypes={name:S.a.string.isRequired,isCurrentUser:S.a.bool,isUserLoading:S.a.bool,orgChartUrl:S.a.string,followButton:S.a.node,favoriteComponent:S.a.node,customFields:_e.a.list,chooseAvatar:S.a.func,chooseCover:S.a.func,isEndorsementLoaded:S.a.bool,isAboutEnabled:S.a.bool,pageHeading:S.a.string.isRequired},or.defaultProps={isCurrentUser:!1,customFields:new ae.a.List,isUserLoading:!1,chooseAvatar:function(){},chooseCover:function(){},isAboutEnabled:!0};var ir=or,lr=a(2010);function sr(e){var t=e.onClose,a=e.onCrop,r=e.imageFile,n=e.imageData,o=e.buttonText;return y.a.createElement(lr.a,{title:Object(J.a)("profile.avatar.cropper.title"),id:"PROFILE_AVATAR_CROP_MODAL",img:n,file:r,onCrop:a,modalEvents:{onClose:t},buttonLabel:o||Object(J.a)("common.crop"),crops:[{id:"thumbnail",aspectRatio:1,minWidth:200,maxWidth:200}]})}sr.propTypes={onClose:S.a.func,onCrop:S.a.func.isRequired,imageFile:S.a.instanceOf(File),imageData:S.a.string,buttonText:S.a.string};var cr=sr;function ur(e){var t=e.onClose,a=e.onCrop,r=e.imageFile,n=e.imageData,o=e.buttonText;return y.a.createElement(lr.a,{title:Object(J.a)("profile.cover.cropper.title"),id:ta.yb,img:n,file:r,onCrop:a,modalEvents:{onClose:t},buttonLabel:o,crops:[{id:"widescreen",aspectRatio:2.457142857,minWidth:746,maxWidth:746}]})}ur.propTypes={buttonText:S.a.string,onClose:S.a.func,onCrop:S.a.func},ur.defaultProps={onClose:function(){},onCrop:function(){}};var pr=ur,mr=a(771),dr=a(26),fr=a(288),gr=a(97),vr=a(158);function br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var hr=10485760,Er=2048e3,yr=function(e){m()(a,e);var t=br(a);function a(){var e;i()(this,a);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n)),h()(u()(e),"state",{currentImageFile:null,currentImageData:null,currentImageName:null,chosenAvatar:null,chosenCover:null}),h()(u()(e),"onCrop",(function(t){var a=t.widescreen,r=t.thumbnail,n=e.state.currentImageName;a?(e.props.setCoverImage(a,n),e.setState({chosenCover:a})):(e.props.setAvatar(r,n),e.setState({chosenAvatar:r}))})),h()(u()(e),"chooseImage",(function(t,a){return function(){var r=He()(qe.a.mark((function r(n){var o,i,l,s,c,u,p,m,d;return qe.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=n.target,i=void 0===o?{}:o,r.prev=1,l=i.files,(s=void 0===l?{}:l).length){r.next=5;break}return r.abrupt("return");case 5:if(!((c=s[0]).size>hr)){r.next=9;break}return e.props.showImageTooLargeWarning(),r.abrupt("return");case 9:return u=1/0,Object(vr.f)()&&c.size>Er&&(u=1080),p=a?function(t){(t.width<a||t.height<a)&&e.props.warning(Object(J.a)("file.upload.too_small_warning",{size:a}))}:null,r.next=14,Object(gr.resizeImageForUpload)(c,u,1/0,p);case 14:m=r.sent,e.setState({currentImageData:m,currentImageFile:c,currentImageName:c.name},(function(){return t({imageData:m,imageFile:c})})),r.next=22;break;case 18:r.prev=18,r.t0=r.catch(1),d=null!==r.t0&&void 0!==r.t0&&r.t0.message?Object(dr.a)(r.t0):Object(J.a)("image.file_upload_error_message"),e.props.showImageUploadErrorFlash(d);case 22:case"end":return r.stop()}}),r,null,[[1,18]])})));return function(e){return r.apply(this,arguments)}}()})),h()(u()(e),"removeAvatar",(function(){e.setState({chosenAvatar:null}),e.props.removeAvatar()})),h()(u()(e),"removeCoverImage",(function(){e.setState({chosenCover:null}),e.props.removeCoverImage()})),h()(u()(e),"resetImageState",(function(){e.setState({currentImageFile:null,currentImageData:null,currentImageName:null})})),h()(u()(e),"setFollowing",(function(){var t=e.props.user,a=!t.get("isFollowing"),r=t.get("sfUserId");e.props.setFollowing(r,a)})),h()(u()(e),"favorite",(function(){return e.props.setFavorited(!0)})),h()(u()(e),"unfavorite",(function(){return e.props.setFavorited(!1)})),h()(u()(e),"follow",(function(){return e.setFollowing(!0)})),h()(u()(e),"unFollow",(function(){return e.setFollowing(!1)})),e}return s()(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.viewport,r=t.user,o=t.currentUserIsAppManager,i=r.get("isFollowing",!1),l=y.a.createElement(mr.a,{peopleId:r.get("peopleId"),isStarred:r.get("isStarred",!1),isActive:r.get("isActive"),isLegacy:!1}),s=y.a.createElement(Ge.a,{isFollowing:i,context:"user",size:"large",onFollow:this.follow,onUnfollow:this.unFollow}),c="mobile"===a?ir:nr,u=this.state,p=u.currentImageData,m=u.currentImageFile,d=u.chosenAvatar,f=u.chosenCover,g=y.a.createElement(cr,{imageData:p,imageFile:m,onCrop:this.onCrop,onClose:this.reset}),v=y.a.createElement(pr,{imageData:p,imageFile:m,onCrop:this.onCrop,onClose:this.reset});return y.a.createElement(Z.a,{name:"Profile",text:Object(J.a)("page_title.profile",{name:r.get("name")})},(function(t){var a=t.pageTitle;return y.a.createElement(Ve.a,{modal:g},(function(t,i){return y.a.createElement(Ve.a,{modal:v},(function(t,u){return y.a.createElement(c,n()({},e.props,{pageHeading:a,removeAvatar:e.removeAvatar,removeCoverImage:e.removeCoverImage,coverImage:f||r.get("coverImageUrl"),avatarImage:d||r.get("img"),favoriteComponent:l,followButton:r.get("isActive")&&s,chooseAvatar:e.chooseImage(i,500),chooseCover:e.chooseImage(u),isAppManager:o,isActive:r.get("isActive")}))}))}))}))}}]),a}(re.b);h()(yr,"propTypes",{peopleId:S.a.string.isRequired,user:S.a.instanceOf(pt.b).isRequired,customFields:_e.a.list,isCurrentUser:S.a.bool,isOrgChartEnabled:S.a.bool,isUserLoading:S.a.bool,isUserLoaded:S.a.bool}),h()(yr,"defaultProps",{customFields:new ae.a.List,isCurrentUser:!1,isUserLoading:!0,isUserLoaded:!1});var Cr=Object(C.connect)((function(e,t){var a=t.peopleId,r=Object(R.b)(e,a)||new ae.a.Map,n=Object(P.getCurrentUserId)(e);return{user:r,customFields:Object(R.a)(e,a),isUserCategoryEnabled:Object(x.v)(e,"peopleCustomFieldEnabled"),userCategoryLabel:Object(x.v)(e,"peopleCustomFieldSingular"),isUserFullyLoaded:!t.isUserLoading&&t.isUserFullModel,isEndorsementLoaded:Dt(e,a),isTimezoneEnabled:Object(x.ab)(e,"timezone"),isCurrentUser:n===a,isOrgChartEnabled:Object(x.U)(e),currentUserIsAppManager:Object(P.isCurrentUserAppManager)(e),isAboutEnabled:Object(x.ab)(e,"about")}}),(function(e,t){var a=t.peopleId,r=function(){var t=He()(qe.a.mark((function t(a,r){var n,o;return qe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(gr.getParamsForImageUpload)(r,a),t.next=3,e(Object(Je.upload)(n,!1));case 3:return o=t.sent,t.abrupt("return",o.jqXhr);case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}();return{setFollowing:function(t,a){return e(Object(I.l)(t,a))},setFavorited:function(t){return e(Object(I.k)(a,t))},setCoverImage:function(t,n){return He()(qe.a.mark((function o(){var i;return qe.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r(t,n);case 2:return i=o.sent,o.abrupt("return",e(Object(I.j)(a,i.toJS())));case 4:case"end":return o.stop()}}),o)})))()},removeCoverImage:function(){return e(Object(I.f)(a))},setAvatar:function(t,n){return He()(qe.a.mark((function o(){var i;return qe.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,r(t,n);case 2:return i=o.sent,o.abrupt("return",e(Object(I.n)(a,i.toJS())));case 4:case"end":return o.stop()}}),o)})))()},removeAvatar:function(){return e(Object(I.g)(a))},showImageTooLargeWarning:function(){var t=Object(fr.a)(hr);return e(Object(ze.f)(Object(J.a)("file.upload.too_large_warning",{size:t})))},warning:function(t){return e(Object(ze.l)(t))},showImageUploadErrorFlash:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(J.a)("common.error_message");e(Object(ze.f)(t))}}}))(yr);function Or(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var Ir=function(e){m()(a,e);var t=Or(a);function a(){var e;i()(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),h()(u()(e),"render",(function(){return y.a.createElement(Cr,n()({},e.props,{key:e.props.peopleId}))})),e}return s()(a,[{key:"componentDidMount",value:function(){!1===this.props.isActive&&this.props.addInactiveWarning()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!1!==this.props.isActive&&!1===e.isActive&&this.props.addInactiveWarning()}}]),a}(y.a.PureComponent);h()(Ir,"propTypes",{peopleId:S.a.string.isRequired,userName:S.a.string});var wr=Object(C.connect)((function(e,t){var a=Object(R.b)(e,t.peopleId);return{isActive:a?!0===a.get("isActive"):void 0}}),(function(e){return{addInactiveWarning:function(){return e(Object(ze.l)(Object(J.a)("profile.user_inactive_warning_flash")))}}}))(Ir);function jr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v()(e);if(t){var n=v()(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return f()(this,a)}}var _r=function(e){m()(a,e);var t=jr(a);function a(){var e;i()(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o)),h()(u()(e),"renderBlogs",(function(){return y.a.createElement(w.a,null,y.a.createElement(O.c,{exact:!0,path:"/people/:peopleId/blog/add",render:e.props.canCreateBlogPost?function(e){return y.a.createElement(j.a,n()({},e,{contentType:"blog_post",isAdd:!0}))}:_.a}),y.a.createElement(O.c,{exact:!0,path:"/people/:peopleId/blog/:contentId",render:function(e){return y.a.createElement(j.a,n()({},e,{contentType:"blog_post"}))}}),y.a.createElement(O.c,{exact:!0,path:"/people/:peopleId/blog/:contentId/edit",render:function(e){return y.a.createElement(j.a,n()({},e,{contentType:"blog_post",isEdit:!0}))}}))})),h()(u()(e),"render",(function(){return"404"===e.props.error?y.a.createElement(N.a,null):y.a.createElement(w.a,null,y.a.createElement(O.c,{exact:!0,path:"/people/:peopleId",render:function(t){return y.a.createElement(wr,n()({},t,e.props))}}),y.a.createElement(O.c,{exact:!0,path:"/people/:peopleId/calendar",render:function(e){return y.a.createElement(O.b,{to:"/people/".concat(e.match.params.peopleId,"/calendar/all")})}}),y.a.createElement(O.c,{exact:!0,path:"/people/:peopleId/calendar/:source",component:ee}),y.a.createElement(O.c,{exact:!0,path:"/people/:peopleId/:tab(blogposts|content)",component:Fe}),e.props.isBlogEnabled?y.a.createElement(O.c,{path:"/people/:peopleId/blog",render:e.renderBlogs}):null,y.a.createElement(O.c,{exact:!0,path:"/people/:peopleId/must-reads",component:De}))})),e}return s()(a,[{key:"UNSAFE_componentWillMount",value:function(){this.props.shouldLoadUser&&this.props.loadUser(this.props.peopleId)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.peopleId!==e.peopleId&&e.shouldLoadUser&&this.props.loadUser(e.peopleId)}}]),a}(y.a.PureComponent);t.default=Object(C.connect)((function(e,t){var a=t.match.params.peopleId,r=Object(R.c)(e,a),n=Object(R.h)(e,a),o=Object(R.f)(e,a),i=Object(R.g)(e,a);return{peopleId:a,isUserLoading:n,isUserFullModel:o,shouldLoadUser:!(n||i&&o),viewport:Object(k.a)(e),error:r&&r.get("error"),isBlogEnabled:Object(x.I)(e,"blog"),canCreateBlogPost:Object(P.canCurrentUserCreateBlogPost)(e)}}),(function(e){return{loadUser:function(t){return e(Object(I.e)(t,null,!0))}}}))(_r)}}]);