(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{4e3:function(e,t,a){"use strict";a.r(t);var n=a(10),o=a.n(n),r=a(11),s=a.n(r),i=a(12),c=a.n(i),l=a(13),m=a.n(l),d=a(8),u=a.n(d),p=a(5),f=a.n(p),g=a(4),b=a.n(g),h=a(1),_=a.n(h),y=a(0),v=a.n(y),O=a(18),j=a(668),E=a(94),N=a(1011),M=a(850),S=a(70),C=a(190),D=a(3038),w=a(301),A=a(52),T=a(169),k=a(852),I=a(120),P=a(17),B=a(3);function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=u()(e);if(t){var o=u()(this).constructor;a=Reflect.construct(n,arguments,o)}else a=n.apply(this,arguments);return m()(this,a)}}var x="home-default",R=function(e){c()(a,e);var t=U(a);function a(){return o()(this,a),t.apply(this,arguments)}return s()(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props,t=e.isManagingSegments,a=e.currentSegmentId,n=e.isProcessing,o=e.isLoading,r=e.loadSegment,s=e.loadDashboard;!t&&a&&r(a),n&&!o&&s()}},{key:"shouldComponentUpdate",value:function(e){return this.props.dashboardId!==e.dashboardId||this.props.isTouchDevice!==e.isTouchDevice||this.props.isProcessing!==e.isProcessing||this.props.modifiedAt!==e.modifiedAt||!b.a.is(this.props.modifiedBy,e.modifiedBy)||this.props.isManagerControlled!==e.isManagerControlled||this.props.currentSegmentName!==e.currentSegmentName}},{key:"render",value:function(){var e=this.props,t=e.dashboardId,a=e.isProcessing,n=e.modifiedAt,o=e.modifiedBy,r=e.isManagerControlled,s=e.openApplyConfirmModal,i=e.applyToAllUsers,c=e.isSegmentsEnabled,l=e.isManagingSegments,m=e.currentSegmentName,d=v.a.createElement("button",{type:"button","aria-label":"applyConfirmModal",className:"type--fauxLink--alt",onClick:s}),u=c?Object(B.a)("home_default.description.caveats_segment",{link:d,segmentName:m||""}):Object(B.a)("home_default.description.caveats",{link:d}),p=c?m&&Object(B.a)("home_default.segment_overwrite_home",{segmentName:m}):Object(B.a)("home_default.overwrite_home");return v.a.createElement(C.a,{name:"ManageApplicationDefaultDashboard",text:Object(B.a)("page_title.manage_home_default")},v.a.createElement("div",{className:"HomeDefault-header u-marg-b--xlarge"},v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"column u-size-readable"},!1===r&&!a&&v.a.createElement(w.a,{name:A.O,title:p,buttonText:Object(B.a)("button_label.confirm"),onConfirm:i},c?v.a.createElement("p",null,Object(B.a)("home_default.overwrite_modal_message_segment")):v.a.createElement("p",null,Object(B.a)("home_default.overwrite_modal_message")),v.a.createElement("strong",{className:"type--500"},Object(B.a)("common.cannot_be_undone"))),v.a.createElement("div",{className:"u-marg--medium"},v.a.createElement("h1",{className:"type--title type--h4"},Object(B.a)("home_default.page_title")),n&&v.a.createElement("div",{className:"type--b3 type--secondary"},Object(B.a)("common.last_updated_at_by",{Datestamp:v.a.createElement(M.a,{input:n}),User:v.a.createElement("a",{href:o.get("url")},o.get("name"))}))),v.a.createElement("p",{className:"u-marg-b--small"},Object(B.a)("home_default.description.intro")),v.a.createElement("p",{className:"u-marg-b--small"},u),r&&v.a.createElement("p",{className:"type--red"},Object(B.a)("home_default.not_in_use_warning",{area:c?Object(B.a)("common.segment"):Object(B.a)("common.site")}))))),v.a.createElement("div",{className:"row"},v.a.createElement("div",{className:"column"},a?v.a.createElement(S.a,{message:l?Object(B.a)("home_default.default_setup_in_progress"):Object(B.a)("home_default.default_setup_in_progress_refresh")}):v.a.createElement(D.a,{dashboardId:t,isSite:!1,isDefault:!0,canManage:!0,isManagerControlled:r}))))}}]),a}(v.a.Component);f()(R,"propTypes",{dashboardId:_.a.string,isTouchDevice:_.a.bool,isProcessing:_.a.bool,modifiedAt:_.a.string,modifiedBy:_.a.instanceOf(b.a.Map),isManagerControlled:_.a.bool,isSegmentsEnabled:_.a.bool,openApplyConfirmModal:_.a.func,applyToAllUsers:_.a.func}),f()(R,"defaultProps",{isTouchDevice:!1,isSegmentsEnabled:!1}),t.default=Object(O.connect)((function(e){var t=Object(k.d)(e,x),a=Object(T.f)(e),n=Object(I.b)(e),o=Object(I.c)(e,n);return{isTouchDevice:e.getIn(["viewMode","isTouchDevice"],!1),modifiedAt:t.get("modifiedAt"),isProcessing:t.get("isProcessing"),modifiedBy:t.get("modifiedBy"),isManagerControlled:t.get("isManagerControlled"),isSegmentsEnabled:Object(P.V)(e),dashboardId:x,isManagingSegments:a,currentSegmentId:n,currentSegmentName:o&&o.get("name")}}),(function(e){return{openApplyConfirmModal:function(){return e(Object(E.open)(A.O))},applyToAllUsers:function(){return e(Object(j.c)(x))},loadSegment:function(t){return e(Object(N.b)(t))},loadDashboard:function(){return e(Object(j.g)(x))}}}))(R)}}]);