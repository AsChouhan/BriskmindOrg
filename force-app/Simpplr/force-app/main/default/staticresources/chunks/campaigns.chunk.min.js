(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{2582:function(e,a,t){e.exports={definitionList:"DefinitionList-module-definitionList___3BZ_6",title:"DefinitionList-module-title___2Pqwr",content:"DefinitionList-module-content___3au59",seperator:"DefinitionList-module-seperator___5WWW5","seperator--dashed":"DefinitionList-module-seperator--dashed___23ZZb",split:"DefinitionList-module-split___3wNvj",squashed:"DefinitionList-module-squashed___1ksg3",stacked:"DefinitionList-module-stacked___3amYU",lined:"DefinitionList-module-lined____K3g9",item:"DefinitionList-module-item___2-bQd",stackedBorder:"DefinitionList-module-stackedBorder___2w8TJ"}},2583:function(e,a,t){"use strict";t.d(a,"a",(function(){return C}));var n=t(10),r=t.n(n),c=t(11),i=t.n(c),o=t(12),l=t.n(o),s=t(13),u=t.n(s),m=t(8),d=t.n(m),p=t(5),g=t.n(p),b=t(15),f=t.n(b),h=t(1),v=t.n(h),E=t(0),O=t.n(E),y=t(1004),j=t(2582),k=t.n(j);function S(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=d()(e);if(a){var r=d()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return u()(this,t)}}var C=function(e){l()(t,e);var a=S(t);function t(){return r()(this,t),a.apply(this,arguments)}return i()(t,[{key:"render",value:function(){var e,a=this.props,t=a.title,n=a.children,r=a.isBlock,c=a.isHtml,i=a.whiteSpaceNormal,o=f()((e={},g()(e,k.a.item,!0),g()(e,"u-whiteSpaceNormal",i),e));if(!n)return null;var l=c&&"string"==typeof n?O.a.createElement("dd",{className:k.a.content,dangerouslySetInnerHTML:{__html:Object(y.a)(n)}}):O.a.createElement("dd",{className:k.a.content},n),s=O.a.createElement(O.a.Fragment,null,O.a.createElement("dt",{className:k.a.title},t),l);return r?O.a.createElement("div",{className:o},s):s}}]),t}(O.a.PureComponent);g()(C,"propTypes",{title:v.a.node.isRequired,children:v.a.node,isBlock:v.a.bool,isHtml:v.a.bool,whiteSpaceNormal:v.a.bool}),g()(C,"defaultProps",{whiteSpaceNormal:v.a.bool})},2593:function(e,a,t){"use strict";var n=t(5),r=t.n(n),c=t(15),i=t.n(c),o=t(1),l=t.n(o),s=t(0),u=t.n(s),m=t(2582),d=t.n(m);function p(e){var a,t=e.children,n=e.layout,c=u.a.Children.toArray(t).filter((function(e){return!!e}));if(0===c.length)return!1;var o=i()((a={},r()(a,d.a.definitionList,!0),r()(a,d.a[n],n),a));return u.a.createElement("dl",{className:o},c)}p.propTypes={children:l.a.node.isRequired,layout:l.a.oneOf(["stacked","squashed","lined","stackedBorder"])},p.defaultProps={layout:null},a.a=p},2611:function(e,a,t){"use strict";var n=t(5),r=t.n(n),c=t(0),i=t.n(c),o=t(18),l=t(1997),s=t(30);a.a=function(e,a){return Object(o.connect)((function(a){return r()({},e,Object(s.getCurrentUserPermissions)(a).get(e))}))((function(t){return t[e]?i.a.createElement(a,t):i.a.createElement(l.a,null)}))}},2648:function(e,a,t){"use strict";(function(e){var n=t(16),r=t.n(n),c=t(71),i=t.n(c),o=t(0),l=t.n(o),s=t(53),u=t(2649),m=t(324),d=t(654),p=t(284),g=t(3),b=t(1012),f=t(380);function h(a){var t=a.input,n=a.meta,c=a.isDisabled,o=i()(a,["input","meta","isDisabled"]),h=Object(d.a)(e.Simpplr.Salesforce.Audience.search,{size:9999}),v=h.loading,E=h.loaded,O=h.result,y=Object(m.b)(),j=y.isSegmentManager,k=y.isAppManager,S=j||k,C=E&&!O.listOfItems.length;return l.a.createElement(f.a,r()({input:t,meta:n},o),l.a.createElement(b.a,r()({isLoading:v,options:E&&O.listOfItems.map(p.c)||[],makeOption:function(e){var a=e.audienceId,t=e.name,n=e.audienceCount;return{value:a,label:"".concat(t," (").concat(n,")")}},renderOption:function(e){var a=e.data.item;return l.a.createElement(u.a,{audience:a})}},o,{isDisabled:c||C,value:t.value,onChange:t.onChange,onFocus:t.onFocus,onBlur:function(){return t.onBlur(t.value)}})),C&&l.a.createElement("div",{className:"Field-error"},l.a.createElement("span",null,S?Object(g.a)("audiences.no_list_info",{link:l.a.createElement(s.a,{className:"type--error type--fauxLink--alt",to:"/audiences"})}):Object(g.a)("audiences.no_audience_standard_user_info"))))}h.propTypes={},a.a=h}).call(this,t(27))},2649:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(18),i=t(299),o=t(66),l=t(209),s=t(56),u=t(17),m=t(32),d=t(3);function p(e){var a=e.audience,t=Object(l.h)("peopleCustomFieldSingular"),n=Object(c.useSelector)(u.e),s=a.get("segment")&&"Segment:".concat(a.get("segment").name),p=a.get("listOfConditions")&&a.get("listOfConditions").map((function(e){var a=e.name,r=e.values,c="hireDate"===a&&r[0]?Object(d.a)("hireDateAfter"===r[0].id?"common.date_on_or_after":"common.date_on_or_before",{date:Object(m.e)(r[0].name,o.b)}):r.map((function(e){return e.name})).join(", "),i="category"===a&&t;if(!i){var l=n(a);i=l&&l.singular}return i||(i="hireDate"===a?Object(d.a)("profile_fields.hire_date"):Object(d.a)("profile_fields.".concat(a))),"".concat(i,":").concat(c)})).join(", "),g=a.get("listOfPeople")&&a.get("listOfPeople").map((function(e){return e.name})).join(", "),b=p||g,f=s?"".concat(s,", ").concat(b):b;return r.a.createElement(i.a,null,r.a.createElement("div",{className:"Panel-item"},r.a.createElement("span",{className:"type--500 type--b2"},"".concat(a.get("name")," (").concat(a.get("audienceCount"),")")),r.a.createElement("span",{className:"u-displayBlock type--b4 u-textTruncate"},f)))}p.propTypes={audience:s.a.audience.isRequired},a.a=p},2650:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(18),i=t(2583),o=t(66),l=t(209),s=t(17),u=t(32),m=t(3);a.a=function(e){var a=e.name,t=e.values,n=Object(l.h)("peopleCustomFieldSingular"),d=Object(c.useSelector)(s.e),p="hireDate"===a&&t[0]?Object(m.a)("hireDateAfter"===t[0].id?"common.date_on_or_after":"common.date_on_or_before",{date:Object(u.e)(t[0].name,o.b)}):t.map((function(e){return e.name})).join(", "),g="category"===a&&n;if(!g){var b=d(a);g=b&&b.singular}return g||(g="hireDate"===a?Object(m.a)("profile_fields.hire_date"):Object(m.a)("profile_fields.".concat(a))),r.a.createElement("div",{key:g,className:"u-whiteSpaceNormal"},r.a.createElement(i.a,{title:"".concat(g,":"),whiteSpaceNormal:!0},p))}},2665:function(e,a,t){"use strict";var n=t(1),r=t.n(n),c=t(0),i=t.n(c),o=t(18),l=t(53),s=t(2650),u=t(2593),m=t(2583),d=t(56),p=t(17),g=t(42),b=t(3),f=t(89);function h(e){var a=e.segment,t=e.audience,n=e.showAudienceCount,r=e.showMandatory,o=e.isSegmentsEnabled,d=e.showSegment&&o;return"everyone"===e.recipient?i.a.createElement("strong",null,Object(b.a)("common.everyone_in_org")):i.a.createElement(u.a,{layout:"squashed"},r&&i.a.createElement("div",{className:"u-marg-b--small"},i.a.createElement(m.a,{title:Object(b.a)("common.subscription")},Object(b.a)("field.mandatory.label"))),d&&i.a.createElement("div",null,i.a.createElement(m.a,{title:"".concat(Object(b.a)("common.segment"),":")},a?a.name:Object(b.a)("all_segments.label"))),t&&t.isDeleted?i.a.createElement("div",{className:"type--note type--b2 type--500"},Object(b.a)("common.deleted_audience")):t&&"conditions"===t.type&&t.listOfConditions.map((function(e){var a=e.name,t=e.values;return i.a.createElement(s.a,{key:a,name:a,values:t})}))||t&&"people"===t.type&&i.a.createElement(m.a,{title:"".concat(Object(b.a)("common.person_plural"),":"),isBlock:!0},t.listOfPeople.map((function(e,a){var t=e.peopleId,n=e.name;return i.a.createElement(c.Fragment,{key:t},a>0&&", ",i.a.createElement(l.a,{to:Object(f.l)(t),className:"u-textInheritColor"},n))}))),n&&i.a.createElement("div",{className:"u-marg-t--small"},i.a.createElement(m.a,{title:Object(b.a)("common.user_plural")},Object(g.c)(t.get("audienceCount")))))}h.propTypes={segment:d.a.segmentLite,audience:d.a.audience.isRequired,showAudienceCount:r.a.bool,showMandatory:r.a.bool,showSegment:r.a.bool,isSegmentsEnabled:r.a.bool},h.defaultProps={showAudienceCount:!1,showMandatory:!1,isSegmentsEnabled:!1,showSegment:!0},a.a=Object(o.connect)((function(e){return{customFieldLabel:Object(p.v)(e,"peopleCustomFieldSingular"),isSegmentsEnabled:Object(p.V)(e)}}))(h)},2714:function(e,a,t){"use strict";t.d(a,"b",(function(){return s})),t.d(a,"a",(function(){return u}));var n=t(4),r=t.n(n),c=t(19),i=t(17),o=t(3);function l(e,a){return e.getIn(["audience","values",a])||new r.a.Map}Object(c.a)([l,function(e,a){return a}],(function(e){return e.get("loading",!1)})),Object(c.a)([l,function(e,a){return a}],(function(e){return e.get("loaded",!1)}));var s=Object(c.a)([l,function(e,a){return a}],(function(e){return e.get("result")}));function u(e){var a=function(e,a,t){return{value:e,label:a,disabled:t}},t=new r.a.List(["company","department","division","city","state","country","hireDate","title"]);Object(i.v)(e,"peopleCustomFieldEnabled")&&(t=t.push("category"));var n=Object(i.v)(e,"profileFields").filter((function(e){return t.includes(e.get("name"))})).map((function(t){return a(t.get("name"),"category"===t.get("name")?Object(i.v)(e,"peopleCustomFieldSingular"):Object(o.a)(t.get("name")),!t.get("isUserDisplay")||t.get("isUserEditable"))}));return n=(n=n.concat(Object(i.v)(e,"customFields").filter((function(e){return!!e.get("syncSource")})).map((function(e){return a(e.get("columnName"),e.get("singular"),e.get("isEditable"))})))).sortBy((function(e){return e.label.toLowerCase()}))}},2770:function(e,a,t){"use strict";var n=t(10),r=t.n(n),c=t(11),i=t.n(c),o=t(7),l=t.n(o),s=t(12),u=t.n(s),m=t(13),d=t.n(m),p=t(8),g=t.n(p),b=t(5),f=t.n(b),h=t(4),v=t.n(h),E=t(1),O=t.n(E),y=t(0),j=t.n(y),k=t(18),S=t(355),C=t(221);function w(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=g()(e);if(a){var r=g()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return d()(this,t)}}var N=function(e){u()(t,e);var a=w(t);function t(){var e;r()(this,t);for(var n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return e=a.call.apply(a,[this].concat(c)),f()(l()(e),"load",(function(){var a=e.props,t=a.isLoaded,n=a.isLoading,r=a.load,c=a.url;t||n||r(c)})),e}return i()(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"componentDidUpdate",value:function(e){e.url!==this.props.url&&this.load()}},{key:"render",value:function(){var e=this.props,a=e.children,t=e.embed;return a({isLoading:e.isLoading,isLoaded:e.isLoaded,embed:t})}}]),t}(j.a.Component);N.propTypes={url:O.a.string.isRequired,children:O.a.func},a.a=Object(k.connect)((function(e,a){var t=Object(C.b)(e,a.url)||new v.a.Map;return{embed:t.get("result"),isLoading:t.get("loading")||!1,isLoaded:t.get("loaded")||!1}}),(function(e){return{load:function(a){return e(Object(S.a)(a,{autoplay:!1}))}}}))(N)},2900:function(e,a,t){"use strict";var n=t(16),r=t.n(n),c=t(1),i=t.n(c),o=t(0),l=t.n(o),s=t(2756),u=t(224),m=t(10),d=t.n(m),p=t(11),g=t.n(p),b=t(12),f=t.n(b),h=t(13),v=t.n(h),E=t(8),O=t.n(E),y=t(5),j=t.n(y),k=t(18),S=(t(1018),t(2665),t(125)),C=t(217),w=t(56),N=t(30),I=t(17),_=t(3);function L(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=O()(e);if(a){var r=O()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return v()(this,t)}}var M=function(e){f()(t,e);var a=L(t);function t(){return d()(this,t),a.apply(this,arguments)}return g()(t,[{key:"render",value:function(){var e=this.props,a=e.audience,t=e.segment,n=(e.customFieldLabel,e.isAppManager),r=e.canManage,c=e.isSegmentManager,i=e.recipient,o=e.currentUserSegmentName,s=e.isSegmentsEnabled,u=a||t?"audience":"org",m=Object(_.a)("campaign.audience.all_org");if("audience"===i)return a&&a.isDeleted?l.a.createElement(S.a,{icon:u,label:Object(_.a)("common.deleted_audience"),iconSourceSize:28,fontStyle:"b2",color:"secondary",hasCurrentColorIcon:!0,isInlineBlock:!0}):s&&n&&t&&o!==t.name?l.a.createElement(C.a,{title:"".concat(t.name," | ").concat(a.name),isInline:!0},l.a.createElement(S.a,{icon:u,label:Object(_.a)("common.audience"),iconSourceSize:28,fontStyle:"b2",color:"secondary",hasCurrentColorIcon:!0,isInlineBlock:!0})):s&&!n&&(c||r)&&t&&o!==t.name?l.a.createElement(C.a,{title:"".concat(t.name," ").concat(Object(_.a)("common.audience")),isInline:!0},l.a.createElement(S.a,{icon:u,label:Object(_.a)("common.audience"),iconSourceSize:28,fontStyle:"b2",color:"secondary",hasCurrentColorIcon:!0,isInlineBlock:!0})):n||c||r?l.a.createElement(C.a,{title:"".concat(a.name),isInline:!0},l.a.createElement(S.a,{icon:u,label:Object(_.a)("common.audience"),iconSourceSize:28,fontStyle:"b2",color:"secondary",hasCurrentColorIcon:!0,isInlineBlock:!0})):l.a.createElement(S.a,{icon:u,label:Object(_.a)("common.audience"),iconSourceSize:28,fontStyle:"b2",color:"secondary",hasCurrentColorIcon:!0,isInlineBlock:!0});if("segment"===i){var d=null!=t&&t.name?"".concat(Object(_.a)("common.segment"),": ").concat(t.name):Object(_.a)("common.deleted_segment");return l.a.createElement(C.a,{title:"".concat((null==t?void 0:t.name)||""),isInline:!0},l.a.createElement(S.a,{icon:u,label:d,iconSourceSize:28,fontStyle:"b2",color:"secondary",hasCurrentColorIcon:!0,isInlineBlock:!0}))}return l.a.createElement(S.a,{icon:u,label:m,iconSourceSize:28,fontStyle:"b2",color:"secondary",hasCurrentColorIcon:!0,isInlineBlock:!0})}}]),t}(l.a.PureComponent);j()(M,"propTypes",{audience:w.a.audience,segment:w.a.segmentLite,customFieldLabel:i.a.string.isRequired});var P=Object(k.connect)((function(e){return{customFieldLabel:Object(I.v)(e,"peopleCustomFieldSingular"),isAppManager:Object(N.isCurrentUserAppManager)(e),canManage:Object(N.canCurrentUserManageCampaigns)(e),currentUserSegmentName:Object(N.getCurrentUserSegmentName)(e),isSegmentManager:Object(N.isCurrentUserSegmentManager)(e),isSegmentsEnabled:Object(I.V)(e)}}))(M),R=t(659),F=t(21),D=t(74);function x(e){var a=e.title,t=e.description,n=e.url,c=e.img,i=e.domain,o=e.onShareClick,m=e.optionsMenu,d=e.showCounts,p=e.audience,g=e.segment,b=e.canManageCampaigns,f=e.campaignDescription,h=e.recipient,v=n?Object(D.a)(n):null;return l.a.createElement("div",{className:"CampaignItem ImageOptions-trigger CampaignItem--hasAudienceCount"},l.a.createElement("a",{onClick:o,className:"u-displayBlock",href:o?void 0:v},function(e,a){return e?e&&!a?l.a.createElement("div",{className:"CampaignItem-coverImage u-imageCover u-cursorPointer"},l.a.createElement("div",{className:"CampaignItem-iconContainer"},l.a.createElement(F.a,{name:"albums"}))):l.a.createElement("div",{className:"CampaignItem-coverImage u-imageCover u-cursorPointer",style:{backgroundImage:"url('".concat(a,"')")}}):l.a.createElement("div",{className:"CampaignItem-coverImage u-imageCover u-cursorPointer theme--bg"},l.a.createElement("div",{className:"CampaignItem-iconContainer u-fill--white"},l.a.createElement(F.a,{name:"social-campaign"})))}(n,c)),l.a.createElement("div",{className:"ImageOptions ImageOptions--small"},m,n&&l.a.createElement("a",{href:v,className:"ImageOptions-button ImageOptions-button--externalLink"},l.a.createElement(F.a,{name:"external",sourceSize:16}))),l.a.createElement("div",{className:"CampaignItem-inner"},n&&l.a.createElement("h2",{className:"type--h4 u-marg-b--small"},l.a.createElement("a",{onClick:o,className:"type--title u-cursorPointer",href:o?void 0:v},l.a.createElement(u.a,{length:60},a))),t?l.a.createElement("p",{className:"type--b2 type--secondary"},l.a.createElement(u.a,{length:110},t)):l.a.createElement("p",{className:"type--b2 type--secondary"},l.a.createElement(u.a,{length:110},f)),n&&l.a.createElement("div",{className:"u-marg-t--small"},l.a.createElement(R.a,{url:v},Object(D.o)(i))),(b||"audience"===h)&&l.a.createElement("div",{className:"CampaignItem-audienceCount"},l.a.createElement("div",{className:"CampaignItem-audienceCount-inner"},l.a.createElement(P,{audience:p,segment:g,recipient:h})))),l.a.createElement("div",{className:"CampaignItem-stripContainer"},l.a.createElement("div",{className:"Strip Strip--alt u-cf u-hideIfEmpty"},l.a.createElement(s.a,r()({},e,{showSocialCount:d})))))}x.propTypes={title:i.a.string.isRequired,description:i.a.string,url:i.a.string.isRequired,domain:i.a.string.isRequired,img:i.a.string,onShareClick:i.a.func.isRequired,onCountsClick:i.a.func,hasTwitter:i.a.bool,hasFacebook:i.a.bool,hasLinkedIn:i.a.bool,hasShareButton:i.a.bool,twitterShareCount:i.a.number,twitterHasShared:i.a.bool,facebookShareCount:i.a.number,facebookHasShared:i.a.bool,linkedinShareCount:i.a.number,linkedinHasShared:i.a.bool,optionsMenu:i.a.element,showCounts:i.a.bool,canManageCampaigns:i.a.bool},x.defaultProps={hasTwitter:!0,hasFacebook:!0,hasLinkedIn:!0,hasShareButton:!0,twitterShareCount:0,twitterHasShared:!1,facebookShareCount:0,facebookHasShared:!1,linkedinShareCount:0,linkedinHasShared:!1,showCounts:!0,canManageCampaigns:!1};a.a=x},3411:function(e,a,t){"use strict";(function(e){t.d(a,"a",(function(){return u}));var n=t(5),r=t.n(n),c=t(1015),i=t(590),o=t(478);function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){r()(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function u(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o.a)(s({endpoint:e.Simpplr.Salesforce.Campaign.search,itemActionCreator:c.g,itemSelector:i.e,itemName:"campaigns",keyName:"campaignId"},a))}}).call(this,t(27))},4079:function(e,a,t){"use strict";t.r(a);var n=t(16),r=t.n(n),c=t(0),i=t.n(c),o=t(18),l=t(36),s=t(190),u=t(544),m=t(409),d=t(352),p=t(17),g=t(3),b=t(70),f=t(20),h=t.n(f),v=t(34),E=t.n(v),O=t(10),y=t.n(O),j=t(11),k=t.n(j),S=t(7),C=t.n(S),w=t(12),N=t.n(w),I=t(13),_=t.n(I),L=t(8),M=t.n(L),P=t(5),R=t.n(P),F=t(4),D=t.n(F);function x(e,a,t,n,r){var c=r&&t&&"segment"===e.get("recipient");return new D.a.Map({defaultDescription:e.get("message"),url:e.get("url"),site:null,isActive:!0,oembed:a&&a.get("result"),networks:new D.a.Map(["twitter","facebook","linkedin"].map((function(a){return[a,new D.a.Map({isEnabled:!0===e.getIn(["networks",a],!1)})]}))),recipient:e.get("recipient"),audience:e.get("audience"),segmentId:c?r:null})}var T=t(2912),A=t(1),B=t.n(A),q=t(37),H=t(1015),U=t(14),z=t(2770),V=t(2771),W=t(215);function J(e){var a=e.url;return i.a.createElement(z.a,{url:a},(function(e){var t=e.isLoading,n=e.isLoaded,r=e.embed;return t||!n?i.a.createElement(W.a,{hasBorder:!0}):n&&!r?i.a.createElement(b.a,{message:Object(g.a)("common.error.generate_preview")}):i.a.createElement(V.a,{url:a,title:r.get("title"),img:r.get("thumbnail_url"),description:r.get("description"),domain:r.get("provider_url")})}))}J.propTypes={url:B.a.string.isRequired};var Z=J,Q=t(244),G=t(55),K=t(2648),Y=t(2913),X=t(245),$=t(242),ee=t(656),ae=t(117),te=t(1035),ne=t(2714),re=t(30),ce=t(221),ie=t(47);function oe(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=M()(e);if(a){var r=M()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return _()(this,t)}}var le="CAMPAIGN_FORM",se=Object(q.formValueSelector)(le),ue=function(e){N()(t,e);var a=oe(t);function t(){var e;y()(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return e=a.call.apply(a,[this].concat(r)),R()(C()(e),"onSubmit",function(){var a=E()(h.a.mark((function a(t){var n,r,c,i,o,l;return h.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(n=e.props,r=n.embedTransport,c=n.onAfterSubmit,i=n.isSegmentsEnabled,n.audienceValues,o=n.currentSegmentId,!r||!r.get("loading")){a.next=4;break}return e.props.addStillLoadingWarning(),a.abrupt("return");case 4:if(!r||r.get("result")){a.next=7;break}return e.props.addEmbedError(),a.abrupt("return");case 7:return l=x(t,r,i,0,o),a.next=10,e.props.create(l);case 10:"function"==typeof c&&c();case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),R()(C()(e),"isButtonDisabled",(function(){var a=e.props,t=a.valid,n=a.submitting,r=a.embedTransport,c=r&&(r.get("loading")||!r.get("result"));return!t||n||c})),e}return k()(t,[{key:"render",value:function(){var e=this.props,a=e.url,t=e.enabledNetworks,n=e.selectedNetworks,r=e.isSegmentsEnabled,c=e.handleSubmit,o=e.isAppManager,l=e.submitting,s=e.currentSegmentName,u=n.includes("twitter"),m=[{label:Object(g.a)("campaign.recipients.audience"),value:"audience",icon:"audience"}];return r&&o&&m.unshift({label:Object(g.a)("campaign.recipients.all_org"),value:"everyone",icon:"org",note:Object(g.a)("common.all_segments")}),r&&m.unshift({label:Object(g.a)("campaign.recipients.everyone_in_segment",{segmentName:s}),value:"segment"}),r||m.unshift({label:Object(g.a)("campaign.recipients.all_org"),value:"everyone",icon:"org"}),i.a.createElement("form",{onSubmit:c(this.onSubmit),className:"row"},i.a.createElement("div",{className:"column"},i.a.createElement("header",{className:"Page-header"},i.a.createElement("div",{className:"Page-header-inner"},i.a.createElement("h1",{className:"Page-heading type--h4"},Object(g.a)("campaign.create.title"))))),i.a.createElement("div",{className:"column large-8 large-centered"},i.a.createElement("div",{className:"u-marg-b--xxlarge u-pad-b--xxlarge u-border-bottom"},i.a.createElement("div",{className:"type--h6 type--500 u-marg-b--small"},Object(g.a)("campaign.create.audience.label")),i.a.createElement("div",{className:"u-marg-b--medium"},i.a.createElement("span",{className:"note--alt"},Object(g.a)("campaign.create.audience.note"))),i.a.createElement(q.Field,{component:r?$.a:ee.a,options:m,hasLargeIcons:!0,isFullWidth:!0,name:"recipient",isStacked:!0,isLight:!0}),"audience"===this.props.recipient&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"u-marg-b--mediumlarge u-marg-t--large"},i.a.createElement(q.Field,{component:K.a,name:"audience",isValueModel:!0,hasLabelAbove:!0,label:Object(g.a)("common.audience"),placeholder:Object(g.a)("common.select_placeholder_audience"),validate:[ie.E],isRequired:!0})))),i.a.createElement("div",{className:"Field--hasLabelAbove u-marg-b--xlarge"},i.a.createElement("div",{className:"Field-label"},Object(g.a)("campaign.create.network.label"),i.a.createElement("span",{className:"note note--alt"},Object(g.a)("campaign.create.network.note"))),i.a.createElement(q.Field,{component:Y.a,name:"networks",options:t.map((function(e){return{icon:e,label:Object(g.a)("app.".concat(e)),value:e}})).toArray(),hasBorders:!0,isHorizontal:!0})),i.a.createElement("div",{className:"u-marg-b--xlarge"},i.a.createElement(q.Field,{component:X.a,name:"message",id:"message",label:Object(g.a)("campaign.create.message.label"),note:i.a.createElement("span",{className:"note--alt"},Object(g.a)("campaign.create.message.note")),placeholder:Object(g.a)("campaign.create.message.placeholder"),validate:[ie.E],maxLength:u?te.c:te.b,showRemainingCharactersCount:u,hasLabelAbove:!0,isRequired:!0})),i.a.createElement("div",{className:"u-marg-b--xlarge"},i.a.createElement("div",{className:"u-marg-b--medium"},i.a.createElement(q.Field,{component:ae.a,name:"url",icon:"link",label:Object(g.a)("campaign.create.url.label"),note:i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:"u-lowercase"},"(",Object(g.a)("common.optional"),")"),i.a.createElement("span",{className:"note--alt"},Object(g.a)("campaign.create.url.note"))),placeholder:Object(g.a)("campaign.create.url.placeholder"),validate:[ie.v,ie.w],hasLabelAbove:!0,hasNoInternalLabel:!0})),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"u-hideIfEmpty"},i.a.createElement(Z,{url:a})),i.a.createElement("span",{className:"note note--alt u-marg-t--small"},i.a.createElement("i",null,Object(g.a)("campaign.create.url.preview")))))),i.a.createElement("div",{className:"column"},i.a.createElement("div",{className:"Strip Strip--large Strip--hasLargeButton"},i.a.createElement(Q.a,{className:"Strip-cancel",to:"/campaigns"},Object(g.a)("button_label.cancel")),i.a.createElement(G.a,{label:Object(g.a)("campaign.create.button_label"),type:"submit",appearance:"brand",size:"large",disabled:l}))))}}]),t}(i.a.Component);R()(ue,"propTypes",{onAfterSubmit:B.a.func});var me=Object(o.connect)((function(e){var a=se(e,"url"),t=se(e,"campaign.segment.segmentId"),n=Object(p.g)(e);return{url:a,enabledNetworks:n,isAppManager:Object(re.isCurrentUserAppManager)(e),isSegmentsEnabled:Object(p.V)(e),currentSegmentId:Object(re.getCurrentUserSegmentId)(e),currentSegmentName:Object(re.getCurrentUserSegmentName)(e),selectedNetworks:new D.a.List((se(e,"networks")||new D.a.Map).filter((function(e){return!!e})).keys()),embedTransport:Object(ce.b)(e,a),audienceValues:Object(ne.b)(e,t),recipient:se(e,"recipient"),audience:se(e,"audience"),initialValues:new D.a.Map({networks:new D.a.Map(n.map((function(e){return[e,!0]}))),everyone:"yes",recipient:"everyone"})}}),(function(e){return{create:function(a){return e(Object(H.f)(null,a))},addStillLoadingWarning:function(){return e(Object(U.l)(Object(g.a)("campaign.create.embed_loading_warning")))},addEmbedError:function(){return e(Object(U.f)(Object(g.a)("common.error_message")))}}}))(Object(q.reduxForm)({form:le,validate:T.a,onSubmitFail:ie.H})(ue)),de=t(2611);var pe=Object(de.a)("canManageCampaigns",Object(o.connect)((function(e){return{isEmbedlyEnabled:Object(p.Q)(e,"embedly")}}))((function(e){var a=e.history,t=e.isEmbedlyEnabled;return i.a.createElement("div",{className:"row"},t?i.a.createElement("div",{className:"column"},i.a.createElement("div",{className:"Page"},i.a.createElement(me,{onAfterSubmit:function(){return a.push("/campaigns/latest")}}))):i.a.createElement("div",{className:"column large-9 large-centered"},i.a.createElement(b.a,{message:Object(g.a)("campaign.create.embedly_disabled_warning")})))}))),ge=t(24),be=t.n(ge),fe=t(94),he=t(81),ve=t(241),Ee=t(1003),Oe=t(766),ye=t(227),je=t(168),ke=t(50),Se=t(52),Ce=t(56),we=t(298),Ne=t(929);function Ie(e){var a=e.campaign,t=e.onShare;return i.a.createElement(Ne.a,{name:Se.n,id:a.get("campaignId"),type:"campaign",subjectId:"me",typeLabel:Object(g.a)("common.social_campaign"),url:a.get("url"),urlName:a.get("title"),onShare:t,showShareLinks:!1},i.a.createElement("div",{className:"u-pad--medium"},i.a.createElement("div",{className:"u-displayFlex u-alignItems--center"},i.a.createElement("div",{className:"CampaignItem-shareImage"},i.a.createElement("a",{href:a.getIn(["oembed","url"])},i.a.createElement(je.a,{img:a.getIn(["oembed","thumbnail_url"]),aspectRatio:"landscape"}))),i.a.createElement("div",null,i.a.createElement("div",{className:"type--stamp"},Object(g.a)("campaign.label")),i.a.createElement("h2",{className:"type--h6 u-marg-b--small"},i.a.createElement("a",{href:a.getIn(["oembed","url"]),className:"type--title"},a.getIn(["oembed","title"])))))))}Ie.propTypes={campaign:Ce.a.campaign.isRequired};var _e=Object(o.connect)(null,(function(e,a){return{onShare:function(t){var n=t.merge({body:Object(we.b)(t.get("body")),postType:"campaign"});return Object(we.c)(n.get("body"))>ke.k?e(Object(U.f)(Object(g.a)("feed.create.too_many_mentions"))):e(Object(H.k)(a.campaign.get("campaignId"),n)).then((function(){e(Object(U.j)(Object(g.a)("campaign.share_to_feed.success_flash")))}))}}}))(Ie),Le=t(301),Me=t(590),Pe=t(259);function Re(e){var a=e.campaign,t=e.openModal,n=e.expireCampaign,r=e.deleteCampaign,c=e.addToCarousel,o=e.removeFromCarousel,l=e.canAddToHomeCarousel,s=e.canManage,u=e.canShareToFeed,m=e.isHomeCarouselEnabled;if(!s&&!u)return null;var d=a.get("audience"),p=a.get("segment"),b=d&&d.listOfConditions.size>0||p,f=i.a.createElement(ye.a,{label:Object(g.a)("campaign.share_to_feed.button.label"),onSelect:t(Se.n,a.get("campaignId"))}),h=i.a.createElement(_e,{campaign:a});if(!s)return b?null:i.a.createElement(i.a.Fragment,null,h,i.a.createElement(Ee.a,{icon:"more",isImageOverlay:!0,hasArrow:!0,hasLegacyIcon:!1},f));var v=a.get("isInHomeCarousel",!1);return i.a.createElement(i.a.Fragment,null,h,i.a.createElement(Ee.a,{icon:"more",isImageOverlay:!0,hasArrow:!0,hasLegacyIcon:!1},a.get("isActive")&&i.a.createElement(Oe.a,null,l&&m&&(v?i.a.createElement(ye.a,{label:Object(g.a)("campaign.remove_from_carousel.button.label"),onSelect:function(){return o(a.get("campaignId"))}}):i.a.createElement(ye.a,{label:Object(g.a)("campaign.add_to_carousel.button.label"),onSelect:function(){return c(a.get("campaignId"))}})),!b&&u&&f),i.a.createElement(Oe.a,null,i.a.createElement(ye.a,{label:Object(g.a)("common.analytics"),onSelect:t(Se.m,a.get("campaignId"))}),a.get("isActive")&&i.a.createElement(ye.a,{label:Object(g.a)("campaign.expire.label"),onSelect:t(Se.k,a.get("campaignId"))},i.a.createElement(Le.a,{name:Se.k,id:a.get("campaignId"),onConfirm:n,title:Object(g.a)("campaign.expire.title"),buttonText:Object(g.a)("button_label.expire")},i.a.createElement("p",null,Object(g.a)("campaign.expire.warning")),i.a.createElement("ol",null,i.a.createElement("li",null,Object(g.a)("campaign.expire.consequence1")),i.a.createElement("li",null,Object(g.a)("campaign.expire.consequence2")),i.a.createElement("li",null,Object(g.a)("campaign.expire.consequence3"))),i.a.createElement("strong",{className:"type--500"},Object(g.a)("common.cannot_be_undone"))))),i.a.createElement(Oe.a,null,i.a.createElement(ye.a,{isDanger:!0,label:Object(g.a)("campaign.delete.label"),onSelect:t(Se.j,a.get("campaignId"))},i.a.createElement(Le.a,{name:Se.j,id:a.get("campaignId"),onConfirm:r,title:Object(g.a)("campaign.delete.title"),buttonText:Object(g.a)("button_label.delete")},i.a.createElement("p",null,Object(g.a)("campaign.delete.warning")),i.a.createElement("ol",null,i.a.createElement("li",null,Object(g.a)("campaign.delete.consequence1"))),i.a.createElement("strong",{className:"type--500"},Object(g.a)("common.cannot_be_undone")))))))}Re.propTypes={campaign:B.a.instanceOf(D.a.Map).isRequired,canManage:B.a.bool.isRequired,canShareToFeed:B.a.bool.isRequired};var Fe=Object(o.connect)((function(e,a){return{canAddToHomeCarousel:Object(Pe.b)(e),canShareToFeed:Object(Me.a)(e,a.campaign),isHomeCarouselEnabled:Object(p.P)(e)}}),(function(e,a){return{openModal:function(a,t){return function(){return e(Object(fe.open)(a,t))}},expireCampaign:function(){return e(Object(H.h)(a.campaign.get("campaignId"),!1))},deleteCampaign:function(){return e(Object(H.c)(a.campaign.get("campaignId")))},addToCarousel:function(a){return e(Object(H.a)(a))},removeFromCarousel:function(a){return e(Object(H.e)(a))}}}))(Re),De=t(568),xe=t(2900);function Te(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=M()(e);if(a){var r=M()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return _()(this,t)}}var Ae=function(e){N()(t,e);var a=Te(t);function t(){return y()(this,t),a.apply(this,arguments)}return k()(t,[{key:"render",value:function(){var e=this.props,a=e.campaign,t=e.canManage,n=e.hasTwitter,r=e.hasFacebook,c=e.hasLinkedIn,o=e.onShareClick,l=e.onCountsClick,s=a.get("createdAt"),u=!0===a.get("isActive");return i.a.createElement(i.a.Fragment,null,i.a.createElement(xe.a,{title:a.getIn(["oembed","title"]),description:a.getIn(["oembed","description"]),campaignDescription:a.get("defaultDescription"),domain:a.getIn(["oembed","provider_url"]),img:a.getIn(["oembed","thumbnail_url"]),url:a.get("url"),recipient:a.get("recipient"),hasTwitter:n&&!0===a.getIn(["networks","twitter","isEnabled"]),hasFacebook:r&&!0===a.getIn(["networks","facebook","isEnabled"]),hasLinkedIn:c&&!0===a.getIn(["networks","linkedin","isEnabled"]),hasShareButton:u,twitterShareCount:a.getIn(["networks","twitter","shareCount"])||0,twitterHasShared:!0===a.getIn(["networks","twitter","hasShared"]),facebookShareCount:a.getIn(["networks","facebook","shareCount"])||0,facebookHasShared:!0===a.getIn(["networks","facebook","hasShared"]),linkedinShareCount:a.getIn(["networks","linkedin","shareCount"])||0,linkedinHasShared:!0===a.getIn(["networks","linkedin","hasShared"]),onShareClick:u?o:null,onCountsClick:t?l:null,isShareButtonPrimary:!t,optionsMenu:i.a.createElement(Fe,{canManage:t,campaign:a}),audience:a.get("audience"),segment:a.get("segment"),showCounts:t,canManageCampaigns:t}),s&&i.a.createElement("div",{className:"type--secondary type--b5 u-marg-t--small"},Object(g.a)("campaign.publish_date"),i.a.createElement(De.a,{createdAt:s,isLowercase:!0})))}}]),t}(he.b);function Be(e){var a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,n=M()(e);if(a){var r=M()(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return _()(this,t)}}R()(Ae,"propTypes",{campaign:B.a.instanceOf(D.a.Map).isRequired,canManage:B.a.bool,hasTwitter:B.a.bool,hasFacebook:B.a.bool,hasLinkedIn:B.a.bool,onShareClick:B.a.func,onCountsClick:B.a.func}),R()(Ae,"defaultProps",{canManage:!1,hasTwitter:!1,hasFacebook:!1,hasLinkedIn:!1});var qe=function(e){N()(t,e);var a=Be(t);function t(){return y()(this,t),a.apply(this,arguments)}return k()(t,[{key:"render",value:function(){var e=this.props,a=e.campaigns,t=e.isLoading,n=e.canPaginate,r=e.onLoadMore,c=e.canManage,o=e.hasTwitter,l=e.hasFacebook,s=e.hasLinkedIn,u=e.handleShareClick,m=e.handleCountsClick;return 0===a.size?t?i.a.createElement(W.a,null):i.a.createElement(b.a,null):i.a.createElement("div",null,i.a.createElement("ul",{className:"u-blockList u-blockList--noBottom u-blockList--flex u-blockList-medium-2 u-blockList-large-3"},a.map((function(e){return i.a.createElement("li",{key:e.get("campaignId"),className:"u-pad-b--large"},i.a.createElement(Ae,{campaign:e,canManage:c,hasTwitter:o,hasFacebook:l,hasLinkedIn:s,onShareClick:u(e.get("campaignId")),onCountsClick:m(e.get("campaignId"))}))})).toArray()),i.a.createElement(ve.a,{canLoad:n,onLoad:r,isLoading:t}))}}]),t}(he.b);R()(qe,"propTypes",{campaigns:B.a.instanceOf(D.a.List),isLoading:B.a.bool,canPaginate:B.a.bool,onLoadMore:B.a.func,canManage:B.a.bool,hasTwitter:B.a.bool,hasFacebook:B.a.bool,hasLinkedIn:B.a.bool,handleShareClick:B.a.func,handleCountsClick:B.a.func}),R()(qe,"defaultProps",{canManage:!1,hasTwitter:!1,hasFacebook:!1,hasLinkedIn:!1});var He=t(1013),Ue=t(147),ze=t(274),Ve=t(2896),We=t(2897),Je=t(3411),Ze=t(209),Qe=t(1137),Ge=t(444);var Ke=function(e){var a=e.match.params.filter,t=Object(Ze.h)("socialCampaignsPolicyUrl"),n=Object(o.useSelector)(p.g),r=Object(o.useSelector)(re.getCurrentUserConnectedSocialNetworks),l=Object(o.useSelector)(re.canCurrentUserManageCampaigns),s=Object(o.useDispatch)(),u=Object(Ge.a)(),m=Object(c.useState)(),d=be()(m,2),b=d[0],f=d[1],h=Object(Qe.a)().campaignId,v="expired"===a?Me.e:Me.b,E=Object(Je.a)({itemSelector:v,initialParams:new D.a.Map({filter:"expired"===a?a:void 0,sortBy:"expired"===a?void 0:a,size:12})}),O=E.campaigns,y=E.loading,j=E.loadMore,k=E.canPaginate,S=Object(c.useCallback)((function(e){return function(){return s(Object(fe.open)(Se.l,e))}}),[]),C=Object(c.useCallback)((function(e){return function(){return s(Object(fe.open)(Se.m,e))}}),[]);Object(c.useEffect)((function(){h&&s(Object(H.d)(h)).then((function(){f(h),S(h)()}))}),[]);var w=Object(o.useSelector)((function(e){return Object(Me.c)(e,b)}));return i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"column"},i.a.createElement("div",{className:"Page"},i.a.createElement("header",{className:"Page-header"},i.a.createElement("div",{className:"Page-header-inner"},i.a.createElement("h1",{className:"Page-heading type--h4"},Object(g.a)("campaign.label_plural")),i.a.createElement(He.a,{name:"campaigns",popperPosition:"right-start",position:{top:-12,left:150,right:"auto"}})),i.a.createElement("div",{className:"Page-tabsContainer"},i.a.createElement(ze.a,{hasNoBorder:!0,isPadded:!1},i.a.createElement(Ue.a,{to:"/campaigns/latest",label:Object(g.a)("common.latest")}),i.a.createElement(Ue.a,{to:"/campaigns/popular",label:Object(g.a)("common.popular")}),l&&i.a.createElement(Ue.a,{to:"/campaigns/expired",label:Object(g.a)("common.expired")}))),l&&"mobile"!==u&&i.a.createElement("div",{className:"Page-buttonContainer u-floatRight"},i.a.createElement(G.a,{linkTo:"/campaigns/add",appearance:"brand"},Object(g.a)("campaign.create.label")))),t&&i.a.createElement("div",{className:"u-textRight u-neg-t--medium u-marg-b--medium"},i.a.createElement("a",{href:t},Object(g.a)("campaign.policy_label"))),w&&i.a.createElement(We.a,{campaign:w,enabledNetworks:n,connectedNetworks:r}),O.filter((function(e){return e.get("campaignId")!==b})).map((function(e){return i.a.createElement(We.a,{key:e.get("campaignId"),campaign:e,enabledNetworks:n,connectedNetworks:r})})),O.map((function(e){return i.a.createElement(Ve.a,{key:e.get("campaignId"),campaign:e,enabledNetworks:n,canViewAnalytics:l})})),i.a.createElement(qe,{campaigns:O,isLoading:y,canPaginate:k,onLoadMore:j,canManage:l,hasTwitter:n.contains("twitter"),hasFacebook:n.contains("facebook"),hasLinkedIn:n.contains("linkedin"),handleShareClick:S,handleCountsClick:C}))))};a.default=Object(o.connect)((function(e){return{isEnabled:Object(p.B)(e)}}))((function(e){return e.isEnabled?i.a.createElement(s.a,r()({},d.d,{text:Object(g.a)("page_title.campaigns")}),i.a.createElement(u.a,null,i.a.createElement(l.b,{exact:!0,from:"/campaigns",to:"/campaigns/latest"}),i.a.createElement(l.c,{exact:!0,path:"/campaigns/add",component:pe}),i.a.createElement(l.c,{exact:!0,path:"/campaigns/:filter",component:Ke}),i.a.createElement(l.c,{component:m.a}))):i.a.createElement(m.a,null)}))}}]);