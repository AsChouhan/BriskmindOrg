(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{2602:function(e,t,a){"use strict";var o=a(4),n=a.n(o),r=a(1),c=a.n(r),i=a(0),s=a.n(i),l=a(2616),d=a(2638),u=a(1999),m=a(241),p=a(70),h=a(1003),f=a(227),g=a(215),w=a(3),v=Object(l.c)((function(){return s.a.createElement("span",{className:"DragHandle u-marg-t--xsmall",style:{width:"20px"},"aria-label":Object(w.a)("field.link_url.handle_aria_label")})})),b=function(e){var t=e.content,a=e.onMoveToTop,o=e.onMoveToBottom,n=e.isFirst,r=e.isLast;return!(n&&r)&&s.a.createElement("div",{className:"ListingItem-sortHandleContainer"},s.a.createElement("div",{className:"ListingItem-optionsContainer"},s.a.createElement(h.a,null,!n&&s.a.createElement(f.a,{label:Object(w.a)("common.move_to_top"),onSelect:function(){a(t.get("contentId"))}}),!r&&s.a.createElement(f.a,{label:Object(w.a)("common.move_to_bottom"),onSelect:function(){o(t.get("contentId"))}}))),s.a.createElement(v,null))};function E(e){var t=e.hasMaxWidth,a=e.isLoading,o=e.canPaginate,n=e.onLoadMore,r=e.utmParams,c=e.canReorder,i=e.onReorder,l=e.onMoveToTop,h=e.onMoveToBottom,f=e.showType;if(0===e.content.size)return a?s.a.createElement(g.a,null):s.a.createElement(p.a,null);var w=c?b:void 0,v=e.content.first().get("contentId"),E=e.content.last().get("contentId"),S=e.content.map((function(t){return s.a.createElement(u.a,{id:t.get("contentId"),hasSiteImageFallback:e.hasSiteImageFallback,showFavorite:e.showFavorite,size:e.size,showSite:e.showSite,content:t,hideFollowingTopics:e.hideFollowingTopics,hideTypeStamp:e.hideTypeStamps,showType:f,hideExcerpt:e.hideExcerpt,hideMeta:e.hideMeta,key:t.get("id"),showExplicitMustRead:e.showExplicitMustRead,showMustReadMeta:e.showMustReadMeta,hasJustFavorite:e.hasJustFavorite,utmParams:r,showSeperator:e.showSeperator,optionsMenuComponent:w,onMoveToTop:l,onMoveToBottom:h,isFirst:v===t.get("contentId"),isLast:E===t.get("contentId")})}));return c&&(S=s.a.createElement(d.a,{useDragHandle:!0,onSortEnd:i,showSeperator:e.showSeperator},S)),s.a.createElement("div",null,s.a.createElement("ul",{className:t?"u-size-readable":""},S),s.a.createElement("div",{className:"u-neg-t--medium"},s.a.createElement(m.a,{canLoad:o,onLoad:n,isLoading:a})))}E.propTypes={content:c.a.instanceOf(n.a.Iterable),isLoading:c.a.bool,canPaginate:c.a.bool,onLoadMore:c.a.func,hideFollowingTopics:c.a.bool,hideTypeStamps:c.a.bool,hideExcerpt:c.a.bool,hideMeta:c.a.bool,showFavorite:c.a.bool,hasSiteImageFallback:c.a.bool,showExplicitMustRead:c.a.bool,hasJustFavorite:c.a.bool,showSite:c.a.bool,hasMaxWidth:c.a.bool,showSeperator:c.a.bool,utmParams:c.a.shape({}),canReorder:c.a.bool,onReorder:c.a.func,onMoveToTop:c.a.func,onMoveToBottom:c.a.func,size:c.a.oneOf(["micro","small","medium","large"])},E.defaultProps={hideTypeStamps:!1,hideFollowingTopics:!0,showFavorite:!1,hasJustFavorite:!0,hasSiteImageFallback:!1,showExplicitMustRead:!0,hasMaxWidth:!1,utmParams:{},showSeperator:!0},t.a=E},2638:function(e,t,a){"use strict";var o=a(31),n=a.n(o),r=a(24),c=a.n(r),i=a(15),s=a.n(i),l=a(1),d=a.n(l),u=a(0),m=a.n(u),p=a(2616),h=Object(p.b)((function(e){var t=e.children,a=e.showDragCursor,o=e.showSeperator;return m.a.createElement("div",{className:s()({"DraggableList-item":!0,"DraggableList-item--showDragCursor":a,"DraggableList-item--showSeperator":o})},t)})),f=Object(p.a)((function(e){var t=e.order,a=e.lookup,o=e.showDragCursor,n=e.showSeperator;return m.a.createElement("div",{className:"DraggableList"},t.map((function(e,t){return m.a.createElement(h,{key:"item-".concat(e),index:t,showDragCursor:o,showSeperator:n},a[e]&&m.a.cloneElement(a[e],{id:void 0}))})))}));function g(e){var t=e.children,a=e.showSeperator,o=e.onSortEnd,r=e.useDragHandle,i=e.showDragCursor,s=e.lockAxis,l=e.axis,d={},p=m.a.Children.toArray(t).filter(Boolean).map((function(e){var t=e.props.id;return t||console.warn("Elements passed into DraggableList must have an id prop."),d[t]&&console.warn("Duplicate id passed into DraggableList, ids must be unique."),d[t]=e,t})),h=Object(u.useState)(p),g=c()(h,2),w=g[0],v=g[1];Object(u.useEffect)((function(){v(p)}),[p.join("|")]);var b=Object(u.useCallback)((function(e){var t=e.oldIndex,a=e.newIndex,r=n()(w);r.splice(t,1),r.splice(a,0,w[t]),v(r),o(r)}),[w]);return m.a.createElement(f,{lookup:d,order:w,useWindowAsScrollContainer:!0,lockAxis:s&&l,distance:10,onSortEnd:b,useDragHandle:r,showDragCursor:i,showSeperator:a})}g.propTypes={children:d.a.node,useDragHandle:d.a.bool,onSortEnd:d.a.func,lockAxis:d.a.bool,axis:d.a.oneOf(["x","y","xy"])},g.defaultProps={lockAxis:!0,axis:"y"},g.propTypes={onSortEnd:function(){}},t.a=g},3747:function(e,t,a){"use strict";var o=a(4),n=a.n(o),r=a(1),c=a.n(r),i=a(0),s=a.n(i),l=a(2602),d=a(2594),u=a(89);function m(e){var t=e.match.params.topicId,a=Object(d.a)({initialParams:new n.a.Map({topicId:t,filter:"topic",sortBy:"createdNewest"})}),o=a.content,r=a.loading,c=a.loadMore,i=a.canPaginate,m=Object(u.c)("topic_content_listing");return s.a.createElement(l.a,{content:o,isLoading:r,canPaginate:i,onLoadMore:c,showFavorite:!1,hasMaxWidth:!0,utmParams:m,hasSiteImageFallback:!0})}m.propTypes={match:c.a.shape({params:c.a.shape({topicId:c.a.string.isRequired})})},t.a=m},3748:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var o=a(0),n=a.n(o),r=a(1255),c=a(296);function i(e){var t=e.match.params.topicId;return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"large-8 large-centered column"},n.a.createElement(r.a,{subjectId:t,type:"record",sort:"date",feedContext:c.a.topic,canPost:!1,showNoResultsMessage:!0})))}},4068:function(e,t,a){"use strict";a.r(t),function(e){var o=a(10),n=a.n(o),r=a(11),c=a.n(r),i=a(7),s=a.n(i),l=a(12),d=a.n(l),u=a(13),m=a.n(u),p=a(8),h=a.n(p),f=a(5),g=a.n(f),w=a(0),v=a.n(w),b=a(18),E=a(36),S=a(1020),M=a(839),F=a(190),x=a(544),y=a(129),I=a(147),T=a(274),L=a(296),D=a(756),N=a(17),O=a(3),j=a(3747),k=a(3748);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,o=h()(e);if(t){var n=h()(this).constructor;a=Reflect.construct(o,arguments,n)}else a=o.apply(this,arguments);return m()(this,a)}}var R=function(t){d()(o,t);var a=P(o);function o(){var t;n()(this,o);for(var r=arguments.length,c=new Array(r),i=0;i<r;i++)c[i]=arguments[i];return t=a.call.apply(a,[this].concat(c)),g()(s()(t),"state",{loading:!1,loaded:!1,topic:null}),g()(s()(t),"triggerLoad",(function(a){t.setState({loaded:!1,loading:!0,topic:null}),e.Simpplr.Salesforce.Topic.get(a).done((function(e){var a=e.result;t.setState({loaded:!0,loading:!1,topic:Object(D.a)(a)})})).fail((function(e){e.result;t.setState({loading:!1})}))})),g()(s()(t),"setFollowing",(function(a){var o=t.state.topic;t.setState({topic:o.set("isFollowing",a)}),e.Simpplr.Salesforce.Topic.setFollowing(o.topicId,a)})),g()(s()(t),"follow",(function(){return t.setFollowing(!0)})),g()(s()(t),"unfollow",(function(){return t.setFollowing(!1)})),g()(s()(t),"renderFollow",(function(){var e=t.state.topic;return v.a.createElement(M.a,{size:"small",context:"topic",appearance:e.isFollowing?"normal":"brand",isFollowing:e.isFollowing,onFollow:t.follow,onUnfollow:t.unfollow})})),t}return c()(o,[{key:"componentDidMount",value:function(){var e=this.props.match.params.topicId;this.triggerLoad(e)}},{key:"componentDidUpdate",value:function(e){var t=this.props.match.params.topicId;t!==e.match.params.topicId&&this.triggerLoad(t)}},{key:"render",value:function(){var e=this.props,t=e.isFeedEnabled,a=e.feedMode,o=this.state,n=o.topic,r=o.loading,c=o.loaded,i=a!==L.d.TIMELINE;if(r)return v.a.createElement(y.a,null);if(!c)return v.a.createElement(S.a,null);var s="".concat(Object(O.a)("common.topic"),": ").concat(n.name);return v.a.createElement("div",{className:"row"},v.a.createElement(F.a,{name:"TopicDetail",text:s}),v.a.createElement("div",{className:"column"},v.a.createElement("div",{className:"Page"},v.a.createElement("header",{className:"Page-header"},v.a.createElement("div",{className:"Page-header-inner"},v.a.createElement("h1",{className:"Page-heading type--h4"},s),v.a.createElement("span",{className:"u-marg-l--medium"},this.renderFollow())),t&&v.a.createElement("div",{className:"Page-tabsContainer"},v.a.createElement(T.a,{isPadded:!1,hasNoBorder:!0,isSubNav:!0},i&&v.a.createElement(I.a,{label:Object(O.a)("common.feed"),to:"/topic/".concat(n.id,"/feed")}),v.a.createElement(I.a,{label:Object(O.a)("common.content"),to:"/topic/".concat(n.id,"/content")})))),v.a.createElement(x.a,null,v.a.createElement(E.b,{exact:!0,from:"/topic/".concat(n.id),to:"/topic/".concat(n.id,"/").concat(t&&i?"feed":"content")}),t&&i&&v.a.createElement(E.c,{exact:!0,path:"/topic/:topicId/feed",component:k.a}),v.a.createElement(E.c,{exact:!0,path:"/topic/:topicId/content",component:j.a})))))}}]),o}(v.a.Component);t.default=Object(b.connect)((function(e){return{isFeedEnabled:Object(N.L)(e),feedMode:Object(N.i)(e)}}))(R)}.call(this,a(27))}}]);